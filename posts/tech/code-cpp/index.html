<!doctype html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>C&#43;&#43;基础查漏补缺 - 理想奈的博客</title><link rel="apple-touch-icon" href="/images/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/images/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/images/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/images/favicons/manifest.json">
<link rel="icon" href="/images/favicons/favicon.ico">
<meta name="keywords" content="" />
<meta name="description" content="" /><meta itemprop="name" content="C&#43;&#43;基础查漏补缺">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2024-10-28T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2024-10-28T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="34470">
<meta itemprop="keywords" content=",,," /><meta property="og:title" content="C&#43;&#43;基础查漏补缺" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/tech/code-cpp/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-10-28T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2024-10-28T00:00:00&#43;00:00" /><meta property="og:site_name" content="理想奈的博客" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="C&#43;&#43;基础查漏补缺"/>
<meta name="twitter:description" content=""/>
<meta data-name="palette" content="blue"><link rel=stylesheet href="/css/bundle.min.d63d5781d5b3b2441c3e0c8ba081eb171c0ae292f799670fe6d38f68e3a2816d.css" integrity="sha256-1j1XgdWzskQcPgyLoIHrFxwK4pL3mWcP5tOPaOOigW0=" crossorigin="anonymous"><script src="/js/bundle.min.1c471eeba442e80350b91324d765b69b27af83f0de35d552aa2a410bac6ee793.js" integrity="sha256-HEce66RC6ANQuRMk12W2myevg/DeNdVSqipBC6xu55M=" crossorigin="anonymous"></script>
<script type="text/javascript">
	document.addEventListener("DOMContentLoaded", function() {
  renderMathInElement(document.body, {
    delimiters: [
      {left: "$$", right: "$$", display: true},
      {left: "$", right: "$", display: false}
    ],
    macros: {
      "\\ge": "\\geqslant",
      "\\le": "\\leqslant",
      "\\geq": "\\geqslant",
      "\\leq": "\\leqslant"
	}
  });
}); 
</script>
<meta property="og:type" content="index"/>
<meta property="og:title" content="Unzybaryl`s Sekai" />
<meta property="og:image" content="https://eustia.me/images/profile1.jpg" />
<meta property="og:url" content="https://eustia.me/" />





<script type="text/javascript" src="/js/Valine.min.js"></script>
<script type="text/javascript" src="/js/cave-draw.min.js"></script>
<link rel="stylesheet" type="text/css" href="/js/katex.min.css">
<script type="text/javascript" src="/js/katex.min.js"></script>
<script type="text/javascript" src="/js/auto-render.min.js"></script>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" type="text/css" href="/js/font.css">

</head><body><header><nav class="navbar navbar-expand-xl fixed-top">
  <div class="container">
    <a class="navbar-brand" href="/">
      
      
      さぁ、君、取りたまえ
      
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-1 mb-2 mb-lg-0"><form class="search-bar d-flex ms-1" action="/search">
  <div class="input-group input-group-sm">
    <button class="btn btn-search disabled position-absolute left-0" type="submit"><i class="fas fa-fw fa-search"></i></button>
    <input class="form-control rounded-pill" id="searchQuery" name="q" type="search" aria-label="Search">
  </div>
</form></ul><ul class="navbar-nav me-1 mb-2 mb-lg-0 me-1 ms-auto"><li class="nav-item">
          <a class="nav-link" href="/archives">
            <i class="fas fa-fw fa-file-archive"></i>归档
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/about/">
            <i class="fas fa-fw fa-info-circle"></i>关于
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/bin/">
            <i class="fas fa-fw fa-bookmark"></i>废案
          </a>
        </li><li class="nav-item">
  <a class="nav-link" data-bs-toggle="offcanvas" href="#offcanvasSettings" role="button"
    aria-controls="offcanvasSettings">
    <i class="fas fa-fw fa-sliders-h"></i> 设置
  </a>
</li>

<div class="offcanvas offcanvas-end surface h-100" tabindex="-1" id="offcanvasSettings"
  aria-labelledby="offcanvasSettingsLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" w id="offcanvasSettingsLabel"><i class="fas fa-fw fa-sliders-h"></i> 设置</h5>
    <a role="button" data-bs-dismiss="offcanvas" aria-label="Close">
      <span class="fas fa-2x fa-fw fa-times"></span>
    </a>
  </div>
  <div class="offcanvas-body"><section class="setting">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-adjust"></i> 模式</label>
    </div>
    <div class="col-auto ms-auto">
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="modeSwitcher">
      </div>
    </div>
  </form>
</section>
<section class="setting">
  <form class="font-size-switcher-form row">
    <div class="col-auto">
      <label for="fontSize" class="form-label"><i class="fas fa-fw fa-font"></i> 字体大小</label>
    </div>
    <div class="col-auto ms-auto">
      <input type="range" class="form-range" min="-2" max="2" id="fontSize">
    </div>
  </form>
</section>

</div>
</div></ul>
    </div>
  </div>
</nav>
</header>
<main role="main" class="container">
      <div class="row content">
<div class="col-lg-8">
  <div class="container"><nav class="row" aria-label="breadcrumb">
  <ol class="breadcrumb surface"><li class="breadcrumb-item"><a href="/">主页</a></li><li class="breadcrumb-item"><a href="/posts/">文章</a></li><li class="breadcrumb-item"><a href="/posts/tech/">Tech</a></li><li class="breadcrumb-item active">C&#43;&#43;基础查漏补缺</li></ol>
</nav><article class="post row surface"><div class="post-panel-wrapper">
  <div class="post-panel d-flex flex-column">
    <a id="sidebarToggler" class="action d-none d-lg-block" role="button">
  <i class="fas fa-fw fa-expand-alt fa-rotate-45"></i>
</a>
  
    

    
    <a class="action" data-bs-container="body" data-bs-toggle="popover" data-bs-html="true" data-bs-placement="bottom"
  data-bs-trigger="focus" tabindex="0"
  data-bs-content="&lt;a target=&#34;_blank&#34; rel=&#34;license&#34; href=&#34;https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh&#34;&gt;CC BY-NC-ND 4.0 &lt;i class=&#34;fab fa-fw fa-creative-commons&#34;&gt;&lt;/i&gt;&lt;i class=&#34;fab fa-fw fa-creative-commons-by&#34;&gt;&lt;/i&gt;&lt;i class=&#34;fab fa-fw fa-creative-commons-nc&#34;&gt;&lt;/i&gt;&lt;i class=&#34;fab fa-fw fa-creative-commons-nd&#34;&gt;&lt;/i&gt;&lt;/a&gt;
">
  <i class="fas fa-fw fa-copyright"></i>
</a>
    <a id="btnTOC" class="fas fa-fw fa-list-alt" data-bs-toggle="offcanvas" href="#offcanvasTOC" aria-controls="offcanvasTOC" role="button">
</a>
  </div>
</div>
<h1 class="post-title my-3">C&#43;&#43;基础查漏补缺
</h1><div class="post-meta mb-3">
  <span class="post-date me-2">
    <i class="fas fa-fw fa-calendar-alt"></i>2024-10-28
  </span>
  <span class="post-reading-time me-2">
    <i class="fas fa-fw fa-coffee"></i>69 分钟阅读
  </span>
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/" class="post-taxonomy">#计算机</a></div>



                
                <div class="addthis_inline_share_toolbox"></div>
            <div class="offcanvas offcanvas-end surface" tabindex="-1" id="offcanvasTOC" aria-labelledby="offcanvasTOCLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasTOCLabel">目录</h5>
    <a role="button" data-bs-dismiss="offcanvas" aria-label="Close">
      <span class="fas fa-2x fa-fw fa-times"></span>
    </a>
  </div>
  <div class="offcanvas-body">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#1常量">1.常量</a></li>
    <li><a href="#2数据类型">2.数据类型</a>
      <ul>
        <li><a href="#整型">整型</a></li>
        <li><a href="#浮点型">浮点型</a></li>
        <li><a href="#字符型">字符型</a></li>
        <li><a href="#字符串">字符串</a></li>
        <li><a href="#布尔值">布尔值</a></li>
      </ul>
    </li>
    <li><a href="#3运算符">3.运算符</a>
      <ul>
        <li><a href="#算术运算符">算术运算符</a></li>
        <li><a href="#赋值运算符">赋值运算符</a></li>
        <li><a href="#比较运算符">比较运算符</a></li>
        <li><a href="#逻辑运算符">逻辑运算符</a></li>
      </ul>
    </li>
    <li><a href="#4程序流程结构">4.程序流程结构</a>
      <ul>
        <li><a href="#if">if</a></li>
        <li><a href="#三元运算符">三元运算符</a></li>
        <li><a href="#switch">switch</a></li>
        <li><a href="#while">while</a></li>
        <li><a href="#dowhile">do&hellip;while</a></li>
        <li><a href="#for">for</a></li>
        <li><a href="#跳转语句">跳转语句</a></li>
        <li><a href="#break">break</a></li>
        <li><a href="#continue">continue</a></li>
        <li><a href="#goto">goto</a></li>
      </ul>
    </li>
    <li><a href="#5数组">5.数组</a>
      <ul>
        <li><a href="#一维数组">一维数组</a></li>
        <li><a href="#二维数组">二维数组</a></li>
      </ul>
    </li>
    <li><a href="#6函数">6.函数</a>
      <ul>
        <li><a href="#函数的定义">函数的定义</a></li>
        <li><a href="#函数的调用">函数的调用</a></li>
        <li><a href="#值传递">值传递</a></li>
        <li><a href="#函数的常见样式">函数的常见样式</a></li>
        <li><a href="#函数的声明">函数的声明</a></li>
        <li><a href="#函数的分文件编写">函数的分文件编写</a></li>
      </ul>
    </li>
    <li><a href="#7指针">7.指针</a>
      <ul>
        <li><a href="#指针所占内存空间">指针所占内存空间</a></li>
        <li><a href="#空指针和野指针">空指针和野指针</a></li>
        <li><a href="#const修饰指针">const修饰指针</a></li>
        <li><a href="#指针和数组">指针和数组</a></li>
        <li><a href="#指针和函数">指针和函数</a></li>
      </ul>
    </li>
    <li><a href="#8结构体">8.结构体</a>
      <ul>
        <li><a href="#结构体定义和使用">结构体定义和使用</a></li>
        <li><a href="#结构体数组">结构体数组</a></li>
        <li><a href="#结构体指针">结构体指针</a></li>
        <li><a href="#结构体嵌套结构体">结构体嵌套结构体</a></li>
        <li><a href="#结构体做函数参数">结构体做函数参数</a></li>
        <li><a href="#结构体中-const使用场景">结构体中 const使用场景</a></li>
      </ul>
    </li>
    <li><a href="#9内存分区模型">9.内存分区模型</a>
      <ul>
        <li><a href="#程序运行前">程序运行前</a></li>
        <li><a href="#程序运行后">程序运行后</a></li>
        <li><a href="#new操作符">new操作符</a></li>
      </ul>
    </li>
    <li><a href="#10引用">10.引用</a>
      <ul>
        <li><a href="#引用的基本使用">引用的基本使用</a></li>
        <li><a href="#引用注意事项">引用注意事项</a></li>
        <li><a href="#引用做函数参数">引用做函数参数</a></li>
        <li><a href="#引用做函数返回值">引用做函数返回值</a></li>
        <li><a href="#引用的本质">引用的本质</a></li>
        <li><a href="#常量引用">常量引用</a></li>
      </ul>
    </li>
    <li><a href="#11函数提高">11.函数提高</a>
      <ul>
        <li><a href="#函数默认参数">函数默认参数</a></li>
        <li><a href="#函数占位参数">函数占位参数</a></li>
      </ul>
    </li>
    <li><a href="#12函数重载">12.函数重载</a>
      <ul>
        <li><a href="#函数重载概述">函数重载概述</a></li>
        <li><a href="#函数重载注意事项">函数重载注意事项</a></li>
      </ul>
    </li>
    <li><a href="#13类和对象">13.类和对象</a>
      <ul>
        <li><a href="#封装">封装</a></li>
        <li><a href="#struct和class区别">struct和class区别</a></li>
        <li><a href="#成员属性设置为私有">成员属性设置为私有</a></li>
        <li><a href="#对象的初始化和清理">对象的初始化和清理</a></li>
        <li><a href="#c对象模型和this指针">C++对象模型和this指针</a></li>
        <li><a href="#友元">友元</a></li>
        <li><a href="#运算符重载">运算符重载</a></li>
        <li><a href="#继承">继承</a></li>
        <li><a href="#多态">多态</a></li>
      </ul>
    </li>
    <li><a href="#14文件操作">14.文件操作</a>
      <ul>
        <li><a href="#文本文件">文本文件</a></li>
        <li><a href="#二进制文件">二进制文件</a></li>
      </ul>
    </li>
    <li><a href="#15模板">15.模板</a>
      <ul>
        <li><a href="#模板的概念">模板的概念</a></li>
        <li><a href="#函数模板">函数模板</a></li>
        <li><a href="#类模板">类模板</a></li>
      </ul>
    </li>
    <li><a href="#16stl初识">16.STL初识</a>
      <ul>
        <li><a href="#stl基本概念">STL基本概念</a></li>
        <li><a href="#stl六大组件">STL六大组件</a></li>
        <li><a href="#stl中容器算法迭代器">STL中容器、算法、迭代器</a></li>
        <li><a href="#容器算法迭代器初识">容器算法迭代器初识</a></li>
      </ul>
    </li>
    <li><a href="#17stl--常用容器">17.STL- 常用容器</a>
      <ul>
        <li><a href="#string容器">string容器</a></li>
        <li><a href="#vector容器">vector容器</a></li>
        <li><a href="#deque容器">deque容器</a></li>
        <li><a href="#stack容器">stack容器</a></li>
        <li><a href="#queue-容器">queue 容器</a></li>
        <li><a href="#list容器">list容器</a></li>
        <li><a href="#set-multiset-容器">set/ multiset 容器</a></li>
        <li><a href="#map-multimap容器">map/ multimap容器</a></li>
      </ul>
    </li>
    <li><a href="#18stl--函数对象">18.STL- 函数对象</a>
      <ul>
        <li><a href="#函数对象">函数对象</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div><div class="post-content mb-3" ><p>快速回顾一下, 简单的就不记了.</p>
<h2 id="1常量">1.常量</h2>
<p><strong>作用</strong>：用于记录程序中不可更改的数据</p>
<p>C++定义常量两种方式</p>
<ol>
<li>
<p><strong>#define</strong> 宏常量： <code>#define 常量名 常量值</code></p>
<ul>
<li>通常在文件上方定义，表示一个常量</li>
</ul>
</li>
<li>
<p><strong>const</strong>修饰的变量 <code>const 数据类型 常量名 = 常量值</code></p>
<ul>
<li>通常在变量定义前加关键字const，修饰该变量为常量，不可修改</li>
</ul>
</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//1、宏常量
</span><span class="ln"> 2</span><span class="c1"></span><span class="cp">#define day 7
</span><span class="ln"> 3</span><span class="cp"></span>
<span class="ln"> 4</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;一周里总共有 &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">day</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 天&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="c1">//day = 8;  //报错，宏常量不可以修改
</span><span class="ln"> 8</span><span class="c1"></span>
<span class="ln"> 9</span>	<span class="c1">//2、const修饰变量
</span><span class="ln">10</span><span class="c1"></span>	<span class="k">const</span> <span class="kt">int</span> <span class="n">month</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
<span class="ln">11</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;一年里总共有 &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">month</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 个月份&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span>	<span class="c1">//month = 24; //报错，常量是不可以修改的
</span><span class="ln">13</span><span class="c1"></span>	
<span class="ln">14</span>	
<span class="ln">15</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">18</span><span class="p">}</span>
</code></pre></div><h2 id="2数据类型">2.数据类型</h2>
<h3 id="整型">整型</h3>
<p>C++中能够表示整型的类型有以下几种方式，<strong>区别在于所占内存空间不同</strong>：</p>
<table>
<thead>
<tr>
<th><strong>数据类型</strong></th>
<th><strong>占用空间</strong></th>
<th>取值范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>short(短整型)</td>
<td>2字节</td>
<td>(-2^15 ~ 2^15-1)</td>
</tr>
<tr>
<td>int(整型)</td>
<td>4字节</td>
<td>(-2^31 ~ 2^31-1)</td>
</tr>
<tr>
<td>long(长整形)</td>
<td>Windows为4字节，Linux为4字节(32位)，8字节(64位)</td>
<td>(-2^31 ~ 2^31-1)</td>
</tr>
<tr>
<td>long long(长长整形)</td>
<td>8字节</td>
<td>(-2^63 ~ 2^63-1)</td>
</tr>
</tbody>
</table>
<p>sizeof关键字: 利用sizeof关键字可以统计数据类型所占内存大小</p>
<p><code>sizeof( 数据类型 / 变量)</code></p>
<h3 id="浮点型">浮点型</h3>
<p>浮点型变量分为两种：</p>
<ol>
<li>单精度float</li>
<li>双精度double</li>
</ol>
<p>两者的<strong>区别</strong>在于表示的有效数字范围不同。</p>
<table>
<thead>
<tr>
<th><strong>数据类型</strong></th>
<th><strong>占用空间</strong></th>
<th><strong>有效数字范围</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>float</td>
<td>4字节</td>
<td>7位有效数字</td>
</tr>
<tr>
<td>double</td>
<td>8字节</td>
<td>15～16位有效数字</td>
</tr>
</tbody>
</table>
<h3 id="字符型">字符型</h3>
<p>字符型变量用于显示单个字符</p>
<p><code>char ch = 'a';</code></p>
<blockquote>
<p>注意1：在显示字符型变量时，用单引号将字符括起来，不要用双引号</p>
</blockquote>
<blockquote>
<p>注意2：单引号内只能有一个字符，不可以是字符串</p>
</blockquote>
<ul>
<li>C和C++中字符型变量只占用1个字节。</li>
<li>字符型变量并不是把字符本身放到内存中存储，而是将对应的ASCII编码放入到存储单元</li>
</ul>
<h3 id="字符串">字符串</h3>
<p><strong>两种风格</strong></p>
<ol>
<li><strong>C风格字符串</strong>： <code>char 变量名[] = &quot;字符串值&quot;</code></li>
</ol>
<blockquote>
<p>注意：C风格的字符串要用双引号括起来</p>
</blockquote>
<ol>
<li><strong>C++风格字符串</strong>：  <code>string  变量名 = &quot;字符串值&quot;</code></li>
</ol>
<blockquote>
<p>注意：C++风格字符串，需要加入头文件==#include&lt;string&gt;==</p>
</blockquote>
<h3 id="布尔值">布尔值</h3>
<p>bool类型只有两个值：</p>
<ul>
<li>true  &mdash; 真（本质是1）</li>
<li>false &mdash; 假（本质是0）</li>
</ul>
<p><strong>bool类型占==1个字节==大小</strong></p>
<p>数据的输入: <code>cin &gt;&gt; 变量 </code></p>
<h2 id="3运算符">3.运算符</h2>
<h3 id="算术运算符">算术运算符</h3>
<table>
<thead>
<tr>
<th><strong>运算符</strong></th>
<th><strong>术语</strong></th>
<th><strong>示例</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>正号</td>
<td>+3</td>
<td>3</td>
</tr>
<tr>
<td>-</td>
<td>负号</td>
<td>-3</td>
<td>-3</td>
</tr>
<tr>
<td>+</td>
<td>加</td>
<td>10 + 5</td>
<td>15</td>
</tr>
<tr>
<td>-</td>
<td>减</td>
<td>10 - 5</td>
<td>5</td>
</tr>
<tr>
<td>*</td>
<td>乘</td>
<td>10 * 5</td>
<td>50</td>
</tr>
<tr>
<td>/</td>
<td>除</td>
<td>10 / 5</td>
<td>2</td>
</tr>
<tr>
<td>%</td>
<td>取模(取余)</td>
<td>10 % 3</td>
<td>1</td>
</tr>
<tr>
<td>++</td>
<td>前置递增</td>
<td>a=2; b=++a;</td>
<td>a=3; b=3;</td>
</tr>
<tr>
<td>++</td>
<td>后置递增</td>
<td>a=2; b=a++;</td>
<td>a=3; b=2;</td>
</tr>
<tr>
<td>&ndash;</td>
<td>前置递减</td>
<td>a=2; b=&ndash;a;</td>
<td>a=1; b=1;</td>
</tr>
<tr>
<td>&ndash;</td>
<td>后置递减</td>
<td>a=2; b=a&ndash;;</td>
<td>a=1; b=2;</td>
</tr>
</tbody>
</table>
<h3 id="赋值运算符">赋值运算符</h3>
<table>
<thead>
<tr>
<th><strong>运算符</strong></th>
<th><strong>术语</strong></th>
<th><strong>示例</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>赋值</td>
<td>a=2; b=3;</td>
<td>a=2; b=3;</td>
</tr>
<tr>
<td>+=</td>
<td>加等于</td>
<td>a=0; a+=2;</td>
<td>a=2;</td>
</tr>
<tr>
<td>-=</td>
<td>减等于</td>
<td>a=5; a-=3;</td>
<td>a=2;</td>
</tr>
<tr>
<td>*=</td>
<td>乘等于</td>
<td>a=2; a*=2;</td>
<td>a=4;</td>
</tr>
<tr>
<td>/=</td>
<td>除等于</td>
<td>a=4; a/=2;</td>
<td>a=2;</td>
</tr>
<tr>
<td>%=</td>
<td>模等于</td>
<td>a=3; a%2;</td>
<td>a=1;</td>
</tr>
</tbody>
</table>
<h3 id="比较运算符">比较运算符</h3>
<table>
<thead>
<tr>
<th><strong>运算符</strong></th>
<th><strong>术语</strong></th>
<th><strong>示例</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>==</td>
<td>相等于</td>
<td>4 == 3</td>
<td>0</td>
</tr>
<tr>
<td>!=</td>
<td>不等于</td>
<td>4 != 3</td>
<td>1</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
<td>4 &lt; 3</td>
<td>0</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
<td>4 &gt; 3</td>
<td>1</td>
</tr>
<tr>
<td>&lt;=</td>
<td>小于等于</td>
<td>4 &lt;= 3</td>
<td>0</td>
</tr>
<tr>
<td>&gt;=</td>
<td>大于等于</td>
<td>4 &gt;= 1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3 id="逻辑运算符">逻辑运算符</h3>
<table>
<thead>
<tr>
<th><strong>运算符</strong></th>
<th><strong>术语</strong></th>
<th><strong>示例</strong></th>
<th><strong>结果</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>!</td>
<td>非</td>
<td>!a</td>
<td>如果a为假，则!a为真；  如果a为真，则!a为假。</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>与</td>
<td>a &amp;&amp; b</td>
<td>如果a和b都为真，则结果为真，否则为假。</td>
</tr>
<tr>
<td>||</td>
<td>或</td>
<td>a || b</td>
<td>如果a和b有一个为真，则结果为真，二者都为假时，结果为假。</td>
</tr>
</tbody>
</table>
<h2 id="4程序流程结构">4.程序流程结构</h2>
<h3 id="if">if</h3>
<h3 id="三元运算符">三元运算符</h3>
<h3 id="switch">switch</h3>
<p><strong>语法：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="k">switch</span><span class="p">(</span><span class="err">表达式</span><span class="p">)</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="k">case</span> <span class="err">结果</span><span class="mi">1</span><span class="err">：执行语句</span><span class="p">;</span><span class="k">break</span><span class="p">;</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span>	<span class="k">case</span> <span class="err">结果</span><span class="mi">2</span><span class="err">：执行语句</span><span class="p">;</span><span class="k">break</span><span class="p">;</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="p">...</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="k">default</span><span class="o">:</span><span class="err">执行语句</span><span class="p">;</span><span class="k">break</span><span class="p">;</span>
<span class="ln">12</span>
<span class="ln">13</span><span class="p">}</span>
<span class="ln">14</span>
</code></pre></div><p><strong>示例</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="c1">//请给电影评分 
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="c1">//10 ~ 9   经典   
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="c1">// 8 ~ 7   非常好
</span><span class="ln"> 6</span><span class="c1"></span>	<span class="c1">// 6 ~ 5   一般
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="c1">// 5分以下 烂片
</span><span class="ln"> 8</span><span class="c1"></span>
<span class="ln"> 9</span>	<span class="kt">int</span> <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">10</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;请给电影打分&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>	<span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">score</span><span class="p">;</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="k">switch</span> <span class="p">(</span><span class="n">score</span><span class="p">)</span>
<span class="ln">14</span>	<span class="p">{</span>
<span class="ln">15</span>	<span class="k">case</span> <span class="mi">10</span><span class="o">:</span>
<span class="ln">16</span>	<span class="k">case</span> <span class="mi">9</span><span class="o">:</span>
<span class="ln">17</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;经典&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>		<span class="k">break</span><span class="p">;</span>
<span class="ln">19</span>	<span class="k">case</span> <span class="mi">8</span><span class="o">:</span>
<span class="ln">20</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;非常好&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">21</span>		<span class="k">break</span><span class="p">;</span>
<span class="ln">22</span>	<span class="k">case</span> <span class="mi">7</span><span class="o">:</span>
<span class="ln">23</span>	<span class="k">case</span> <span class="mi">6</span><span class="o">:</span>
<span class="ln">24</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;一般&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">25</span>		<span class="k">break</span><span class="p">;</span>
<span class="ln">26</span>	<span class="k">default</span><span class="o">:</span>
<span class="ln">27</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;烂片&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">28</span>		<span class="k">break</span><span class="p">;</span>
<span class="ln">29</span>	<span class="p">}</span>
<span class="ln">30</span>
<span class="ln">31</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">32</span>
<span class="ln">33</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">34</span><span class="p">}</span>
</code></pre></div><blockquote>
<p>注意1：switch语句中表达式类型只能是整型或者字符型</p>
</blockquote>
<blockquote>
<p>注意2：case里如果没有break，那么程序会一直向下执行</p>
</blockquote>
<blockquote>
<p>总结：与if语句比，对于多条件判断时，switch的结构清晰，执行效率高，缺点是switch不可以判断区间</p>
</blockquote>
<h3 id="while">while</h3>
<h3 id="dowhile">do&hellip;while</h3>
<h3 id="for">for</h3>
<h3 id="跳转语句">跳转语句</h3>
<h3 id="break">break</h3>
<p><strong>作用:</strong> 用于跳出==选择结构==或者==循环结构==</p>
<p>break使用的时机：</p>
<ul>
<li>出现在switch条件语句中，作用是终止case并跳出switch</li>
<li>出现在循环语句中，作用是跳出当前的循环语句</li>
<li>出现在嵌套循环中，跳出最近的内层循环语句</li>
</ul>
<h3 id="continue">continue</h3>
<p>**作用：**在==循环语句==中，跳过本次循环中余下尚未执行的语句，继续执行下一次循环</p>
<h3 id="goto">goto</h3>
<p>**作用：**可以无条件跳转语句</p>
<p><strong>语法：</strong> <code>goto 标记;</code></p>
<p>**解释：**如果标记的名称存在，执行到goto语句时，会跳转到标记的位置</p>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;1&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="k">goto</span> <span class="n">FLAG</span><span class="p">;</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;2&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;3&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 9</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;4&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="nl">FLAG</span><span class="p">:</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;5&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>	
<span class="ln">15</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">18</span><span class="p">}</span>
</code></pre></div><blockquote>
<p>注意：在程序中不建议使用goto语句，以免造成程序流程混乱</p>
</blockquote>
<h2 id="5数组">5.数组</h2>
<h3 id="一维数组">一维数组</h3>
<p>一维数组定义的三种方式：</p>
<ol>
<li><code>数据类型  数组名[ 数组长度 ];</code></li>
<li><code>数据类型  数组名[ 数组长度 ] = { 值1，值2 ...};</code> (如果{}内不足10个数据，剩余数据用0补全)</li>
<li><code>数据类型  数组名[ ] = { 值1，值2 ...};</code></li>
</ol>
<p>一维数组名称的<strong>用途</strong>：</p>
<ol>
<li>可以统计整个数组在内存中的长度</li>
<li>可以获取数组在内存中的首地址</li>
</ol>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="c1">//数组名用途
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="c1">//1、可以获取整个数组占用内存空间大小
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span> <span class="p">};</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;整个数组所占内存空间为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;每个元素所占内存空间为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 9</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;数组的元素个数为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="c1">//2、可以通过数组名获取到数组首地址
</span><span class="ln">12</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;数组首地址为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">arr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">13</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;数组中第一个元素地址为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;数组中第二个元素地址为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">15</span>
<span class="ln">16</span>	<span class="c1">//arr = 100; 错误，数组名是常量，因此不可以赋值
</span><span class="ln">17</span><span class="c1"></span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">20</span>
<span class="ln">21</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">22</span><span class="p">}</span>
</code></pre></div><blockquote>
<p>注意：数组名是常量，不可以赋值</p>
</blockquote>
<blockquote>
<p>总结1：直接打印数组名，可以查看数组所占内存的首地址</p>
</blockquote>
<blockquote>
<p>总结2：对数组名进行sizeof，可以获取整个数组占内存空间的大小</p>
</blockquote>
<h3 id="二维数组">二维数组</h3>
<p>二维数组定义的四种方式：</p>
<ol>
<li><code>数据类型  数组名[ 行数 ][ 列数 ];</code></li>
<li><code>数据类型  数组名[ 行数 ][ 列数 ] = { {数据1，数据2 } ，{数据3，数据4 } };</code></li>
<li><code>数据类型  数组名[ 行数 ][ 列数 ] = { 数据1，数据2，数据3，数据4};</code></li>
<li><code> 数据类型  数组名[  ][ 列数 ] = { 数据1，数据2，数据3，数据4};</code></li>
</ol>
<p>二维数组数组名:</p>
<ul>
<li>查看二维数组所占内存空间</li>
<li>获取二维数组首地址</li>
</ul>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="c1">//二维数组数组名
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>
<span class="ln"> 5</span>	<span class="p">{</span>
<span class="ln"> 6</span>		<span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">},</span>
<span class="ln"> 7</span>		<span class="p">{</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">}</span>
<span class="ln"> 8</span>	<span class="p">};</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组大小： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组一行大小： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组元素大小： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">13</span>
<span class="ln">14</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组行数： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">15</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组列数： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="c1">//地址
</span><span class="ln">18</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组首地址：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">19</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组第一行地址：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">20</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组第二行地址：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">21</span>
<span class="ln">22</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组第一个元素地址：&#34;</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">23</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;二维数组第二个元素地址：&#34;</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">24</span>
<span class="ln">25</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">26</span>
<span class="ln">27</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">28</span><span class="p">}</span>
</code></pre></div><blockquote>
<p>总结1：二维数组名就是这个数组的首地址</p>
</blockquote>
<blockquote>
<p>总结2：对二维数组名进行sizeof时，可以获取整个二维数组占用的内存空间大小</p>
</blockquote>
<h2 id="6函数">6.函数</h2>
<h3 id="函数的定义">函数的定义</h3>
<p><strong>语法：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln">1</span><span class="err">返回值类型</span> <span class="err">函数名</span> <span class="err">（参数列表）</span>
<span class="ln">2</span><span class="p">{</span>
<span class="ln">3</span>
<span class="ln">4</span>       <span class="err">函数体语句</span>
<span class="ln">5</span>
<span class="ln">6</span>       <span class="n">return表达式</span>
<span class="ln">7</span>
<span class="ln">8</span><span class="p">}</span>
</code></pre></div><h3 id="函数的调用">函数的调用</h3>
<h3 id="值传递">值传递</h3>
<ul>
<li>所谓值传递，就是函数调用时实参将数值传入给形参</li>
<li>值传递时，如果形参发生，并不会影响实参</li>
</ul>
<h3 id="函数的常见样式">函数的常见样式</h3>
<h3 id="函数的声明">函数的声明</h3>
<p><strong>作用：</strong> 告诉编译器函数名称及如何调用函数。函数的实际主体可以单独定义。</p>
<ul>
<li>函数的<strong>声明可以多次</strong>，但是函数的<strong>定义只能有一次</strong></li>
</ul>
<h3 id="函数的分文件编写">函数的分文件编写</h3>
<p>函数分文件编写一般有4个步骤</p>
<ol>
<li>创建后缀名为.h的头文件</li>
<li>创建后缀名为.cpp的源文件</li>
<li>在头文件中写函数的声明</li>
<li>在源文件中写函数的定义</li>
</ol>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln">1</span><span class="c1">//swap.h文件
</span><span class="ln">2</span><span class="c1"></span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="ln">3</span><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="ln">4</span>
<span class="ln">5</span><span class="c1">//实现两个数字交换的函数声明
</span><span class="ln">6</span><span class="c1"></span><span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">);</span>
<span class="ln">7</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//swap.cpp文件
</span><span class="ln"> 2</span><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&#34;swap.h&#34;</span><span class="cp">
</span><span class="ln"> 3</span><span class="cp"></span>
<span class="ln"> 4</span><span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
<span class="ln"> 5</span><span class="p">{</span>
<span class="ln"> 6</span>	<span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;a = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;b = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span><span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//main函数文件
</span><span class="ln"> 2</span><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&#34;swap.h&#34;</span><span class="cp">
</span><span class="ln"> 3</span><span class="cp"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">12</span><span class="p">}</span>
<span class="ln">13</span>
</code></pre></div><h2 id="7指针">7.指针</h2>
<p>指针变量定义语法： <code>数据类型 * 变量名；</code></p>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="c1">//1、指针的定义
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">//定义整型变量a
</span><span class="ln"> 5</span><span class="c1"></span>	
<span class="ln"> 6</span>	<span class="c1">//指针定义语法： 数据类型 * 变量名 ;
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="kt">int</span> <span class="o">*</span> <span class="n">p</span><span class="p">;</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="c1">//指针变量赋值
</span><span class="ln">10</span><span class="c1"></span>	<span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span> <span class="c1">//指针指向变量a的地址
</span><span class="ln">11</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">//打印数据a的地址
</span><span class="ln">12</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>  <span class="c1">//打印指针变量p
</span><span class="ln">13</span><span class="c1"></span>
<span class="ln">14</span>	<span class="c1">//2、指针的使用
</span><span class="ln">15</span><span class="c1"></span>	<span class="c1">//通过*操作指针变量指向的内存
</span><span class="ln">16</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;*p = &#34;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">17</span>
<span class="ln">18</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">19</span>
<span class="ln">20</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">21</span><span class="p">}</span>
</code></pre></div><p>指针变量和普通变量的区别</p>
<ul>
<li>普通变量存放的是数据,指针变量存放的是地址</li>
<li>指针变量可以通过&quot; * &ldquo;操作符，操作指针变量指向的内存空间，这个过程称为解引用</li>
</ul>
<blockquote>
<p>总结1： 我们可以通过 &amp; 符号 获取变量的地址</p>
</blockquote>
<blockquote>
<p>总结2：利用指针可以记录地址</p>
</blockquote>
<blockquote>
<p>总结3：对指针变量解引用，可以操作指针指向的内存</p>
</blockquote>
<h3 id="指针所占内存空间">指针所占内存空间</h3>
<p>所有指针类型在32位操作系统下是4个字节</p>
<h3 id="空指针和野指针">空指针和野指针</h3>
<p><strong>空指针</strong>：指针变量指向内存中编号为0的空间</p>
<p>**注意：**空指针指向的内存是不可以访问的</p>
<p><strong>示例1：空指针</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="c1">//指针变量p指向内存地址编号为0的空间
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="kt">int</span> <span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="c1">//访问空指针报错 
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="c1">//内存编号0 ~255为系统占用内存，不允许用户访问
</span><span class="ln"> 8</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">11</span>
<span class="ln">12</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">13</span><span class="p">}</span>
</code></pre></div><p><strong>野指针</strong>：指针变量指向非法的内存空间</p>
<p><strong>示例2：野指针</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="c1">//指针变量p指向内存地址编号为0x1100的空间
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="kt">int</span> <span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="mh">0x1100</span><span class="p">;</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="c1">//访问野指针报错 
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">12</span><span class="p">}</span>
</code></pre></div><blockquote>
<p>总结：空指针和野指针都不是我们申请的空间，因此不要访问。</p>
</blockquote>
<h3 id="const修饰指针">const修饰指针</h3>
<p>const修饰指针有三种情况</p>
<ol>
<li>const修饰指针   &mdash; 常量指针 const int * p1 = &amp;a;</li>
<li>const修饰常量   &mdash; 指针常量 int * const p2 = &amp;a;</li>
<li>const即修饰指针，又修饰常量 const int * const p3 = &amp;a;</li>
</ol>
<p>**示例： **</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="c1">//const修饰的是指针，指针指向可以改，指针指向的值不可以更改
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="k">const</span> <span class="kt">int</span> <span class="o">*</span> <span class="n">p1</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span> 
<span class="ln"> 8</span>	<span class="n">p1</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">;</span> <span class="c1">//正确
</span><span class="ln"> 9</span><span class="c1"></span>	<span class="c1">//*p1 = 100;  报错
</span><span class="ln">10</span><span class="c1"></span>	
<span class="ln">11</span>
<span class="ln">12</span>	<span class="c1">//const修饰的是常量，指针指向不可以改，指针指向的值可以更改
</span><span class="ln">13</span><span class="c1"></span>	<span class="kt">int</span> <span class="o">*</span> <span class="k">const</span> <span class="n">p2</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
<span class="ln">14</span>	<span class="c1">//p2 = &amp;b; //错误
</span><span class="ln">15</span><span class="c1"></span>	<span class="o">*</span><span class="n">p2</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">//正确
</span><span class="ln">16</span><span class="c1"></span>
<span class="ln">17</span>    <span class="c1">//const既修饰指针又修饰常量
</span><span class="ln">18</span><span class="c1"></span>	<span class="k">const</span> <span class="kt">int</span> <span class="o">*</span> <span class="k">const</span> <span class="n">p3</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
<span class="ln">19</span>	<span class="c1">//p3 = &amp;b; //错误
</span><span class="ln">20</span><span class="c1"></span>	<span class="c1">//*p3 = 100; //错误
</span><span class="ln">21</span><span class="c1"></span>
<span class="ln">22</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">23</span>
<span class="ln">24</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">25</span><span class="p">}</span>
</code></pre></div><blockquote>
<p>技巧：看const右侧紧跟着的是指针还是常量, 是指针就是常量指针，是常量就是指针常量</p>
</blockquote>
<h3 id="指针和数组">指针和数组</h3>
<p>当数组名传入到函数作为参数时，被退化为指向首元素的指针</p>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span> <span class="p">};</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="kt">int</span> <span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="n">arr</span><span class="p">;</span>  <span class="c1">//指向数组的指针
</span><span class="ln"> 6</span><span class="c1"></span>
<span class="ln"> 7</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;第一个元素： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;指针访问第一个元素： &#34;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln">11</span>	<span class="p">{</span>
<span class="ln">12</span>		<span class="c1">//利用指针遍历数组
</span><span class="ln">13</span><span class="c1"></span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>		<span class="n">p</span><span class="o">++</span><span class="p">;</span>
<span class="ln">15</span>	<span class="p">}</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">20</span><span class="p">}</span>
</code></pre></div><h3 id="指针和函数">指针和函数</h3>
<p>利用指针作函数参数，可以修改实参的值</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln">1</span><span class="c1">//地址传递
</span><span class="ln">2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">swap2</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span> <span class="n">p1</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">p2</span><span class="p">)</span>
<span class="ln">3</span><span class="p">{</span>
<span class="ln">4</span>	<span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="o">*</span><span class="n">p1</span><span class="p">;</span>
<span class="ln">5</span>	<span class="o">*</span><span class="n">p1</span> <span class="o">=</span> <span class="o">*</span><span class="n">p2</span><span class="p">;</span>
<span class="ln">6</span>	<span class="o">*</span><span class="n">p2</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">7</span><span class="p">}</span>
</code></pre></div><p>如果不想修改实参，就用值传递，如果想修改实参，就用地址传递</p>
<h2 id="8结构体">8.结构体</h2>
<h3 id="结构体定义和使用">结构体定义和使用</h3>
<p><strong>语法：</strong><code>struct 结构体名 { 结构体成员列表 }；</code></p>
<p>通过结构体创建变量的方式有三种：</p>
<ul>
<li>struct 结构体名 变量名</li>
<li>struct 结构体名 变量名 = { 成员1值 ， 成员2值&hellip;}</li>
<li>定义结构体时顺便创建变量</li>
</ul>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//结构体定义
</span><span class="ln"> 2</span><span class="c1"></span><span class="k">struct</span> <span class="nc">student</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>	<span class="c1">//成员列表
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="n">string</span> <span class="n">name</span><span class="p">;</span>  <span class="c1">//姓名
</span><span class="ln"> 6</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">age</span><span class="p">;</span>      <span class="c1">//年龄
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">score</span><span class="p">;</span>    <span class="c1">//分数
</span><span class="ln"> 8</span><span class="c1"></span><span class="p">}</span><span class="n">stu3</span><span class="p">;</span> <span class="c1">//结构体变量创建方式3 
</span><span class="ln"> 9</span><span class="c1"></span>
<span class="ln">10</span>
<span class="ln">11</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="c1">//结构体变量创建方式1
</span><span class="ln">14</span><span class="c1"></span>	<span class="k">struct</span> <span class="nc">student</span> <span class="n">stu1</span><span class="p">;</span> <span class="c1">//struct 关键字可以省略
</span><span class="ln">15</span><span class="c1"></span>
<span class="ln">16</span>	<span class="n">stu1</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&#34;张三&#34;</span><span class="p">;</span>
<span class="ln">17</span>	<span class="n">stu1</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">18</span><span class="p">;</span>
<span class="ln">18</span>	<span class="n">stu1</span><span class="p">.</span><span class="n">score</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="ln">19</span>	
<span class="ln">20</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu1</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu1</span><span class="p">.</span><span class="n">age</span>  <span class="o">&lt;&lt;</span> <span class="s">&#34; 分数：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu1</span><span class="p">.</span><span class="n">score</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">21</span>
<span class="ln">22</span>	<span class="c1">//结构体变量创建方式2
</span><span class="ln">23</span><span class="c1"></span>	<span class="k">struct</span> <span class="nc">student</span> <span class="n">stu2</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#34;李四&#34;</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">60</span> <span class="p">};</span>
<span class="ln">24</span>
<span class="ln">25</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu2</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu2</span><span class="p">.</span><span class="n">age</span>  <span class="o">&lt;&lt;</span> <span class="s">&#34; 分数：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu2</span><span class="p">.</span><span class="n">score</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">26</span>
<span class="ln">27</span>
<span class="ln">28</span>	<span class="n">stu3</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&#34;王五&#34;</span><span class="p">;</span>
<span class="ln">29</span>	<span class="n">stu3</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">18</span><span class="p">;</span>
<span class="ln">30</span>	<span class="n">stu3</span><span class="p">.</span><span class="n">score</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
<span class="ln">31</span>	
<span class="ln">32</span>
<span class="ln">33</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu3</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu3</span><span class="p">.</span><span class="n">age</span>  <span class="o">&lt;&lt;</span> <span class="s">&#34; 分数：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu3</span><span class="p">.</span><span class="n">score</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">34</span>
<span class="ln">35</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">36</span>
<span class="ln">37</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">38</span><span class="p">}</span>
</code></pre></div><blockquote>
<p>总结1：定义结构体时的关键字是struct，不可省略</p>
</blockquote>
<blockquote>
<p>总结2：创建结构体变量时，关键字struct可以省略</p>
</blockquote>
<blockquote>
<p>总结3：结构体变量利用操作符 &lsquo;&rsquo;.''  访问成员</p>
</blockquote>
<h3 id="结构体数组">结构体数组</h3>
<p><code> struct  结构体名 数组名[元素个数] = {  {} , {} , ... {} }</code></p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln">1</span><span class="k">struct</span> <span class="nc">student</span> <span class="n">arr</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span>
<span class="ln">2</span>	<span class="p">{</span>
<span class="ln">3</span>		<span class="p">{</span><span class="s">&#34;张三&#34;</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">80</span> <span class="p">},</span>
<span class="ln">4</span>		<span class="p">{</span><span class="s">&#34;李四&#34;</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">60</span> <span class="p">},</span>
<span class="ln">5</span>		<span class="p">{</span><span class="s">&#34;王五&#34;</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">70</span> <span class="p">}</span>
<span class="ln">6</span>	<span class="p">};</span>
<span class="ln">7</span>
</code></pre></div><h3 id="结构体指针">结构体指针</h3>
<p>利用操作符 <code>-&gt; </code>可以通过结构体指针访问结构体属性</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>	
<span class="ln"> 3</span>	<span class="k">struct</span> <span class="nc">student</span> <span class="n">stu</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#34;张三&#34;</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span> <span class="p">};</span>
<span class="ln"> 4</span>	
<span class="ln"> 5</span>	<span class="k">struct</span> <span class="nc">student</span> <span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">stu</span><span class="p">;</span>
<span class="ln"> 6</span>	
<span class="ln"> 7</span>	<span class="n">p</span><span class="o">-&gt;</span><span class="n">score</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span> <span class="c1">//指针通过 -&gt; 操作符可以访问成员
</span><span class="ln"> 8</span><span class="c1"></span>
<span class="ln"> 9</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">age</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 分数：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">score</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">10</span>	
<span class="ln">11</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">14</span><span class="p">}</span>
</code></pre></div><h3 id="结构体嵌套结构体">结构体嵌套结构体</h3>
<h3 id="结构体做函数参数">结构体做函数参数</h3>
<p>传递方式有两种：</p>
<ul>
<li>值传递</li>
<li>地址传递</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//值传递
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">printStudent</span><span class="p">(</span><span class="n">student</span> <span class="n">stu</span> <span class="p">)</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>	<span class="n">stu</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">28</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;子函数中 姓名：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu</span><span class="p">.</span><span class="n">age</span>  <span class="o">&lt;&lt;</span> <span class="s">&#34; 分数：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu</span><span class="p">.</span><span class="n">score</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 6</span><span class="p">}</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span><span class="c1">//地址传递
</span><span class="ln"> 9</span><span class="c1"></span><span class="kt">void</span> <span class="nf">printStudent2</span><span class="p">(</span><span class="n">student</span> <span class="o">*</span><span class="n">stu</span><span class="p">)</span>
<span class="ln">10</span><span class="p">{</span>
<span class="ln">11</span>	<span class="n">stu</span><span class="o">-&gt;</span><span class="n">age</span> <span class="o">=</span> <span class="mi">28</span><span class="p">;</span>
<span class="ln">12</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;子函数中 姓名：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu</span><span class="o">-&gt;</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu</span><span class="o">-&gt;</span><span class="n">age</span>  <span class="o">&lt;&lt;</span> <span class="s">&#34; 分数：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu</span><span class="o">-&gt;</span><span class="n">score</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">13</span><span class="p">}</span>
</code></pre></div><h3 id="结构体中-const使用场景">结构体中 const使用场景</h3>
<p>用const来防止误操作</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln">1</span><span class="c1">//const使用场景
</span><span class="ln">2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">printStudent</span><span class="p">(</span><span class="k">const</span> <span class="n">student</span> <span class="o">*</span><span class="n">stu</span><span class="p">)</span> <span class="c1">//加const防止函数体中的误操作
</span><span class="ln">3</span><span class="c1"></span><span class="p">{</span>
<span class="ln">4</span>	<span class="c1">//stu-&gt;age = 100; //操作失败，因为加了const修饰
</span><span class="ln">5</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu</span><span class="o">-&gt;</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu</span><span class="o">-&gt;</span><span class="n">age</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 分数：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">stu</span><span class="o">-&gt;</span><span class="n">score</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">6</span>
<span class="ln">7</span><span class="p">}</span>
</code></pre></div><h2 id="9内存分区模型">9.内存分区模型</h2>
<p>C++程序在执行时，将内存大方向划分为<strong>4个区域</strong></p>
<ul>
<li>代码区：存放函数体的二进制代码，由操作系统进行管理的</li>
<li>全局区：存放全局变量和静态变量以及常量</li>
<li>栈区：由编译器自动分配释放, 存放函数的参数值,局部变量等</li>
<li>堆区：由程序员分配和释放,若程序员不释放,程序结束时由操作系统回收</li>
</ul>
<p>不同区域存放的数据，赋予不同的生命周期, 给我们更大的灵活编程</p>
<h3 id="程序运行前">程序运行前</h3>
<p>在程序编译后，生成了exe可执行程序，<strong>未执行该程序前</strong>分为两个区域</p>
<p><strong>代码区：</strong></p>
<p>​		存放 CPU 执行的机器指令</p>
<p>​		代码区是<strong>共享</strong>的，共享的目的是对于频繁被执行的程序，只需要在内存中有一份代码即可</p>
<p>​		代码区是<strong>只读</strong>的，使其只读的原因是防止程序意外地修改了它的指令</p>
<p><strong>全局区：</strong></p>
<p>​		全局变量和静态变量存放在此.</p>
<p>​		全局区还包含了常量区, 字符串常量和其他常量也存放在此.</p>
<p>​		==该区域的数据在程序结束后由操作系统释放==.</p>
<h3 id="程序运行后">程序运行后</h3>
<p><strong>栈区：</strong></p>
<p>​		由编译器自动分配释放, 存放函数的参数值,局部变量等</p>
<p>​		注意事项：不要返回局部变量的地址，栈区开辟的数据由编译器自动释放</p>
<p><strong>堆区：</strong></p>
<p>​		由程序员分配释放,若程序员不释放,程序结束时由操作系统回收</p>
<p>​		在C++中主要利用new在堆区开辟内存</p>
<h3 id="new操作符">new操作符</h3>
<p>C++中利用==new==操作符在堆区开辟数据</p>
<p>​	堆区开辟的数据，由程序员手动开辟，手动释放，释放利用操作符 ==delete==</p>
<p>​	语法：<code> new 数据类型</code></p>
<p>​	利用new创建的数据，会返回该数据对应的类型的指针</p>
<p><strong>示例1： 基本语法</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">int</span><span class="o">*</span> <span class="nf">func</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="kt">int</span><span class="o">*</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 4</span>	<span class="k">return</span> <span class="n">a</span><span class="p">;</span>
<span class="ln"> 5</span><span class="p">}</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">func</span><span class="p">();</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">13</span>
<span class="ln">14</span>	<span class="c1">//利用delete释放堆区数据
</span><span class="ln">15</span><span class="c1"></span>	<span class="k">delete</span> <span class="n">p</span><span class="p">;</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="c1">//cout &lt;&lt; *p &lt;&lt; endl; //报错，释放的空间不可访问
</span><span class="ln">18</span><span class="c1"></span>
<span class="ln">19</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">20</span>
<span class="ln">21</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">22</span><span class="p">}</span>
</code></pre></div><p><strong>示例2：开辟数组</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//堆区开辟数组
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span>	<span class="kt">int</span><span class="o">*</span> <span class="n">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln"> 7</span>	<span class="p">{</span>
<span class="ln"> 8</span>		<span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">100</span><span class="p">;</span>
<span class="ln"> 9</span>	<span class="p">}</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln">12</span>	<span class="p">{</span>
<span class="ln">13</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>	<span class="p">}</span>
<span class="ln">15</span>	<span class="c1">//释放数组 delete 后加 []
</span><span class="ln">16</span><span class="c1"></span>	<span class="k">delete</span><span class="p">[]</span> <span class="n">arr</span><span class="p">;</span>
<span class="ln">17</span>
<span class="ln">18</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">19</span>
<span class="ln">20</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">21</span><span class="p">}</span>
<span class="ln">22</span>
</code></pre></div><h2 id="10引用">10.引用</h2>
<h3 id="引用的基本使用">引用的基本使用</h3>
<p>给变量起别名</p>
<p><code>数据类型 &amp;别名 = 原名</code></p>
<h3 id="引用注意事项">引用注意事项</h3>
<ul>
<li>引用必须初始化</li>
<li>引用在初始化后，不可以改变</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="c1">//int &amp;c; //错误，引用必须初始化
</span><span class="ln"> 6</span><span class="c1"></span>	<span class="kt">int</span> <span class="o">&amp;</span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span> <span class="c1">//一旦初始化后，就不可以更改
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span> <span class="c1">//这是赋值操作，不是更改引用
</span><span class="ln"> 8</span><span class="c1"></span>
<span class="ln"> 9</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;a = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">10</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;b = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;c = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">14</span>
<span class="ln">15</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">16</span><span class="p">}</span>
</code></pre></div><h3 id="引用做函数参数">引用做函数参数</h3>
<p>**作用：**函数传参时，可以利用引用的技术让形参修饰实参</p>
<p>**优点：**可以简化指针修改实参, 通过引用参数产生的效果同按地址传递是一样的。引用的语法更清楚简单</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//1. 值传递
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">mySwap01</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 3</span>	<span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln"> 6</span><span class="p">}</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span><span class="c1">//2. 地址传递
</span><span class="ln"> 9</span><span class="c1"></span><span class="kt">void</span> <span class="nf">mySwap02</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">10</span>	<span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="o">*</span><span class="n">a</span><span class="p">;</span>
<span class="ln">11</span>	<span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="o">*</span><span class="n">b</span><span class="p">;</span>
<span class="ln">12</span>	<span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">13</span><span class="p">}</span>
<span class="ln">14</span>
<span class="ln">15</span><span class="c1">//3. 引用传递
</span><span class="ln">16</span><span class="c1"></span><span class="kt">void</span> <span class="nf">mySwap03</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">17</span>	<span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln">18</span>	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln">19</span>	<span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">20</span><span class="p">}</span>
</code></pre></div><h3 id="引用做函数返回值">引用做函数返回值</h3>
<p>引用是可以作为函数的返回值存在的</p>
<p>注意：<strong>不要返回局部变量引用</strong></p>
<p>用法：函数调用作为左值</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//返回局部变量引用
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 3</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">//局部变量
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="k">return</span> <span class="n">a</span><span class="p">;</span>
<span class="ln"> 5</span><span class="p">}</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span><span class="c1">//返回静态变量引用
</span><span class="ln"> 8</span><span class="c1"></span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">test02</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 9</span>	<span class="k">static</span> <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="ln">10</span>	<span class="k">return</span> <span class="n">a</span><span class="p">;</span>
<span class="ln">11</span><span class="p">}</span>
<span class="ln">12</span>
<span class="ln">13</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">14</span>
<span class="ln">15</span>	<span class="c1">//不能返回局部变量的引用
</span><span class="ln">16</span><span class="c1"></span>	<span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref</span> <span class="o">=</span> <span class="n">test01</span><span class="p">();</span>
<span class="ln">17</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ref = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">ref</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ref = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">ref</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">19</span>
<span class="ln">20</span>	<span class="c1">//如果函数做左值，那么必须返回引用
</span><span class="ln">21</span><span class="c1"></span>	<span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref2</span> <span class="o">=</span> <span class="n">test02</span><span class="p">();</span>
<span class="ln">22</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ref2 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">ref2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">23</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ref2 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">ref2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">24</span>
<span class="ln">25</span>	<span class="n">test02</span><span class="p">()</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
<span class="ln">26</span>
<span class="ln">27</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ref2 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">ref2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">28</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ref2 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">ref2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">29</span>
<span class="ln">30</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">31</span>
<span class="ln">32</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">33</span><span class="p">}</span>
</code></pre></div><h3 id="引用的本质">引用的本质</h3>
<p><strong>引用的本质在c++内部实现是一个指针常量.</strong></p>
<p>C++推荐用引用技术，因为语法方便，引用本质是指针常量，但是所有的指针操作编译器都帮我们做了</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//发现是引用，转换为 int* const ref = &amp;a;
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">func</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref</span><span class="p">){</span>
<span class="ln"> 3</span>	<span class="n">ref</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">// ref是引用，转换为*ref = 100
</span><span class="ln"> 4</span><span class="c1"></span><span class="p">}</span>
<span class="ln"> 5</span><span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
<span class="ln"> 6</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln"> 7</span>    
<span class="ln"> 8</span>    <span class="c1">//自动转换为 int* const ref = &amp;a; 指针常量是指针指向不可改，也说明为什么引用不可更改
</span><span class="ln"> 9</span><span class="c1"></span>	<span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span> 
<span class="ln">10</span>	<span class="n">ref</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span> <span class="c1">//内部发现ref是引用，自动帮我们转换为: *ref = 20;
</span><span class="ln">11</span><span class="c1"></span>    
<span class="ln">12</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;a:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">13</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ref:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">ref</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>    
<span class="ln">15</span>	<span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
<span class="ln">16</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">17</span><span class="p">}</span>
</code></pre></div><h3 id="常量引用">常量引用</h3>
<p>常量引用主要用来修饰形参，防止误操作</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//引用使用的场景，通常用来修饰形参
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">showValue</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 3</span>	<span class="c1">//v += 10;
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">v</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 5</span><span class="p">}</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="c1">//int&amp; ref = 10;  引用本身需要一个合法的内存空间，因此这行错误
</span><span class="ln">10</span><span class="c1"></span>	<span class="c1">//加入const就可以了，编译器优化代码，int temp = 10; const int&amp; ref = temp;
</span><span class="ln">11</span><span class="c1"></span>	<span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="c1">//ref = 100;  //加入const后不可以修改变量
</span><span class="ln">14</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ref</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">15</span>
<span class="ln">16</span>	<span class="c1">//函数中利用常量引用防止误操作修改实参
</span><span class="ln">17</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">18</span>	<span class="n">showValue</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
<span class="ln">19</span>
<span class="ln">20</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">21</span>
<span class="ln">22</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">23</span><span class="p">}</span>
</code></pre></div><h2 id="11函数提高">11.函数提高</h2>
<h3 id="函数默认参数">函数默认参数</h3>
<p>在C++中，函数的形参列表中的形参是可以有默认值的。</p>
<p><code> 返回值类型  函数名 （参数= 默认值）{}</code></p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">int</span> <span class="nf">func</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 2</span>	<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span><span class="p">;</span>
<span class="ln"> 3</span><span class="p">}</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span><span class="c1">//1. 如果某个位置参数有默认值，那么从这个位置往后，从左向右，必须都要有默认值
</span><span class="ln"> 6</span><span class="c1">//2. 如果函数声明有默认值，函数实现的时候就不能有默认参数
</span><span class="ln"> 7</span><span class="c1"></span><span class="kt">int</span> <span class="nf">func2</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">);</span>
<span class="ln"> 8</span><span class="kt">int</span> <span class="nf">func2</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 9</span>	<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="ln">10</span><span class="p">}</span>
</code></pre></div><h3 id="函数占位参数">函数占位参数</h3>
<p>C++中函数的形参列表里可以有占位参数，用来做占位，调用函数时必须填补该位置</p>
<p><code>返回值类型 函数名 (数据类型){}</code></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//函数占位参数 ，占位参数也可以有默认参数
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">func</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;this is func&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 4</span><span class="p">}</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="n">func</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="c1">//占位参数必须填补
</span><span class="ln"> 9</span><span class="c1"></span>
<span class="ln">10</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">11</span>
<span class="ln">12</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">13</span><span class="p">}</span>
</code></pre></div><h2 id="12函数重载">12.函数重载</h2>
<h3 id="函数重载概述">函数重载概述</h3>
<p><strong>函数重载满足条件：</strong></p>
<ul>
<li>同一个作用域下</li>
<li>函数名称相同</li>
<li>函数参数<strong>类型不同</strong>  或者 <strong>个数不同</strong> 或者 <strong>顺序不同</strong></li>
</ul>
<p><strong>注意:</strong>  函数的返回值不可以作为函数重载的条件</p>
<h3 id="函数重载注意事项">函数重载注意事项</h3>
<ul>
<li>引用作为重载条件</li>
<li>函数重载碰到函数默认参数</li>
</ul>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//函数重载注意事项
</span><span class="ln"> 2</span><span class="c1">//1、引用作为重载条件
</span><span class="ln"> 3</span><span class="c1"></span>
<span class="ln"> 4</span><span class="kt">void</span> <span class="nf">func</span><span class="p">(</span><span class="kt">int</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">)</span>
<span class="ln"> 5</span><span class="p">{</span>
<span class="ln"> 6</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;func (int &amp;a) 调用 &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 7</span><span class="p">}</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span><span class="kt">void</span> <span class="nf">func</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">)</span>
<span class="ln">10</span><span class="p">{</span>
<span class="ln">11</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;func (const int &amp;a) 调用 &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span><span class="p">}</span>
<span class="ln">13</span>
<span class="ln">14</span>
<span class="ln">15</span><span class="c1">//2、函数重载碰到函数默认参数
</span><span class="ln">16</span><span class="c1"></span>
<span class="ln">17</span><span class="kt">void</span> <span class="nf">func2</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="ln">18</span><span class="p">{</span>
<span class="ln">19</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;func2(int a, int b = 10) 调用&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">20</span><span class="p">}</span>
<span class="ln">21</span>
<span class="ln">22</span><span class="kt">void</span> <span class="nf">func2</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">)</span>
<span class="ln">23</span><span class="p">{</span>
<span class="ln">24</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;func2(int a) 调用&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">25</span><span class="p">}</span>
<span class="ln">26</span>
<span class="ln">27</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">28</span>	
<span class="ln">29</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">30</span>	<span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">);</span> <span class="c1">//调用无const
</span><span class="ln">31</span><span class="c1"></span>	<span class="n">func</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="c1">//调用有const
</span><span class="ln">32</span><span class="c1"></span>
<span class="ln">33</span>
<span class="ln">34</span>	<span class="c1">//func2(10); //碰到默认参数产生歧义，需要避免
</span><span class="ln">35</span><span class="c1"></span>
<span class="ln">36</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">37</span>
<span class="ln">38</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">39</span><span class="p">}</span>
</code></pre></div><h2 id="13类和对象">13.类和对象</h2>
<h3 id="封装">封装</h3>
<p>封装的意义：</p>
<ul>
<li>将属性和行为作为一个整体，表现生活中的事物</li>
<li>将属性和行为加以权限控制</li>
</ul>
<p><code>class 类名{   访问权限： 属性  / 行为  };</code></p>
<p>访问权限有三种：</p>
<ol>
<li>public        公共权限</li>
<li>protected 保护权限</li>
<li>private      私有权限</li>
</ol>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//三种权限
</span><span class="ln"> 2</span><span class="c1">//公共权限  public     类内可以访问  类外可以访问
</span><span class="ln"> 3</span><span class="c1">//保护权限  protected  类内可以访问  类外不可以访问
</span><span class="ln"> 4</span><span class="c1">//私有权限  private    类内可以访问  类外不可以访问
</span><span class="ln"> 5</span><span class="c1"></span>
<span class="ln"> 6</span><span class="k">class</span> <span class="nc">Person</span>
<span class="ln"> 7</span><span class="p">{</span>
<span class="ln"> 8</span>	<span class="c1">//姓名  公共权限
</span><span class="ln"> 9</span><span class="c1"></span><span class="k">public</span><span class="o">:</span>
<span class="ln">10</span>	<span class="n">string</span> <span class="n">m_Name</span><span class="p">;</span>
<span class="ln">11</span>
<span class="ln">12</span>	<span class="c1">//汽车  保护权限
</span><span class="ln">13</span><span class="c1"></span><span class="k">protected</span><span class="o">:</span>
<span class="ln">14</span>	<span class="n">string</span> <span class="n">m_Car</span><span class="p">;</span>
<span class="ln">15</span>
<span class="ln">16</span>	<span class="c1">//银行卡密码  私有权限
</span><span class="ln">17</span><span class="c1"></span><span class="k">private</span><span class="o">:</span>
<span class="ln">18</span>	<span class="kt">int</span> <span class="n">m_Password</span><span class="p">;</span>
<span class="ln">19</span>
<span class="ln">20</span><span class="k">public</span><span class="o">:</span>
<span class="ln">21</span>	<span class="kt">void</span> <span class="n">func</span><span class="p">()</span>
<span class="ln">22</span>	<span class="p">{</span>
<span class="ln">23</span>		<span class="n">m_Name</span> <span class="o">=</span> <span class="s">&#34;张三&#34;</span><span class="p">;</span>
<span class="ln">24</span>		<span class="n">m_Car</span> <span class="o">=</span> <span class="s">&#34;拖拉机&#34;</span><span class="p">;</span>
<span class="ln">25</span>		<span class="n">m_Password</span> <span class="o">=</span> <span class="mi">123456</span><span class="p">;</span>
<span class="ln">26</span>	<span class="p">}</span>
<span class="ln">27</span><span class="p">};</span>
<span class="ln">28</span>
<span class="ln">29</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">30</span>
<span class="ln">31</span>	<span class="n">Person</span> <span class="n">p</span><span class="p">;</span>
<span class="ln">32</span>	<span class="n">p</span><span class="p">.</span><span class="n">m_Name</span> <span class="o">=</span> <span class="s">&#34;李四&#34;</span><span class="p">;</span>
<span class="ln">33</span>	<span class="c1">//p.m_Car = &#34;奔驰&#34;;  //保护权限类外访问不到
</span><span class="ln">34</span><span class="c1"></span>	<span class="c1">//p.m_Password = 123; //私有权限类外访问不到
</span><span class="ln">35</span><span class="c1"></span>
<span class="ln">36</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">37</span>
<span class="ln">38</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">39</span><span class="p">}</span>
</code></pre></div><h3 id="struct和class区别">struct和class区别</h3>
<p>在C++中 struct和class唯一的<strong>区别</strong>就在于 <strong>默认的访问权限不同</strong></p>
<p>区别：</p>
<ul>
<li>struct 默认权限为公共</li>
<li>class   默认权限为私有</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">C1</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="kt">int</span>  <span class="n">m_A</span><span class="p">;</span> <span class="c1">//默认是私有权限
</span><span class="ln"> 4</span><span class="c1"></span><span class="p">};</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span><span class="k">struct</span> <span class="nc">C2</span>
<span class="ln"> 7</span><span class="p">{</span>
<span class="ln"> 8</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>  <span class="c1">//默认是公共权限
</span><span class="ln"> 9</span><span class="c1"></span><span class="p">};</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="n">C1</span> <span class="n">c1</span><span class="p">;</span>
<span class="ln">14</span>	<span class="n">c1</span><span class="p">.</span><span class="n">m_A</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">//错误，访问权限是私有
</span><span class="ln">15</span><span class="c1"></span>
<span class="ln">16</span>	<span class="n">C2</span> <span class="n">c2</span><span class="p">;</span>
<span class="ln">17</span>	<span class="n">c2</span><span class="p">.</span><span class="n">m_A</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">//正确，访问权限是公共
</span><span class="ln">18</span><span class="c1"></span>
<span class="ln">19</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">20</span>
<span class="ln">21</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">22</span><span class="p">}</span>
</code></pre></div><h3 id="成员属性设置为私有">成员属性设置为私有</h3>
<p>**优点1：**将所有成员属性设置为私有，可以自己控制读写权限</p>
<p>**优点2：**对于写权限，我们可以检测数据的有效性</p>
<h3 id="对象的初始化和清理">对象的初始化和清理</h3>
<h4 id="i-构造函数和析构函数">I 构造函数和析构函数</h4>
<p>c++利用了<strong>构造函数</strong>和<strong>析构函数</strong>解决上述问题，这两个函数将会被编译器自动调用，完成对象初始化和清理工作。</p>
<p>对象的初始化和清理工作是编译器强制要我们做的事情，因此如果<strong>我们不提供构造和析构，编译器会提供</strong>, <strong>编译器提供的构造函数和析构函数是空实现。</strong></p>
<ul>
<li>构造函数：主要作用在于创建对象时为对象的成员属性赋值，构造函数由编译器自动调用，无须手动调用。</li>
<li>析构函数：主要作用在于对象<strong>销毁前</strong>系统自动调用，执行一些清理工作。</li>
</ul>
<p><strong>构造函数语法：</strong><code>类名(){}</code></p>
<ol>
<li>构造函数，没有返回值也不写void</li>
<li>函数名称与类名相同</li>
<li>构造函数可以有参数，因此可以发生重载</li>
<li>程序在调用对象时候会自动调用构造，无须手动调用,而且只会调用一次</li>
</ol>
<p><strong>析构函数语法：</strong> <code>~类名(){}</code></p>
<ol>
<li>析构函数，没有返回值也不写void</li>
<li>函数名称与类名相同,在名称前加上符号  ~</li>
<li>析构函数不可以有参数，因此不可以发生重载</li>
<li>程序在对象销毁前会自动调用析构，无须手动调用,而且只会调用一次</li>
</ol>
<h4 id="ii-构造函数的分类及调用">II 构造函数的分类及调用</h4>
<p>两种分类方式：</p>
<p>​	按参数分为： 有参构造和无参构造</p>
<p>​	按类型分为： 普通构造和拷贝构造</p>
<p>三种调用方式：</p>
<p>​	括号法</p>
<p>​	显示法</p>
<p>​	隐式转换法</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="c1">//无参（默认）构造函数
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 5</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;无参构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span>	<span class="c1">//有参构造函数
</span><span class="ln"> 8</span><span class="c1"></span>	<span class="n">Person</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 9</span>		<span class="n">age</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln">10</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;有参构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>	<span class="p">}</span>
<span class="ln">12</span>	<span class="c1">//拷贝构造函数
</span><span class="ln">13</span><span class="c1"></span>	<span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">14</span>		<span class="n">age</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span><span class="p">;</span>
<span class="ln">15</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;拷贝构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">16</span>	<span class="p">}</span>
<span class="ln">17</span>	<span class="c1">//析构函数
</span><span class="ln">18</span><span class="c1"></span>	<span class="o">~</span><span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">19</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;析构函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">20</span>	<span class="p">}</span>
<span class="ln">21</span><span class="k">public</span><span class="o">:</span>
<span class="ln">22</span>	<span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
<span class="ln">23</span><span class="p">};</span>
<span class="ln">24</span>
<span class="ln">25</span><span class="c1">//2、构造函数的调用
</span><span class="ln">26</span><span class="c1">//调用无参构造函数
</span><span class="ln">27</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">28</span>	<span class="n">Person</span> <span class="n">p</span><span class="p">;</span> <span class="c1">//调用无参构造函数
</span><span class="ln">29</span><span class="c1"></span><span class="p">}</span>
<span class="ln">30</span>
<span class="ln">31</span><span class="c1">//调用有参的构造函数
</span><span class="ln">32</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">33</span>
<span class="ln">34</span>	<span class="c1">//2.1  括号法，常用
</span><span class="ln">35</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">36</span>	<span class="c1">//注意1：调用无参构造函数不能加括号，如果加了编译器认为这是一个函数声明
</span><span class="ln">37</span><span class="c1"></span>	<span class="c1">//Person p2();
</span><span class="ln">38</span><span class="c1"></span>
<span class="ln">39</span>	<span class="c1">//2.2 显式法
</span><span class="ln">40</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> 
<span class="ln">41</span>	<span class="n">Person</span> <span class="n">p3</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>
<span class="ln">42</span>	<span class="c1">//Person(10)单独写就是匿名对象  当前行结束之后，马上析构
</span><span class="ln">43</span><span class="c1"></span>
<span class="ln">44</span>	<span class="c1">//2.3 隐式转换法
</span><span class="ln">45</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p4</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">// Person p4 = Person(10); 
</span><span class="ln">46</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p5</span> <span class="o">=</span> <span class="n">p4</span><span class="p">;</span> <span class="c1">// Person p5 = Person(p4); 
</span><span class="ln">47</span><span class="c1"></span>
<span class="ln">48</span>	<span class="c1">//注意2：不能利用 拷贝构造函数 初始化匿名对象 编译器认为是对象声明
</span><span class="ln">49</span><span class="c1"></span>	<span class="c1">//Person p5(p4);
</span><span class="ln">50</span><span class="c1"></span><span class="p">}</span>
<span class="ln">51</span>
<span class="ln">52</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">53</span>
<span class="ln">54</span>	<span class="n">test01</span><span class="p">();</span>
<span class="ln">55</span>	<span class="c1">//test02();
</span><span class="ln">56</span><span class="c1"></span>
<span class="ln">57</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">58</span>
<span class="ln">59</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">60</span><span class="p">}</span>
</code></pre></div><h4 id="iii-拷贝构造函数调用时机">III 拷贝构造函数调用时机</h4>
<p>C++中拷贝构造函数调用时机通常有三种情况</p>
<ul>
<li>使用一个已经创建完毕的对象来初始化一个新对象</li>
<li>值传递的方式给函数参数传值</li>
<li>以值方式返回局部对象</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 4</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;无参构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 5</span>		<span class="n">mAge</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span>	<span class="n">Person</span><span class="p">(</span><span class="kt">int</span> <span class="n">age</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 8</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;有参构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 9</span>		<span class="n">mAge</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln">10</span>	<span class="p">}</span>
<span class="ln">11</span>	<span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">12</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;拷贝构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">13</span>		<span class="n">mAge</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">mAge</span><span class="p">;</span>
<span class="ln">14</span>	<span class="p">}</span>
<span class="ln">15</span>	<span class="c1">//析构函数在释放内存之前调用
</span><span class="ln">16</span><span class="c1"></span>	<span class="o">~</span><span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">17</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;析构函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>	<span class="p">}</span>
<span class="ln">19</span><span class="k">public</span><span class="o">:</span>
<span class="ln">20</span>	<span class="kt">int</span> <span class="n">mAge</span><span class="p">;</span>
<span class="ln">21</span><span class="p">};</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="c1">//1. 使用一个已经创建完毕的对象来初始化一个新对象
</span><span class="ln">24</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">25</span>
<span class="ln">26</span>	<span class="n">Person</span> <span class="n">man</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span> <span class="c1">//p对象已经创建完毕
</span><span class="ln">27</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">newman</span><span class="p">(</span><span class="n">man</span><span class="p">);</span> <span class="c1">//调用拷贝构造函数
</span><span class="ln">28</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">newman2</span> <span class="o">=</span> <span class="n">man</span><span class="p">;</span> <span class="c1">//拷贝构造
</span><span class="ln">29</span><span class="c1"></span>
<span class="ln">30</span>	<span class="c1">//Person newman3;
</span><span class="ln">31</span><span class="c1"></span>	<span class="c1">//newman3 = man; //不是调用拷贝构造函数，赋值操作
</span><span class="ln">32</span><span class="c1"></span><span class="p">}</span>
<span class="ln">33</span>
<span class="ln">34</span><span class="c1">//2. 值传递的方式给函数参数传值
</span><span class="ln">35</span><span class="c1">//相当于Person p1 = p;
</span><span class="ln">36</span><span class="c1"></span><span class="kt">void</span> <span class="nf">doWork</span><span class="p">(</span><span class="n">Person</span> <span class="n">p1</span><span class="p">)</span> <span class="p">{}</span>
<span class="ln">37</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">38</span>	<span class="n">Person</span> <span class="n">p</span><span class="p">;</span> <span class="c1">//无参构造函数
</span><span class="ln">39</span><span class="c1"></span>	<span class="n">doWork</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<span class="ln">40</span><span class="p">}</span>
<span class="ln">41</span>
<span class="ln">42</span><span class="c1">//3. 以值方式返回局部对象
</span><span class="ln">43</span><span class="c1"></span><span class="n">Person</span> <span class="nf">doWork2</span><span class="p">()</span>
<span class="ln">44</span><span class="p">{</span>
<span class="ln">45</span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">;</span>
<span class="ln">46</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">p1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">47</span>	<span class="k">return</span> <span class="n">p1</span><span class="p">;</span>
<span class="ln">48</span><span class="p">}</span>
<span class="ln">49</span>
<span class="ln">50</span><span class="kt">void</span> <span class="nf">test03</span><span class="p">()</span>
<span class="ln">51</span><span class="p">{</span>
<span class="ln">52</span>	<span class="n">Person</span> <span class="n">p</span> <span class="o">=</span> <span class="n">doWork2</span><span class="p">();</span>
<span class="ln">53</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">p</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">54</span><span class="p">}</span>
<span class="ln">55</span>
<span class="ln">56</span>
<span class="ln">57</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">58</span>
<span class="ln">59</span>	<span class="c1">//test01();
</span><span class="ln">60</span><span class="c1"></span>	<span class="c1">//test02();
</span><span class="ln">61</span><span class="c1"></span>	<span class="n">test03</span><span class="p">();</span>
<span class="ln">62</span>
<span class="ln">63</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">64</span>
<span class="ln">65</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">66</span><span class="p">}</span>
</code></pre></div><h4 id="iv-构造函数调用规则">IV 构造函数调用规则</h4>
<p>默认情况下，c++编译器至少给一个类添加3个函数</p>
<p>1．默认构造函数(无参，函数体为空)</p>
<p>2．默认析构函数(无参，函数体为空)</p>
<p>3．默认拷贝构造函数，对属性进行值拷贝</p>
<p>构造函数调用规则如下：</p>
<ul>
<li>
<p>如果用户定义有参构造函数，c++不在提供默认无参构造，但是会提供默认拷贝构造</p>
</li>
<li>
<p>如果用户定义拷贝构造函数，c++不会再提供其他构造函数</p>
</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="c1">//无参（默认）构造函数
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 5</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;无参构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span>	<span class="c1">//有参构造函数
</span><span class="ln"> 8</span><span class="c1"></span>	<span class="n">Person</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 9</span>		<span class="n">age</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln">10</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;有参构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>	<span class="p">}</span>
<span class="ln">12</span>	<span class="c1">//拷贝构造函数
</span><span class="ln">13</span><span class="c1"></span>	<span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">14</span>		<span class="n">age</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span><span class="p">;</span>
<span class="ln">15</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;拷贝构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">16</span>	<span class="p">}</span>
<span class="ln">17</span>	<span class="c1">//析构函数
</span><span class="ln">18</span><span class="c1"></span>	<span class="o">~</span><span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">19</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;析构函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">20</span>	<span class="p">}</span>
<span class="ln">21</span><span class="k">public</span><span class="o">:</span>
<span class="ln">22</span>	<span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
<span class="ln">23</span><span class="p">};</span>
<span class="ln">24</span>
<span class="ln">25</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">26</span><span class="p">{</span>
<span class="ln">27</span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="mi">18</span><span class="p">);</span>
<span class="ln">28</span>	<span class="c1">//如果不写拷贝构造，编译器会自动添加拷贝构造，并且做浅拷贝操作
</span><span class="ln">29</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p2</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
<span class="ln">30</span>
<span class="ln">31</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;p2的年龄为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p2</span><span class="p">.</span><span class="n">age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">32</span><span class="p">}</span>
<span class="ln">33</span>
<span class="ln">34</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">35</span><span class="p">{</span>
<span class="ln">36</span>	<span class="c1">//如果用户提供有参构造，编译器不会提供默认构造，会提供拷贝构造
</span><span class="ln">37</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">;</span> <span class="c1">//此时如果用户自己没有提供默认构造，会出错
</span><span class="ln">38</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p2</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">//用户提供的有参
</span><span class="ln">39</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p3</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span> <span class="c1">//此时如果用户没有提供拷贝构造，编译器会提供
</span><span class="ln">40</span><span class="c1"></span>
<span class="ln">41</span>	<span class="c1">//如果用户提供拷贝构造，编译器不会提供其他构造函数
</span><span class="ln">42</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p4</span><span class="p">;</span> <span class="c1">//此时如果用户自己没有提供默认构造，会出错
</span><span class="ln">43</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p5</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">//此时如果用户自己没有提供有参，会出错
</span><span class="ln">44</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p6</span><span class="p">(</span><span class="n">p5</span><span class="p">);</span> <span class="c1">//用户自己提供拷贝构造
</span><span class="ln">45</span><span class="c1"></span><span class="p">}</span>
<span class="ln">46</span>
<span class="ln">47</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">48</span>
<span class="ln">49</span>	<span class="n">test01</span><span class="p">();</span>
<span class="ln">50</span>
<span class="ln">51</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">52</span>
<span class="ln">53</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">54</span><span class="p">}</span>
</code></pre></div><h4 id="v-深拷贝与浅拷贝">V 深拷贝与浅拷贝</h4>
<p>浅拷贝：简单的赋值拷贝操作</p>
<p>深拷贝：在堆区重新申请空间，进行拷贝操作</p>
<p>如果属性有在堆区开辟的，一定要自己提供拷贝构造函数，防止浅拷贝带来的问题</p>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="c1">//无参（默认）构造函数
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 5</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;无参构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span>	<span class="c1">//有参构造函数
</span><span class="ln"> 8</span><span class="c1"></span>	<span class="n">Person</span><span class="p">(</span><span class="kt">int</span> <span class="n">age</span> <span class="p">,</span><span class="kt">int</span> <span class="n">height</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 9</span>		
<span class="ln">10</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;有参构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>
<span class="ln">12</span>		<span class="n">m_age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln">13</span>		<span class="n">m_height</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="n">height</span><span class="p">);</span>
<span class="ln">14</span>		
<span class="ln">15</span>	<span class="p">}</span>
<span class="ln">16</span>	<span class="c1">//拷贝构造函数  
</span><span class="ln">17</span><span class="c1"></span>	<span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">18</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;拷贝构造函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">19</span>		<span class="c1">//如果不利用深拷贝在堆区创建新内存，会导致浅拷贝带来的重复释放堆区问题
</span><span class="ln">20</span><span class="c1"></span>		<span class="n">m_age</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">m_age</span><span class="p">;</span>
<span class="ln">21</span>		<span class="n">m_height</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">m_height</span><span class="p">);</span>
<span class="ln">22</span>		
<span class="ln">23</span>	<span class="p">}</span>
<span class="ln">24</span>
<span class="ln">25</span>	<span class="c1">//析构函数
</span><span class="ln">26</span><span class="c1"></span>	<span class="o">~</span><span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">27</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;析构函数!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">28</span>		<span class="k">if</span> <span class="p">(</span><span class="n">m_height</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
<span class="ln">29</span>		<span class="p">{</span>
<span class="ln">30</span>			<span class="k">delete</span> <span class="n">m_height</span><span class="p">;</span>
<span class="ln">31</span>		<span class="p">}</span>
<span class="ln">32</span>	<span class="p">}</span>
<span class="ln">33</span><span class="k">public</span><span class="o">:</span>
<span class="ln">34</span>	<span class="kt">int</span> <span class="n">m_age</span><span class="p">;</span>
<span class="ln">35</span>	<span class="kt">int</span><span class="o">*</span> <span class="n">m_height</span><span class="p">;</span>
<span class="ln">36</span><span class="p">};</span>
</code></pre></div><h4 id="vi-初始化列表">VI 初始化列表</h4>
<p>C++提供了初始化列表语法，用来初始化属性</p>
<p><code>构造函数()：属性1(值1),属性2（值2）... {}</code></p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln">1</span>	<span class="c1">////传统方式初始化
</span><span class="ln">2</span><span class="c1"></span>	<span class="c1">//Person(int a, int b, int c) {
</span><span class="ln">3</span><span class="c1"></span>	<span class="c1">//	m_A = a;
</span><span class="ln">4</span><span class="c1"></span>	<span class="c1">//	m_B = b;
</span><span class="ln">5</span><span class="c1"></span>	<span class="c1">//	m_C = c;
</span><span class="ln">6</span><span class="c1"></span>	<span class="c1">//}
</span><span class="ln">7</span><span class="c1"></span>
<span class="ln">8</span>	<span class="c1">//初始化列表方式初始化
</span><span class="ln">9</span><span class="c1"></span>	<span class="n">Person</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="o">:</span><span class="n">m_A</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">m_B</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="n">m_C</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="p">{}</span>
</code></pre></div><h4 id="vii-类对象作为类成员">VII 类对象作为类成员</h4>
<p>当类中成员是其他类对象时，我们称该成员为 对象成员</p>
<p>构造的顺序是 ：先调用对象成员的构造，再调用本类构造</p>
<p>析构顺序与构造相反</p>
<h4 id="viii-静态成员">VIII 静态成员</h4>
<p>静态成员就是在成员变量和成员函数前加上关键字static，称为静态成员</p>
<p>静态成员分为：</p>
<ul>
<li>静态成员变量
<ul>
<li>所有对象共享同一份数据</li>
<li>在编译阶段分配内存</li>
<li>类内声明，类外初始化</li>
</ul>
</li>
<li>静态成员函数
<ul>
<li>所有对象共享同一个函数</li>
<li>静态成员函数只能访问静态成员变量</li>
</ul>
</li>
</ul>
<h3 id="c对象模型和this指针">C++对象模型和this指针</h3>
<h4 id="成员变量和成员函数分开存储">成员变量和成员函数分开存储</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 4</span>		<span class="n">mA</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="p">}</span>
<span class="ln"> 6</span>	<span class="c1">//非静态成员变量占对象空间
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">mA</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="c1">//静态成员变量不占对象空间
</span><span class="ln"> 9</span><span class="c1"></span>	<span class="k">static</span> <span class="kt">int</span> <span class="n">mB</span><span class="p">;</span> 
<span class="ln">10</span>	<span class="c1">//函数也不占对象空间，所有函数共享一个函数实例
</span><span class="ln">11</span><span class="c1"></span>	<span class="kt">void</span> <span class="nf">func</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">12</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;mA:&#34;</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">mA</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">13</span>	<span class="p">}</span>
<span class="ln">14</span>	<span class="c1">//静态成员函数也不占对象空间
</span><span class="ln">15</span><span class="c1"></span>	<span class="k">static</span> <span class="kt">void</span> <span class="nf">sfunc</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">16</span>	<span class="p">}</span>
<span class="ln">17</span><span class="p">};</span>
</code></pre></div><h4 id="this指针概念">this指针概念</h4>
<p>每一个非静态成员函数只会诞生一份函数实例，也就是说多个同类型的对象会共用一块代码</p>
<p>那么问题是：这一块代码是如何区分那个对象调用自己的呢？</p>
<p>c++通过提供特殊的对象指针，this指针，解决上述问题。<strong>this指针指向被调用的成员函数所属的对象</strong></p>
<p>this指针是隐含每一个非静态成员函数内的一种指针</p>
<p>this指针不需要定义，直接使用即可</p>
<p>this指针的用途：</p>
<ul>
<li>当形参和成员变量同名时，可用this指针来区分</li>
<li>在类的非静态成员函数中返回对象本身，可使用return *this</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="n">Person</span><span class="p">(</span><span class="kt">int</span> <span class="n">age</span><span class="p">)</span>
<span class="ln"> 2</span>	<span class="p">{</span>
<span class="ln"> 3</span>		<span class="c1">//1、当形参和成员变量同名时，可用this指针来区分
</span><span class="ln"> 4</span><span class="c1"></span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="p">}</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span>	<span class="n">Person</span><span class="o">&amp;</span> <span class="n">PersonAddPerson</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span>
<span class="ln"> 8</span>	<span class="p">{</span>
<span class="ln"> 9</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">age</span> <span class="o">+=</span> <span class="n">p</span><span class="p">.</span><span class="n">age</span><span class="p">;</span>
<span class="ln">10</span>		<span class="c1">//返回对象本身
</span><span class="ln">11</span><span class="c1"></span>		<span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="ln">12</span>	<span class="p">}</span>
</code></pre></div><h4 id="空指针访问成员函数">空指针访问成员函数</h4>
<p>C++中空指针也是可以调用成员函数的，但是也要注意有没有用到this指针</p>
<p>如果用到this指针，需要加以判断保证代码的健壮性</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//空指针访问成员函数
</span><span class="ln"> 2</span><span class="c1"></span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="kt">void</span> <span class="n">ShowClassName</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 6</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;我是Person类!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="p">}</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="kt">void</span> <span class="nf">ShowPerson</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">10</span>		<span class="k">if</span> <span class="p">(</span><span class="k">this</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">11</span>			<span class="k">return</span><span class="p">;</span>
<span class="ln">12</span>		<span class="p">}</span>
<span class="ln">13</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">mAge</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>	<span class="p">}</span>
<span class="ln">15</span>
<span class="ln">16</span><span class="k">public</span><span class="o">:</span>
<span class="ln">17</span>	<span class="kt">int</span> <span class="n">mAge</span><span class="p">;</span>
<span class="ln">18</span><span class="p">};</span>
<span class="ln">19</span>
<span class="ln">20</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">21</span><span class="p">{</span>
<span class="ln">22</span>	<span class="n">Person</span> <span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="ln">23</span>	<span class="n">p</span><span class="o">-&gt;</span><span class="n">ShowClassName</span><span class="p">();</span> <span class="c1">//空指针，可以调用成员函数
</span><span class="ln">24</span><span class="c1"></span>	<span class="n">p</span><span class="o">-&gt;</span><span class="n">ShowPerson</span><span class="p">();</span>  <span class="c1">//但是如果成员函数中用到了this指针，就不可以了
</span><span class="ln">25</span><span class="c1"></span><span class="p">}</span>
</code></pre></div><h4 id="const修饰成员函数">const修饰成员函数</h4>
<p><strong>常函数：</strong></p>
<ul>
<li>成员函数后加const后我们称为这个函数为<strong>常函数</strong></li>
<li>常函数内不可以修改成员属性</li>
<li>成员属性声明时加关键字mutable后，在常函数中依然可以修改</li>
</ul>
<p><strong>常对象：</strong></p>
<ul>
<li>声明对象前加const称该对象为常对象</li>
<li>常对象只能调用常函数</li>
</ul>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="n">Person</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 4</span>		<span class="n">m_A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 5</span>		<span class="n">m_B</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="c1">//this指针的本质是一个指针常量，指针的指向不可修改
</span><span class="ln"> 9</span><span class="c1"></span>	<span class="c1">//如果想让指针指向的值也不可以修改，需要声明常函数
</span><span class="ln">10</span><span class="c1"></span>	<span class="kt">void</span> <span class="nf">ShowPerson</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
<span class="ln">11</span>		<span class="c1">//const Type* const pointer;
</span><span class="ln">12</span><span class="c1"></span>		<span class="c1">//this = NULL; //不能修改指针的指向 Person* const this;
</span><span class="ln">13</span><span class="c1"></span>		<span class="c1">//this-&gt;mA = 100; //但是this指针指向的对象的数据是可以修改的
</span><span class="ln">14</span><span class="c1"></span>
<span class="ln">15</span>		<span class="c1">//const修饰成员函数，表示指针指向的内存空间的数据不能修改，除了mutable修饰的变量
</span><span class="ln">16</span><span class="c1"></span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_B</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="ln">17</span>	<span class="p">}</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="kt">void</span> <span class="nf">MyFunc</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
<span class="ln">20</span>		<span class="c1">//mA = 10000;
</span><span class="ln">21</span><span class="c1"></span>	<span class="p">}</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="k">public</span><span class="o">:</span>
<span class="ln">24</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">25</span>	<span class="k">mutable</span> <span class="kt">int</span> <span class="n">m_B</span><span class="p">;</span> <span class="c1">//可修改 可变的
</span><span class="ln">26</span><span class="c1"></span><span class="p">};</span>
<span class="ln">27</span>
<span class="ln">28</span>
<span class="ln">29</span><span class="c1">//const修饰对象  常对象
</span><span class="ln">30</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">31</span>
<span class="ln">32</span>	<span class="k">const</span> <span class="n">Person</span> <span class="n">person</span><span class="p">;</span> <span class="c1">//常量对象  
</span><span class="ln">33</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">person</span><span class="p">.</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">34</span>	<span class="c1">//person.mA = 100; //常对象不能修改成员变量的值,但是可以访问
</span><span class="ln">35</span><span class="c1"></span>	<span class="n">person</span><span class="p">.</span><span class="n">m_B</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">//但是常对象可以修改mutable修饰成员变量
</span><span class="ln">36</span><span class="c1"></span>
<span class="ln">37</span>	<span class="c1">//常对象访问成员函数
</span><span class="ln">38</span><span class="c1"></span>	<span class="n">person</span><span class="p">.</span><span class="n">MyFunc</span><span class="p">();</span> <span class="c1">//常对象不能调用const的函数
</span><span class="ln">39</span><span class="c1"></span>
<span class="ln">40</span><span class="p">}</span>
</code></pre></div><h3 id="友元">友元</h3>
<p>在程序里，有些私有属性 也想让类外特殊的一些函数或者类进行访问，就需要用到友元的技术</p>
<p>友元的目的就是让一个函数或者类 访问另一个类中私有成员</p>
<p>友元的关键字为  ==friend==</p>
<p>友元的三种实现</p>
<ul>
<li>全局函数做友元</li>
<li>类做友元</li>
<li>成员函数做友元</li>
</ul>
<h4 id="全局函数做友元">全局函数做友元</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Building</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="c1">//告诉编译器 goodGay全局函数 是 Building类的好朋友，可以访问类中的私有内容
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="k">friend</span> <span class="kt">void</span> <span class="nf">goodGay</span><span class="p">(</span><span class="n">Building</span> <span class="o">*</span> <span class="n">building</span><span class="p">);</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="n">Building</span><span class="p">()</span>
<span class="ln"> 9</span>	<span class="p">{</span>
<span class="ln">10</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_SittingRoom</span> <span class="o">=</span> <span class="s">&#34;客厅&#34;</span><span class="p">;</span>
<span class="ln">11</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_BedRoom</span> <span class="o">=</span> <span class="s">&#34;卧室&#34;</span><span class="p">;</span>
<span class="ln">12</span>	<span class="p">}</span>
<span class="ln">13</span>
<span class="ln">14</span>
<span class="ln">15</span><span class="k">public</span><span class="o">:</span>
<span class="ln">16</span>	<span class="n">string</span> <span class="n">m_SittingRoom</span><span class="p">;</span> <span class="c1">//客厅
</span><span class="ln">17</span><span class="c1"></span>
<span class="ln">18</span><span class="k">private</span><span class="o">:</span>
<span class="ln">19</span>	<span class="n">string</span> <span class="n">m_BedRoom</span><span class="p">;</span> <span class="c1">//卧室
</span><span class="ln">20</span><span class="c1"></span><span class="p">};</span>
<span class="ln">21</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="kt">void</span> <span class="nf">goodGay</span><span class="p">(</span><span class="n">Building</span> <span class="o">*</span> <span class="n">building</span><span class="p">)</span>
<span class="ln">24</span><span class="p">{</span>
<span class="ln">25</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;好基友正在访问： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">building</span><span class="o">-&gt;</span><span class="n">m_SittingRoom</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">26</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;好基友正在访问： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">building</span><span class="o">-&gt;</span><span class="n">m_BedRoom</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">27</span><span class="p">}</span>
<span class="ln">28</span>
<span class="ln">29</span>
<span class="ln">30</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">31</span><span class="p">{</span>
<span class="ln">32</span>	<span class="n">Building</span> <span class="n">b</span><span class="p">;</span>
<span class="ln">33</span>	<span class="n">goodGay</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">);</span>
<span class="ln">34</span><span class="p">}</span>
<span class="ln">35</span>
</code></pre></div><h4 id="类做友元">类做友元</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Building</span><span class="p">;</span>
<span class="ln"> 2</span><span class="k">class</span> <span class="nc">goodGay</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="n">goodGay</span><span class="p">();</span>
<span class="ln"> 7</span>	<span class="kt">void</span> <span class="nf">visit</span><span class="p">();</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span><span class="k">private</span><span class="o">:</span>
<span class="ln">10</span>	<span class="n">Building</span> <span class="o">*</span><span class="n">building</span><span class="p">;</span>
<span class="ln">11</span><span class="p">};</span>
<span class="ln">12</span>
<span class="ln">13</span>
<span class="ln">14</span><span class="k">class</span> <span class="nc">Building</span>
<span class="ln">15</span><span class="p">{</span>
<span class="ln">16</span>	<span class="c1">//告诉编译器 goodGay类是Building类的好朋友，可以访问到Building类中私有内容
</span><span class="ln">17</span><span class="c1"></span>	<span class="k">friend</span> <span class="k">class</span> <span class="nc">goodGay</span><span class="p">;</span>
<span class="ln">18</span>
<span class="ln">19</span><span class="k">public</span><span class="o">:</span>
<span class="ln">20</span>	<span class="n">Building</span><span class="p">();</span>
<span class="ln">21</span>
<span class="ln">22</span><span class="k">public</span><span class="o">:</span>
<span class="ln">23</span>	<span class="n">string</span> <span class="n">m_SittingRoom</span><span class="p">;</span> <span class="c1">//客厅
</span><span class="ln">24</span><span class="c1"></span><span class="k">private</span><span class="o">:</span>
<span class="ln">25</span>	<span class="n">string</span> <span class="n">m_BedRoom</span><span class="p">;</span><span class="c1">//卧室
</span><span class="ln">26</span><span class="c1"></span><span class="p">};</span>
<span class="ln">27</span>
<span class="ln">28</span><span class="n">Building</span><span class="o">::</span><span class="n">Building</span><span class="p">()</span>
<span class="ln">29</span><span class="p">{</span>
<span class="ln">30</span>	<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_SittingRoom</span> <span class="o">=</span> <span class="s">&#34;客厅&#34;</span><span class="p">;</span>
<span class="ln">31</span>	<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_BedRoom</span> <span class="o">=</span> <span class="s">&#34;卧室&#34;</span><span class="p">;</span>
<span class="ln">32</span><span class="p">}</span>
<span class="ln">33</span>
<span class="ln">34</span><span class="n">goodGay</span><span class="o">::</span><span class="n">goodGay</span><span class="p">()</span>
<span class="ln">35</span><span class="p">{</span>
<span class="ln">36</span>	<span class="n">building</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Building</span><span class="p">;</span>
<span class="ln">37</span><span class="p">}</span>
<span class="ln">38</span>
<span class="ln">39</span><span class="kt">void</span> <span class="n">goodGay</span><span class="o">::</span><span class="n">visit</span><span class="p">()</span>
<span class="ln">40</span><span class="p">{</span>
<span class="ln">41</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;好基友正在访问&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">building</span><span class="o">-&gt;</span><span class="n">m_SittingRoom</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">42</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;好基友正在访问&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">building</span><span class="o">-&gt;</span><span class="n">m_BedRoom</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">43</span><span class="p">}</span>
<span class="ln">44</span>
<span class="ln">45</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">46</span><span class="p">{</span>
<span class="ln">47</span>	<span class="n">goodGay</span> <span class="n">gg</span><span class="p">;</span>
<span class="ln">48</span>	<span class="n">gg</span><span class="p">.</span><span class="n">visit</span><span class="p">();</span>
<span class="ln">49</span>
<span class="ln">50</span><span class="p">}</span>
</code></pre></div><h4 id="成员函数做友元">成员函数做友元</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Building</span><span class="p">;</span>
<span class="ln"> 2</span><span class="k">class</span> <span class="nc">goodGay</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="n">goodGay</span><span class="p">();</span>
<span class="ln"> 7</span>	<span class="kt">void</span> <span class="nf">visit</span><span class="p">();</span> <span class="c1">//只让visit函数作为Building的好朋友，可以发访问Building中私有内容
</span><span class="ln"> 8</span><span class="c1"></span>	<span class="kt">void</span> <span class="nf">visit2</span><span class="p">();</span> 
<span class="ln"> 9</span>
<span class="ln">10</span><span class="k">private</span><span class="o">:</span>
<span class="ln">11</span>	<span class="n">Building</span> <span class="o">*</span><span class="n">building</span><span class="p">;</span>
<span class="ln">12</span><span class="p">};</span>
<span class="ln">13</span>
<span class="ln">14</span>
<span class="ln">15</span><span class="k">class</span> <span class="nc">Building</span>
<span class="ln">16</span><span class="p">{</span>
<span class="ln">17</span>	<span class="c1">//告诉编译器  goodGay类中的visit成员函数 是Building好朋友，可以访问私有内容
</span><span class="ln">18</span><span class="c1"></span>	<span class="k">friend</span> <span class="kt">void</span> <span class="n">goodGay</span><span class="o">::</span><span class="n">visit</span><span class="p">();</span>
<span class="ln">19</span>
<span class="ln">20</span><span class="k">public</span><span class="o">:</span>
<span class="ln">21</span>	<span class="n">Building</span><span class="p">();</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="k">public</span><span class="o">:</span>
<span class="ln">24</span>	<span class="n">string</span> <span class="n">m_SittingRoom</span><span class="p">;</span> <span class="c1">//客厅
</span><span class="ln">25</span><span class="c1"></span><span class="k">private</span><span class="o">:</span>
<span class="ln">26</span>	<span class="n">string</span> <span class="n">m_BedRoom</span><span class="p">;</span><span class="c1">//卧室
</span><span class="ln">27</span><span class="c1"></span><span class="p">};</span>
<span class="ln">28</span>
<span class="ln">29</span><span class="n">Building</span><span class="o">::</span><span class="n">Building</span><span class="p">()</span>
<span class="ln">30</span><span class="p">{</span>
<span class="ln">31</span>	<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_SittingRoom</span> <span class="o">=</span> <span class="s">&#34;客厅&#34;</span><span class="p">;</span>
<span class="ln">32</span>	<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_BedRoom</span> <span class="o">=</span> <span class="s">&#34;卧室&#34;</span><span class="p">;</span>
<span class="ln">33</span><span class="p">}</span>
<span class="ln">34</span>
<span class="ln">35</span><span class="n">goodGay</span><span class="o">::</span><span class="n">goodGay</span><span class="p">()</span>
<span class="ln">36</span><span class="p">{</span>
<span class="ln">37</span>	<span class="n">building</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Building</span><span class="p">;</span>
<span class="ln">38</span><span class="p">}</span>
<span class="ln">39</span>
<span class="ln">40</span><span class="kt">void</span> <span class="n">goodGay</span><span class="o">::</span><span class="n">visit</span><span class="p">()</span>
<span class="ln">41</span><span class="p">{</span>
<span class="ln">42</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;好基友正在访问&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">building</span><span class="o">-&gt;</span><span class="n">m_SittingRoom</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">43</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;好基友正在访问&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">building</span><span class="o">-&gt;</span><span class="n">m_BedRoom</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">44</span><span class="p">}</span>
<span class="ln">45</span>
<span class="ln">46</span><span class="kt">void</span> <span class="n">goodGay</span><span class="o">::</span><span class="n">visit2</span><span class="p">()</span>
<span class="ln">47</span><span class="p">{</span>
<span class="ln">48</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;好基友正在访问&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">building</span><span class="o">-&gt;</span><span class="n">m_SittingRoom</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">49</span>	<span class="c1">//cout &lt;&lt; &#34;好基友正在访问&#34; &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;
</span><span class="ln">50</span><span class="c1"></span><span class="p">}</span>
<span class="ln">51</span>
<span class="ln">52</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">53</span><span class="p">{</span>
<span class="ln">54</span>	<span class="n">goodGay</span>  <span class="n">gg</span><span class="p">;</span>
<span class="ln">55</span>	<span class="n">gg</span><span class="p">.</span><span class="n">visit</span><span class="p">();</span>
<span class="ln">56</span>
<span class="ln">57</span><span class="p">}</span>
</code></pre></div><h3 id="运算符重载">运算符重载</h3>
<p>运算符重载概念：对已有的运算符重新进行定义，赋予其另一种功能，以适应不同的数据类型</p>
<h4 id="加号运算符重载">加号运算符重载</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="n">Person</span><span class="p">()</span> <span class="p">{};</span>
<span class="ln"> 4</span>	<span class="n">Person</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
<span class="ln"> 5</span>	<span class="p">{</span>
<span class="ln"> 6</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_A</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln"> 7</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_B</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="p">}</span>
<span class="ln"> 9</span>	<span class="c1">//成员函数实现 + 号运算符重载
</span><span class="ln">10</span><span class="c1"></span>	<span class="n">Person</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="k">const</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">11</span>		<span class="n">Person</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">12</span>		<span class="n">temp</span><span class="p">.</span><span class="n">m_A</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_A</span> <span class="o">+</span> <span class="n">p</span><span class="p">.</span><span class="n">m_A</span><span class="p">;</span>
<span class="ln">13</span>		<span class="n">temp</span><span class="p">.</span><span class="n">m_B</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_B</span> <span class="o">+</span> <span class="n">p</span><span class="p">.</span><span class="n">m_B</span><span class="p">;</span>
<span class="ln">14</span>		<span class="k">return</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">15</span>	<span class="p">}</span>
<span class="ln">16</span>
<span class="ln">17</span>
<span class="ln">18</span><span class="k">public</span><span class="o">:</span>
<span class="ln">19</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">20</span>	<span class="kt">int</span> <span class="n">m_B</span><span class="p">;</span>
<span class="ln">21</span><span class="p">};</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="c1">//全局函数实现 + 号运算符重载
</span><span class="ln">24</span><span class="c1">//Person operator+(const Person&amp; p1, const Person&amp; p2) {
</span><span class="ln">25</span><span class="c1">//	Person temp(0, 0);
</span><span class="ln">26</span><span class="c1">//	temp.m_A = p1.m_A + p2.m_A;
</span><span class="ln">27</span><span class="c1">//	temp.m_B = p1.m_B + p2.m_B;
</span><span class="ln">28</span><span class="c1">//	return temp;
</span><span class="ln">29</span><span class="c1">//}
</span><span class="ln">30</span><span class="c1"></span>
<span class="ln">31</span><span class="c1">//运算符重载 可以发生函数重载 
</span><span class="ln">32</span><span class="c1"></span><span class="n">Person</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="k">const</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">val</span><span class="p">)</span>  
<span class="ln">33</span><span class="p">{</span>
<span class="ln">34</span>	<span class="n">Person</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">35</span>	<span class="n">temp</span><span class="p">.</span><span class="n">m_A</span> <span class="o">=</span> <span class="n">p2</span><span class="p">.</span><span class="n">m_A</span> <span class="o">+</span> <span class="n">val</span><span class="p">;</span>
<span class="ln">36</span>	<span class="n">temp</span><span class="p">.</span><span class="n">m_B</span> <span class="o">=</span> <span class="n">p2</span><span class="p">.</span><span class="n">m_B</span> <span class="o">+</span> <span class="n">val</span><span class="p">;</span>
<span class="ln">37</span>	<span class="k">return</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">38</span><span class="p">}</span>
<span class="ln">39</span>
<span class="ln">40</span><span class="kt">void</span> <span class="nf">test</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">41</span>
<span class="ln">42</span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="ln">43</span>	<span class="n">Person</span> <span class="n">p2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="ln">44</span>
<span class="ln">45</span>	<span class="c1">//成员函数方式
</span><span class="ln">46</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p3</span> <span class="o">=</span> <span class="n">p2</span> <span class="o">+</span> <span class="n">p1</span><span class="p">;</span>  <span class="c1">//相当于 p2.operaor+(p1)
</span><span class="ln">47</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;mA:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p3</span><span class="p">.</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; mB:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p3</span><span class="p">.</span><span class="n">m_B</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">48</span>
<span class="ln">49</span>
<span class="ln">50</span>	<span class="n">Person</span> <span class="n">p4</span> <span class="o">=</span> <span class="n">p3</span> <span class="o">+</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">//相当于 operator+(p3,10)
</span><span class="ln">51</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;mA:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p4</span><span class="p">.</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; mB:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p4</span><span class="p">.</span><span class="n">m_B</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">52</span>
<span class="ln">53</span><span class="p">}</span>
</code></pre></div><h4 id="左移运算符重载">左移运算符重载</h4>
<p>重载左移运算符配合友元可以实现输出自定义数据类型</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 2</span>	<span class="k">friend</span> <span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="n">out</span><span class="p">,</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">);</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="n">Person</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
<span class="ln"> 7</span>	<span class="p">{</span>
<span class="ln"> 8</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_A</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln"> 9</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_B</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln">10</span>	<span class="p">}</span>
<span class="ln">11</span>
<span class="ln">12</span>	<span class="c1">//成员函数 实现不了  p &lt;&lt; cout 不是我们想要的效果
</span><span class="ln">13</span><span class="c1"></span>	<span class="c1">//void operator&lt;&lt;(Person&amp; p){
</span><span class="ln">14</span><span class="c1"></span>	<span class="c1">//}
</span><span class="ln">15</span><span class="c1"></span>
<span class="ln">16</span><span class="k">private</span><span class="o">:</span>
<span class="ln">17</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">18</span>	<span class="kt">int</span> <span class="n">m_B</span><span class="p">;</span>
<span class="ln">19</span><span class="p">};</span>
<span class="ln">20</span>
<span class="ln">21</span><span class="c1">//全局函数实现左移重载
</span><span class="ln">22</span><span class="c1">//ostream对象只能有一个
</span><span class="ln">23</span><span class="c1"></span><span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="n">out</span><span class="p">,</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">24</span>	<span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;a:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; b:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">m_B</span><span class="p">;</span>
<span class="ln">25</span>	<span class="k">return</span> <span class="n">out</span><span class="p">;</span>
<span class="ln">26</span><span class="p">}</span>
<span class="ln">27</span>
<span class="ln">28</span><span class="kt">void</span> <span class="nf">test</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">29</span>
<span class="ln">30</span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="ln">31</span>
<span class="ln">32</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p1</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;hello world&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">//链式编程
</span><span class="ln">33</span><span class="c1"></span><span class="p">}</span>
<span class="ln">34</span>
</code></pre></div><h4 id="递增运算符重载">递增运算符重载</h4>
<p>前置递增返回引用，后置递增返回值</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">MyInteger</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="k">friend</span> <span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="n">out</span><span class="p">,</span> <span class="n">MyInteger</span> <span class="n">myint</span><span class="p">);</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 6</span>	<span class="n">MyInteger</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 7</span>		<span class="n">m_Num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="p">}</span>
<span class="ln"> 9</span>	<span class="c1">//前置++
</span><span class="ln">10</span><span class="c1"></span>	<span class="n">MyInteger</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">++</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">11</span>		<span class="c1">//先++
</span><span class="ln">12</span><span class="c1"></span>		<span class="n">m_Num</span><span class="o">++</span><span class="p">;</span>
<span class="ln">13</span>		<span class="c1">//再返回
</span><span class="ln">14</span><span class="c1"></span>		<span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="ln">15</span>	<span class="p">}</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="c1">//后置++
</span><span class="ln">18</span><span class="c1"></span>	<span class="n">MyInteger</span> <span class="k">operator</span><span class="o">++</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">19</span>		<span class="c1">//先返回
</span><span class="ln">20</span><span class="c1"></span>		<span class="n">MyInteger</span> <span class="n">temp</span> <span class="o">=</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span> <span class="c1">//记录当前本身的值，然后让本身的值加1，但是返回的是以前的值，达到先返回后++；
</span><span class="ln">21</span><span class="c1"></span>		<span class="n">m_Num</span><span class="o">++</span><span class="p">;</span>
<span class="ln">22</span>		<span class="k">return</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">23</span>	<span class="p">}</span>
<span class="ln">24</span>
<span class="ln">25</span><span class="k">private</span><span class="o">:</span>
<span class="ln">26</span>	<span class="kt">int</span> <span class="n">m_Num</span><span class="p">;</span>
<span class="ln">27</span><span class="p">};</span>
<span class="ln">28</span>
<span class="ln">29</span>
<span class="ln">30</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">ostream</span><span class="o">&amp;</span> <span class="n">out</span><span class="p">,</span> <span class="n">MyInteger</span> <span class="n">myint</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">31</span>	<span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="n">myint</span><span class="p">.</span><span class="n">m_Num</span><span class="p">;</span>
<span class="ln">32</span>	<span class="k">return</span> <span class="n">out</span><span class="p">;</span>
<span class="ln">33</span><span class="p">}</span>
<span class="ln">34</span>
<span class="ln">35</span>
<span class="ln">36</span><span class="c1">//前置++ 先++ 再返回
</span><span class="ln">37</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">38</span>	<span class="n">MyInteger</span> <span class="n">myInt</span><span class="p">;</span>
<span class="ln">39</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">++</span><span class="n">myInt</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">40</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">myInt</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">41</span><span class="p">}</span>
<span class="ln">42</span>
<span class="ln">43</span><span class="c1">//后置++ 先返回 再++
</span><span class="ln">44</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">45</span>
<span class="ln">46</span>	<span class="n">MyInteger</span> <span class="n">myInt</span><span class="p">;</span>
<span class="ln">47</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">myInt</span><span class="o">++</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">48</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">myInt</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">49</span><span class="p">}</span>
</code></pre></div><h4 id="赋值运算符重载">赋值运算符重载</h4>
<p>c++编译器至少给一个类添加4个函数</p>
<ol>
<li>默认构造函数(无参，函数体为空)</li>
<li>默认析构函数(无参，函数体为空)</li>
<li>默认拷贝构造函数，对属性进行值拷贝</li>
<li>赋值运算符 operator=, 对属性进行值拷贝</li>
</ol>
<p>如果类中有属性指向堆区，做赋值操作时也会出现深浅拷贝问题</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="n">Person</span><span class="p">(</span><span class="kt">int</span> <span class="n">age</span><span class="p">)</span>
<span class="ln"> 6</span>	<span class="p">{</span>
<span class="ln"> 7</span>		<span class="c1">//将年龄数据开辟到堆区
</span><span class="ln"> 8</span><span class="c1"></span>		<span class="n">m_Age</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="n">age</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="p">}</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="c1">//重载赋值运算符 
</span><span class="ln">12</span><span class="c1"></span>	<span class="n">Person</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">Person</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">)</span>
<span class="ln">13</span>	<span class="p">{</span>
<span class="ln">14</span>		<span class="k">if</span> <span class="p">(</span><span class="n">m_Age</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
<span class="ln">15</span>		<span class="p">{</span>
<span class="ln">16</span>			<span class="k">delete</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln">17</span>			<span class="n">m_Age</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="ln">18</span>		<span class="p">}</span>
<span class="ln">19</span>		<span class="c1">//编译器提供的代码是浅拷贝
</span><span class="ln">20</span><span class="c1"></span>		<span class="c1">//m_Age = p.m_Age;
</span><span class="ln">21</span><span class="c1"></span>
<span class="ln">22</span>		<span class="c1">//提供深拷贝 解决浅拷贝的问题
</span><span class="ln">23</span><span class="c1"></span>		<span class="n">m_Age</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">m_Age</span><span class="p">);</span>
<span class="ln">24</span>
<span class="ln">25</span>		<span class="c1">//返回自身
</span><span class="ln">26</span><span class="c1"></span>		<span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="ln">27</span>	<span class="p">}</span>
<span class="ln">28</span>
<span class="ln">29</span>
<span class="ln">30</span>	<span class="o">~</span><span class="n">Person</span><span class="p">()</span>
<span class="ln">31</span>	<span class="p">{</span>
<span class="ln">32</span>		<span class="k">if</span> <span class="p">(</span><span class="n">m_Age</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
<span class="ln">33</span>		<span class="p">{</span>
<span class="ln">34</span>			<span class="k">delete</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln">35</span>			<span class="n">m_Age</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="ln">36</span>		<span class="p">}</span>
<span class="ln">37</span>	<span class="p">}</span>
<span class="ln">38</span>
<span class="ln">39</span>	<span class="c1">//年龄的指针
</span><span class="ln">40</span><span class="c1"></span>	<span class="kt">int</span> <span class="o">*</span><span class="n">m_Age</span><span class="p">;</span>
<span class="ln">41</span>
<span class="ln">42</span><span class="p">};</span>
<span class="ln">43</span>
<span class="ln">44</span>
<span class="ln">45</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">46</span><span class="p">{</span>
<span class="ln">47</span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="mi">18</span><span class="p">);</span>
<span class="ln">48</span>
<span class="ln">49</span>	<span class="n">Person</span> <span class="n">p2</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln">50</span>
<span class="ln">51</span>	<span class="n">Person</span> <span class="n">p3</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">52</span>
<span class="ln">53</span>	<span class="n">p3</span> <span class="o">=</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">p1</span><span class="p">;</span> <span class="c1">//赋值操作
</span><span class="ln">54</span><span class="c1"></span>
<span class="ln">55</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;p1的年龄为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p1</span><span class="p">.</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">56</span>
<span class="ln">57</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;p2的年龄为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p2</span><span class="p">.</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">58</span>
<span class="ln">59</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;p3的年龄为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p3</span><span class="p">.</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">60</span><span class="p">}</span>
</code></pre></div><h4 id="关系运算符重载">关系运算符重载</h4>
<p>重载关系运算符，可以让两个自定义类型对象进行对比操作</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>	<span class="n">Person</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">)</span>
<span class="ln"> 5</span>	<span class="p">{</span>
<span class="ln"> 6</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
<span class="ln"> 7</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="p">};</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	<span class="kt">bool</span> <span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="n">Person</span> <span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span>
<span class="ln">11</span>	<span class="p">{</span>
<span class="ln">12</span>		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">==</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Name</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">==</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Age</span><span class="p">)</span>
<span class="ln">13</span>		<span class="p">{</span>
<span class="ln">14</span>			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="ln">15</span>		<span class="p">}</span>
<span class="ln">16</span>		<span class="k">else</span>
<span class="ln">17</span>		<span class="p">{</span>
<span class="ln">18</span>			<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="ln">19</span>		<span class="p">}</span>
<span class="ln">20</span>	<span class="p">}</span>
<span class="ln">21</span>
<span class="ln">22</span>	<span class="kt">bool</span> <span class="k">operator</span><span class="o">!=</span><span class="p">(</span><span class="n">Person</span> <span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span>
<span class="ln">23</span>	<span class="p">{</span>
<span class="ln">24</span>		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">==</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Name</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">==</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Age</span><span class="p">)</span>
<span class="ln">25</span>		<span class="p">{</span>
<span class="ln">26</span>			<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="ln">27</span>		<span class="p">}</span>
<span class="ln">28</span>		<span class="k">else</span>
<span class="ln">29</span>		<span class="p">{</span>
<span class="ln">30</span>			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="ln">31</span>		<span class="p">}</span>
<span class="ln">32</span>	<span class="p">}</span>
<span class="ln">33</span>
<span class="ln">34</span>	<span class="n">string</span> <span class="n">m_Name</span><span class="p">;</span>
<span class="ln">35</span>	<span class="kt">int</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln">36</span><span class="p">};</span>
</code></pre></div><h4 id="函数调用运算符重载">函数调用运算符重载</h4>
<ul>
<li>函数调用运算符 ()  也可以重载</li>
<li>由于重载后使用的方式非常像函数的调用，因此称为仿函数</li>
<li>仿函数没有固定写法，非常灵活</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">MyPrint</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>	<span class="kt">void</span> <span class="k">operator</span><span class="p">()(</span><span class="n">string</span> <span class="n">text</span><span class="p">)</span>
<span class="ln"> 5</span>	<span class="p">{</span>
<span class="ln"> 6</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">text</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="p">}</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span><span class="p">};</span>
<span class="ln">10</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">11</span><span class="p">{</span>
<span class="ln">12</span>	<span class="c1">//重载的（）操作符 也称为仿函数
</span><span class="ln">13</span><span class="c1"></span>	<span class="n">MyPrint</span> <span class="n">myFunc</span><span class="p">;</span>
<span class="ln">14</span>	<span class="n">myFunc</span><span class="p">(</span><span class="s">&#34;hello world&#34;</span><span class="p">);</span>
<span class="ln">15</span><span class="p">}</span>
<span class="ln">16</span>
<span class="ln">17</span>
<span class="ln">18</span><span class="k">class</span> <span class="nc">MyAdd</span>
<span class="ln">19</span><span class="p">{</span>
<span class="ln">20</span><span class="k">public</span><span class="o">:</span>
<span class="ln">21</span>	<span class="kt">int</span> <span class="k">operator</span><span class="p">()(</span><span class="kt">int</span> <span class="n">v1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">v2</span><span class="p">)</span>
<span class="ln">22</span>	<span class="p">{</span>
<span class="ln">23</span>		<span class="k">return</span> <span class="n">v1</span> <span class="o">+</span> <span class="n">v2</span><span class="p">;</span>
<span class="ln">24</span>	<span class="p">}</span>
<span class="ln">25</span><span class="p">};</span>
<span class="ln">26</span>
<span class="ln">27</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">28</span><span class="p">{</span>
<span class="ln">29</span>	<span class="n">MyAdd</span> <span class="n">add</span><span class="p">;</span>
<span class="ln">30</span>	<span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="ln">31</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ret = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">ret</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">32</span>
<span class="ln">33</span>	<span class="c1">//匿名对象调用  
</span><span class="ln">34</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;MyAdd()(100,100) = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">MyAdd</span><span class="p">()(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">35</span><span class="p">}</span>
</code></pre></div><h3 id="继承">继承</h3>
<h4 id="继承的基本语法">继承的基本语法</h4>
<p>class A : public B;</p>
<p>A 类称为子类 或 派生类</p>
<p>B 类称为父类 或 基类</p>
<p><strong>派生类中的成员，包含两大部分</strong>：</p>
<p>一类是从基类继承过来的，一类是自己增加的成员。</p>
<p>从基类继承过过来的表现其共性，而新增的成员体现了其个性。</p>
<h4 id="继承方式">继承方式</h4>
<p>继承的语法：<code>class 子类 : 继承方式  父类</code></p>
<p><strong>继承方式一共有三种：</strong></p>
<ul>
<li>公共继承</li>
<li>保护继承</li>
<li>私有继承</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Base1</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span> 
<span class="ln"> 4</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln"> 5</span><span class="k">protected</span><span class="o">:</span>
<span class="ln"> 6</span>	<span class="kt">int</span> <span class="n">m_B</span><span class="p">;</span>
<span class="ln"> 7</span><span class="k">private</span><span class="o">:</span>
<span class="ln"> 8</span>	<span class="kt">int</span> <span class="n">m_C</span><span class="p">;</span>
<span class="ln"> 9</span><span class="p">};</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="c1">//公共继承
</span><span class="ln">12</span><span class="c1"></span><span class="k">class</span> <span class="nc">Son1</span> <span class="o">:</span><span class="k">public</span> <span class="n">Base1</span>
<span class="ln">13</span><span class="p">{</span>
<span class="ln">14</span><span class="k">public</span><span class="o">:</span>
<span class="ln">15</span>	<span class="kt">void</span> <span class="n">func</span><span class="p">()</span>
<span class="ln">16</span>	<span class="p">{</span>
<span class="ln">17</span>		<span class="n">m_A</span><span class="p">;</span> <span class="c1">//可访问 public权限
</span><span class="ln">18</span><span class="c1"></span>		<span class="n">m_B</span><span class="p">;</span> <span class="c1">//可访问 protected权限
</span><span class="ln">19</span><span class="c1"></span>		<span class="c1">//m_C; //不可访问
</span><span class="ln">20</span><span class="c1"></span>	<span class="p">}</span>
<span class="ln">21</span><span class="p">};</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="kt">void</span> <span class="nf">myClass</span><span class="p">()</span>
<span class="ln">24</span><span class="p">{</span>
<span class="ln">25</span>	<span class="n">Son1</span> <span class="n">s1</span><span class="p">;</span>
<span class="ln">26</span>	<span class="n">s1</span><span class="p">.</span><span class="n">m_A</span><span class="p">;</span> <span class="c1">//其他类只能访问到公共权限
</span><span class="ln">27</span><span class="c1"></span><span class="p">}</span>
<span class="ln">28</span>
<span class="ln">29</span><span class="c1">//保护继承
</span><span class="ln">30</span><span class="c1"></span><span class="k">class</span> <span class="nc">Base2</span>
<span class="ln">31</span><span class="p">{</span>
<span class="ln">32</span><span class="k">public</span><span class="o">:</span>
<span class="ln">33</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">34</span><span class="k">protected</span><span class="o">:</span>
<span class="ln">35</span>	<span class="kt">int</span> <span class="n">m_B</span><span class="p">;</span>
<span class="ln">36</span><span class="k">private</span><span class="o">:</span>
<span class="ln">37</span>	<span class="kt">int</span> <span class="n">m_C</span><span class="p">;</span>
<span class="ln">38</span><span class="p">};</span>
<span class="ln">39</span><span class="k">class</span> <span class="nc">Son2</span><span class="o">:</span><span class="k">protected</span> <span class="n">Base2</span>
<span class="ln">40</span><span class="p">{</span>
<span class="ln">41</span><span class="k">public</span><span class="o">:</span>
<span class="ln">42</span>	<span class="kt">void</span> <span class="n">func</span><span class="p">()</span>
<span class="ln">43</span>	<span class="p">{</span>
<span class="ln">44</span>		<span class="n">m_A</span><span class="p">;</span> <span class="c1">//可访问 protected权限
</span><span class="ln">45</span><span class="c1"></span>		<span class="n">m_B</span><span class="p">;</span> <span class="c1">//可访问 protected权限
</span><span class="ln">46</span><span class="c1"></span>		<span class="c1">//m_C; //不可访问
</span><span class="ln">47</span><span class="c1"></span>	<span class="p">}</span>
<span class="ln">48</span><span class="p">};</span>
<span class="ln">49</span><span class="kt">void</span> <span class="nf">myClass2</span><span class="p">()</span>
<span class="ln">50</span><span class="p">{</span>
<span class="ln">51</span>	<span class="n">Son2</span> <span class="n">s</span><span class="p">;</span>
<span class="ln">52</span>	<span class="c1">//s.m_A; //不可访问
</span><span class="ln">53</span><span class="c1"></span><span class="p">}</span>
<span class="ln">54</span>
<span class="ln">55</span><span class="c1">//私有继承
</span><span class="ln">56</span><span class="c1"></span><span class="k">class</span> <span class="nc">Base3</span>
<span class="ln">57</span><span class="p">{</span>
<span class="ln">58</span><span class="k">public</span><span class="o">:</span>
<span class="ln">59</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">60</span><span class="k">protected</span><span class="o">:</span>
<span class="ln">61</span>	<span class="kt">int</span> <span class="n">m_B</span><span class="p">;</span>
<span class="ln">62</span><span class="k">private</span><span class="o">:</span>
<span class="ln">63</span>	<span class="kt">int</span> <span class="n">m_C</span><span class="p">;</span>
<span class="ln">64</span><span class="p">};</span>
<span class="ln">65</span><span class="k">class</span> <span class="nc">Son3</span><span class="o">:</span><span class="k">private</span> <span class="n">Base3</span>
<span class="ln">66</span><span class="p">{</span>
<span class="ln">67</span><span class="k">public</span><span class="o">:</span>
<span class="ln">68</span>	<span class="kt">void</span> <span class="n">func</span><span class="p">()</span>
<span class="ln">69</span>	<span class="p">{</span>
<span class="ln">70</span>		<span class="n">m_A</span><span class="p">;</span> <span class="c1">//可访问 private权限
</span><span class="ln">71</span><span class="c1"></span>		<span class="n">m_B</span><span class="p">;</span> <span class="c1">//可访问 private权限
</span><span class="ln">72</span><span class="c1"></span>		<span class="c1">//m_C; //不可访问
</span><span class="ln">73</span><span class="c1"></span>	<span class="p">}</span>
<span class="ln">74</span><span class="p">};</span>
<span class="ln">75</span><span class="k">class</span> <span class="nc">GrandSon3</span> <span class="o">:</span><span class="k">public</span> <span class="n">Son3</span>
<span class="ln">76</span><span class="p">{</span>
<span class="ln">77</span><span class="k">public</span><span class="o">:</span>
<span class="ln">78</span>	<span class="kt">void</span> <span class="n">func</span><span class="p">()</span>
<span class="ln">79</span>	<span class="p">{</span>
<span class="ln">80</span>		<span class="c1">//Son3是私有继承，所以继承Son3的属性在GrandSon3中都无法访问到
</span><span class="ln">81</span><span class="c1"></span>		<span class="c1">//m_A;
</span><span class="ln">82</span><span class="c1"></span>		<span class="c1">//m_B;
</span><span class="ln">83</span><span class="c1"></span>		<span class="c1">//m_C;
</span><span class="ln">84</span><span class="c1"></span>	<span class="p">}</span>
<span class="ln">85</span><span class="p">};</span>
</code></pre></div><h4 id="继承中的对象模型">继承中的对象模型</h4>
<p>从父类继承过来的成员，哪些属于子类对象中？</p>
<p>私有成员只是被隐藏了，但是还是会继承下去</p>
<h4 id="继承中构造和析构顺序">继承中构造和析构顺序</h4>
<p>子类继承父类后，当创建子类对象，也会调用父类的构造函数</p>
<p>继承中 先调用父类构造函数，再调用子类构造函数，析构顺序与构造相反</p>
<h4 id="继承同名成员处理方式">继承同名成员处理方式</h4>
<p>当子类与父类出现同名的成员，如何通过子类对象，访问到子类或父类中同名的数据呢？</p>
<ul>
<li>访问子类同名成员   直接访问即可</li>
<li>访问父类同名成员   需要加作用域</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Base</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="n">Base</span><span class="p">()</span>
<span class="ln"> 4</span>	<span class="p">{</span>
<span class="ln"> 5</span>		<span class="n">m_A</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="kt">void</span> <span class="nf">func</span><span class="p">()</span>
<span class="ln"> 9</span>	<span class="p">{</span>
<span class="ln">10</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base - func()调用&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>	<span class="p">}</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="kt">void</span> <span class="nf">func</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">)</span>
<span class="ln">14</span>	<span class="p">{</span>
<span class="ln">15</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base - func(int a)调用&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">16</span>	<span class="p">}</span>
<span class="ln">17</span>
<span class="ln">18</span><span class="k">public</span><span class="o">:</span>
<span class="ln">19</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">20</span><span class="p">};</span>
<span class="ln">21</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="k">class</span> <span class="nc">Son</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base</span> <span class="p">{</span>
<span class="ln">24</span><span class="k">public</span><span class="o">:</span>
<span class="ln">25</span>	<span class="n">Son</span><span class="p">()</span>
<span class="ln">26</span>	<span class="p">{</span>
<span class="ln">27</span>		<span class="n">m_A</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
<span class="ln">28</span>	<span class="p">}</span>
<span class="ln">29</span>
<span class="ln">30</span>	<span class="c1">//当子类与父类拥有同名的成员函数，子类会隐藏父类中所有版本的同名成员函数
</span><span class="ln">31</span><span class="c1"></span>	<span class="c1">//如果想访问父类中被隐藏的同名成员函数，需要加父类的作用域
</span><span class="ln">32</span><span class="c1"></span>	<span class="kt">void</span> <span class="nf">func</span><span class="p">()</span>
<span class="ln">33</span>	<span class="p">{</span>
<span class="ln">34</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Son - func()调用&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">35</span>	<span class="p">}</span>
<span class="ln">36</span><span class="k">public</span><span class="o">:</span>
<span class="ln">37</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">38</span><span class="p">};</span>
<span class="ln">39</span>
<span class="ln">40</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">41</span><span class="p">{</span>
<span class="ln">42</span>	<span class="n">Son</span> <span class="n">s</span><span class="p">;</span>
<span class="ln">43</span>
<span class="ln">44</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Son下的m_A = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">45</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base下的m_A = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">Base</span><span class="o">::</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">46</span>
<span class="ln">47</span>	<span class="n">s</span><span class="p">.</span><span class="n">func</span><span class="p">();</span>
<span class="ln">48</span>	<span class="n">s</span><span class="p">.</span><span class="n">Base</span><span class="o">::</span><span class="n">func</span><span class="p">();</span>
<span class="ln">49</span>	<span class="n">s</span><span class="p">.</span><span class="n">Base</span><span class="o">::</span><span class="n">func</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">50</span>
<span class="ln">51</span><span class="p">}</span>
</code></pre></div><h4 id="继承同名静态成员处理方式">继承同名静态成员处理方式</h4>
<p>继承中同名的静态成员在子类对象上如何进行访问？</p>
<p>静态成员和非静态成员出现同名，处理方式一致</p>
<ul>
<li>访问子类同名成员   直接访问即可</li>
<li>访问父类同名成员   需要加作用域</li>
</ul>
<blockquote>
<p>同名静态成员处理方式和非静态处理方式一样，只不过有两种访问的方式（通过对象 和 通过类名）</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Base</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="k">static</span> <span class="kt">void</span> <span class="n">func</span><span class="p">()</span>
<span class="ln"> 4</span>	<span class="p">{</span>
<span class="ln"> 5</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base - static void func()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span>	<span class="k">static</span> <span class="kt">void</span> <span class="nf">func</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">)</span>
<span class="ln"> 8</span>	<span class="p">{</span>
<span class="ln"> 9</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base - static void func(int a)&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">10</span>	<span class="p">}</span>
<span class="ln">11</span>
<span class="ln">12</span>	<span class="k">static</span> <span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">13</span><span class="p">};</span>
<span class="ln">14</span>
<span class="ln">15</span><span class="kt">int</span> <span class="n">Base</span><span class="o">::</span><span class="n">m_A</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="ln">16</span>
<span class="ln">17</span><span class="k">class</span> <span class="nc">Son</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base</span> <span class="p">{</span>
<span class="ln">18</span><span class="k">public</span><span class="o">:</span>
<span class="ln">19</span>	<span class="k">static</span> <span class="kt">void</span> <span class="n">func</span><span class="p">()</span>
<span class="ln">20</span>	<span class="p">{</span>
<span class="ln">21</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Son - static void func()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">22</span>	<span class="p">}</span>
<span class="ln">23</span>	<span class="k">static</span> <span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">24</span><span class="p">};</span>
<span class="ln">25</span>
<span class="ln">26</span><span class="kt">int</span> <span class="n">Son</span><span class="o">::</span><span class="n">m_A</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
<span class="ln">27</span>
<span class="ln">28</span><span class="c1">//同名成员属性
</span><span class="ln">29</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">30</span><span class="p">{</span>
<span class="ln">31</span>	<span class="c1">//通过对象访问
</span><span class="ln">32</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;通过对象访问： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">33</span>	<span class="n">Son</span> <span class="n">s</span><span class="p">;</span>
<span class="ln">34</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Son  下 m_A = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">35</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base 下 m_A = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">Base</span><span class="o">::</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">36</span>
<span class="ln">37</span>	<span class="c1">//通过类名访问
</span><span class="ln">38</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;通过类名访问： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">39</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Son  下 m_A = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">Son</span><span class="o">::</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">40</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base 下 m_A = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">Son</span><span class="o">::</span><span class="n">Base</span><span class="o">::</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">41</span><span class="p">}</span>
<span class="ln">42</span>
<span class="ln">43</span><span class="c1">//同名成员函数
</span><span class="ln">44</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">45</span><span class="p">{</span>
<span class="ln">46</span>	<span class="c1">//通过对象访问
</span><span class="ln">47</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;通过对象访问： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">48</span>	<span class="n">Son</span> <span class="n">s</span><span class="p">;</span>
<span class="ln">49</span>	<span class="n">s</span><span class="p">.</span><span class="n">func</span><span class="p">();</span>
<span class="ln">50</span>	<span class="n">s</span><span class="p">.</span><span class="n">Base</span><span class="o">::</span><span class="n">func</span><span class="p">();</span>
<span class="ln">51</span>
<span class="ln">52</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;通过类名访问： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">53</span>	<span class="n">Son</span><span class="o">::</span><span class="n">func</span><span class="p">();</span>
<span class="ln">54</span>	<span class="n">Son</span><span class="o">::</span><span class="n">Base</span><span class="o">::</span><span class="n">func</span><span class="p">();</span>
<span class="ln">55</span>	<span class="c1">//出现同名，子类会隐藏掉父类中所有同名成员函数，需要加作作用域访问
</span><span class="ln">56</span><span class="c1"></span>	<span class="n">Son</span><span class="o">::</span><span class="n">Base</span><span class="o">::</span><span class="n">func</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="ln">57</span><span class="p">}</span>
</code></pre></div><h4 id="多继承语法">多继承语法</h4>
<p>C++允许<strong>一个类继承多个类</strong></p>
<p>语法：<code> class 子类 ：继承方式 父类1 ， 继承方式 父类2...</code></p>
<p>多继承可能会引发父类中有同名成员出现，需要加作用域区分</p>
<p><strong>C++实际开发中不建议用多继承</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Base1</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>	<span class="n">Base1</span><span class="p">()</span>
<span class="ln"> 4</span>	<span class="p">{</span>
<span class="ln"> 5</span>		<span class="n">m_A</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 8</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln"> 9</span><span class="p">};</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="k">class</span> <span class="nc">Base2</span> <span class="p">{</span>
<span class="ln">12</span><span class="k">public</span><span class="o">:</span>
<span class="ln">13</span>	<span class="n">Base2</span><span class="p">()</span>
<span class="ln">14</span>	<span class="p">{</span>
<span class="ln">15</span>		<span class="n">m_A</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>  <span class="c1">//开始是m_B 不会出问题，但是改为mA就会出现不明确
</span><span class="ln">16</span><span class="c1"></span>	<span class="p">}</span>
<span class="ln">17</span><span class="k">public</span><span class="o">:</span>
<span class="ln">18</span>	<span class="kt">int</span> <span class="n">m_A</span><span class="p">;</span>
<span class="ln">19</span><span class="p">};</span>
<span class="ln">20</span>
<span class="ln">21</span><span class="c1">//语法：class 子类：继承方式 父类1 ，继承方式 父类2 
</span><span class="ln">22</span><span class="c1"></span><span class="k">class</span> <span class="nc">Son</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base2</span><span class="p">,</span> <span class="k">public</span> <span class="n">Base1</span> 
<span class="ln">23</span><span class="p">{</span>
<span class="ln">24</span><span class="k">public</span><span class="o">:</span>
<span class="ln">25</span>	<span class="n">Son</span><span class="p">()</span>
<span class="ln">26</span>	<span class="p">{</span>
<span class="ln">27</span>		<span class="n">m_C</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
<span class="ln">28</span>		<span class="n">m_D</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span>
<span class="ln">29</span>	<span class="p">}</span>
<span class="ln">30</span><span class="k">public</span><span class="o">:</span>
<span class="ln">31</span>	<span class="kt">int</span> <span class="n">m_C</span><span class="p">;</span>
<span class="ln">32</span>	<span class="kt">int</span> <span class="n">m_D</span><span class="p">;</span>
<span class="ln">33</span><span class="p">};</span>
<span class="ln">34</span>
<span class="ln">35</span>
<span class="ln">36</span><span class="c1">//多继承容易产生成员同名的情况
</span><span class="ln">37</span><span class="c1">//通过使用类名作用域可以区分调用哪一个基类的成员
</span><span class="ln">38</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">39</span><span class="p">{</span>
<span class="ln">40</span>	<span class="n">Son</span> <span class="n">s</span><span class="p">;</span>
<span class="ln">41</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;sizeof Son = &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">42</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">Base1</span><span class="o">::</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">43</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">Base2</span><span class="o">::</span><span class="n">m_A</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">44</span><span class="p">}</span>
</code></pre></div><h4 id="菱形继承">菱形继承</h4>
<p>两个派生类继承同一个基类</p>
<p>又有某个类同时继承者两个派生类</p>
<ul>
<li>菱形继承带来的主要问题是子类继承两份相同的数据，导致资源浪费以及毫无意义</li>
<li>利用虚继承可以解决菱形继承问题</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Animal</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>	<span class="kt">int</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln"> 5</span><span class="p">};</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span><span class="c1">//继承前加virtual关键字后，变为虚继承
</span><span class="ln"> 8</span><span class="c1">//此时公共的父类Animal称为虚基类
</span><span class="ln"> 9</span><span class="c1"></span><span class="k">class</span> <span class="nc">Sheep</span> <span class="o">:</span> <span class="k">virtual</span> <span class="k">public</span> <span class="n">Animal</span> <span class="p">{};</span>
<span class="ln">10</span><span class="k">class</span> <span class="nc">Tuo</span>   <span class="o">:</span> <span class="k">virtual</span> <span class="k">public</span> <span class="n">Animal</span> <span class="p">{};</span>
<span class="ln">11</span><span class="k">class</span> <span class="nc">SheepTuo</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Sheep</span><span class="p">,</span> <span class="k">public</span> <span class="n">Tuo</span> <span class="p">{};</span>
<span class="ln">12</span>
<span class="ln">13</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">14</span><span class="p">{</span>
<span class="ln">15</span>	<span class="n">SheepTuo</span> <span class="n">st</span><span class="p">;</span>
<span class="ln">16</span>	<span class="n">st</span><span class="p">.</span><span class="n">Sheep</span><span class="o">::</span><span class="n">m_Age</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="ln">17</span>	<span class="n">st</span><span class="p">.</span><span class="n">Tuo</span><span class="o">::</span><span class="n">m_Age</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;st.Sheep::m_Age = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">st</span><span class="p">.</span><span class="n">Sheep</span><span class="o">::</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">20</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;st.Tuo::m_Age = &#34;</span> <span class="o">&lt;&lt;</span>  <span class="n">st</span><span class="p">.</span><span class="n">Tuo</span><span class="o">::</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">21</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;st.m_Age = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">st</span><span class="p">.</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">22</span><span class="p">}</span>
</code></pre></div><h3 id="多态">多态</h3>
<p>多态分为两类</p>
<ul>
<li>静态多态: 函数重载 和 运算符重载属于静态多态，复用函数名</li>
<li>动态多态: 派生类和虚函数实现运行时多态</li>
</ul>
<p>静态多态和动态多态区别：</p>
<ul>
<li>静态多态的函数地址早绑定  -  编译阶段确定函数地址</li>
<li>动态多态的函数地址晚绑定  -  运行阶段确定函数地址</li>
</ul>
<p>多态满足条件</p>
<ul>
<li>有继承关系</li>
<li>子类重写父类中的虚函数</li>
</ul>
<p>多态使用条件</p>
<ul>
<li>父类指针或引用指向子类对象</li>
</ul>
<p>重写：函数返回值类型  函数名 参数列表 完全一致称为重写</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Animal</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>	<span class="c1">//Speak函数就是虚函数
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="c1">//函数前面加上virtual关键字，变成虚函数，那么编译器在编译的时候就不能确定函数调用了。
</span><span class="ln"> 6</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">speak</span><span class="p">()</span>
<span class="ln"> 7</span>	<span class="p">{</span>
<span class="ln"> 8</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;动物在说话&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 9</span>	<span class="p">}</span>
<span class="ln">10</span><span class="p">};</span>
<span class="ln">11</span>
<span class="ln">12</span><span class="k">class</span> <span class="nc">Cat</span> <span class="o">:</span><span class="k">public</span> <span class="n">Animal</span>
<span class="ln">13</span><span class="p">{</span>
<span class="ln">14</span><span class="k">public</span><span class="o">:</span>
<span class="ln">15</span>	<span class="kt">void</span> <span class="n">speak</span><span class="p">()</span>
<span class="ln">16</span>	<span class="p">{</span>
<span class="ln">17</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;小猫在说话&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>	<span class="p">}</span>
<span class="ln">19</span><span class="p">};</span>
<span class="ln">20</span>
<span class="ln">21</span><span class="k">class</span> <span class="nc">Dog</span> <span class="o">:</span><span class="k">public</span> <span class="n">Animal</span>
<span class="ln">22</span><span class="p">{</span>
<span class="ln">23</span><span class="k">public</span><span class="o">:</span>
<span class="ln">24</span>
<span class="ln">25</span>	<span class="kt">void</span> <span class="n">speak</span><span class="p">()</span>
<span class="ln">26</span>	<span class="p">{</span>
<span class="ln">27</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;小狗在说话&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">28</span>	<span class="p">}</span>
<span class="ln">29</span>
<span class="ln">30</span><span class="p">};</span>
<span class="ln">31</span><span class="c1">//我们希望传入什么对象，那么就调用什么对象的函数
</span><span class="ln">32</span><span class="c1">//如果函数地址在编译阶段就能确定，那么静态联编
</span><span class="ln">33</span><span class="c1">//如果函数地址在运行阶段才能确定，就是动态联编
</span><span class="ln">34</span><span class="c1"></span>
<span class="ln">35</span><span class="kt">void</span> <span class="nf">DoSpeak</span><span class="p">(</span><span class="n">Animal</span> <span class="o">&amp;</span> <span class="n">animal</span><span class="p">)</span>
<span class="ln">36</span><span class="p">{</span>
<span class="ln">37</span>	<span class="n">animal</span><span class="p">.</span><span class="n">speak</span><span class="p">();</span>
<span class="ln">38</span><span class="p">}</span>
<span class="ln">39</span><span class="c1">//
</span><span class="ln">40</span><span class="c1">//多态满足条件： 
</span><span class="ln">41</span><span class="c1">//1、有继承关系
</span><span class="ln">42</span><span class="c1">//2、子类重写父类中的虚函数
</span><span class="ln">43</span><span class="c1">//多态使用：
</span><span class="ln">44</span><span class="c1">//父类指针或引用指向子类对象
</span><span class="ln">45</span><span class="c1"></span>
<span class="ln">46</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">47</span><span class="p">{</span>
<span class="ln">48</span>	<span class="n">Cat</span> <span class="n">cat</span><span class="p">;</span>
<span class="ln">49</span>	<span class="n">DoSpeak</span><span class="p">(</span><span class="n">cat</span><span class="p">);</span>
<span class="ln">50</span>
<span class="ln">51</span>
<span class="ln">52</span>	<span class="n">Dog</span> <span class="n">dog</span><span class="p">;</span>
<span class="ln">53</span>	<span class="n">DoSpeak</span><span class="p">(</span><span class="n">dog</span><span class="p">);</span>
<span class="ln">54</span><span class="p">}</span>
</code></pre></div><h4 id="多态案例一-计算器类">多态案例一-计算器类</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//多态实现
</span><span class="ln"> 2</span><span class="c1">//抽象计算器类
</span><span class="ln"> 3</span><span class="c1">//多态优点：代码组织结构清晰，可读性强，利于前期和后期的扩展以及维护
</span><span class="ln"> 4</span><span class="c1"></span><span class="k">class</span> <span class="nc">AbstractCalculator</span>
<span class="ln"> 5</span><span class="p">{</span>
<span class="ln"> 6</span><span class="k">public</span> <span class="o">:</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="k">virtual</span> <span class="kt">int</span> <span class="n">getResult</span><span class="p">()</span>
<span class="ln"> 9</span>	<span class="p">{</span>
<span class="ln">10</span>		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">11</span>	<span class="p">}</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="kt">int</span> <span class="n">m_Num1</span><span class="p">;</span>
<span class="ln">14</span>	<span class="kt">int</span> <span class="n">m_Num2</span><span class="p">;</span>
<span class="ln">15</span><span class="p">};</span>
<span class="ln">16</span>
<span class="ln">17</span><span class="c1">//加法计算器
</span><span class="ln">18</span><span class="c1"></span><span class="k">class</span> <span class="nc">AddCalculator</span> <span class="o">:</span><span class="k">public</span> <span class="n">AbstractCalculator</span>
<span class="ln">19</span><span class="p">{</span>
<span class="ln">20</span><span class="k">public</span><span class="o">:</span>
<span class="ln">21</span>	<span class="kt">int</span> <span class="n">getResult</span><span class="p">()</span>
<span class="ln">22</span>	<span class="p">{</span>
<span class="ln">23</span>		<span class="k">return</span> <span class="n">m_Num1</span> <span class="o">+</span> <span class="n">m_Num2</span><span class="p">;</span>
<span class="ln">24</span>	<span class="p">}</span>
<span class="ln">25</span><span class="p">};</span>
<span class="ln">26</span>
<span class="ln">27</span><span class="c1">//减法计算器
</span><span class="ln">28</span><span class="c1"></span><span class="k">class</span> <span class="nc">SubCalculator</span> <span class="o">:</span><span class="k">public</span> <span class="n">AbstractCalculator</span>
<span class="ln">29</span><span class="p">{</span>
<span class="ln">30</span><span class="k">public</span><span class="o">:</span>
<span class="ln">31</span>	<span class="kt">int</span> <span class="n">getResult</span><span class="p">()</span>
<span class="ln">32</span>	<span class="p">{</span>
<span class="ln">33</span>		<span class="k">return</span> <span class="n">m_Num1</span> <span class="o">-</span> <span class="n">m_Num2</span><span class="p">;</span>
<span class="ln">34</span>	<span class="p">}</span>
<span class="ln">35</span><span class="p">};</span>
<span class="ln">36</span>
<span class="ln">37</span><span class="c1">//乘法计算器
</span><span class="ln">38</span><span class="c1"></span><span class="k">class</span> <span class="nc">MulCalculator</span> <span class="o">:</span><span class="k">public</span> <span class="n">AbstractCalculator</span>
<span class="ln">39</span><span class="p">{</span>
<span class="ln">40</span><span class="k">public</span><span class="o">:</span>
<span class="ln">41</span>	<span class="kt">int</span> <span class="n">getResult</span><span class="p">()</span>
<span class="ln">42</span>	<span class="p">{</span>
<span class="ln">43</span>		<span class="k">return</span> <span class="n">m_Num1</span> <span class="o">*</span> <span class="n">m_Num2</span><span class="p">;</span>
<span class="ln">44</span>	<span class="p">}</span>
<span class="ln">45</span><span class="p">};</span>
<span class="ln">46</span>
<span class="ln">47</span>
<span class="ln">48</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">49</span><span class="p">{</span>
<span class="ln">50</span>	<span class="c1">//创建加法计算器
</span><span class="ln">51</span><span class="c1"></span>	<span class="n">AbstractCalculator</span> <span class="o">*</span><span class="n">abc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AddCalculator</span><span class="p">;</span>
<span class="ln">52</span>	<span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">53</span>	<span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num2</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">54</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num1</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; + &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num2</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">abc</span><span class="o">-&gt;</span><span class="n">getResult</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">55</span>	<span class="k">delete</span> <span class="n">abc</span><span class="p">;</span>  <span class="c1">//用完了记得销毁
</span><span class="ln">56</span><span class="c1"></span>
<span class="ln">57</span>	<span class="c1">//创建减法计算器
</span><span class="ln">58</span><span class="c1"></span>	<span class="n">abc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubCalculator</span><span class="p">;</span>
<span class="ln">59</span>	<span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">60</span>	<span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num2</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">61</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num1</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; - &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num2</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">abc</span><span class="o">-&gt;</span><span class="n">getResult</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">62</span>	<span class="k">delete</span> <span class="n">abc</span><span class="p">;</span>  
<span class="ln">63</span>
<span class="ln">64</span>	<span class="c1">//创建乘法计算器
</span><span class="ln">65</span><span class="c1"></span>	<span class="n">abc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MulCalculator</span><span class="p">;</span>
<span class="ln">66</span>	<span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">67</span>	<span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num2</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">68</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num1</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; * &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">abc</span><span class="o">-&gt;</span><span class="n">m_Num2</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">abc</span><span class="o">-&gt;</span><span class="n">getResult</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">69</span>	<span class="k">delete</span> <span class="n">abc</span><span class="p">;</span>
<span class="ln">70</span><span class="p">}</span>
<span class="ln">71</span>
</code></pre></div><h4 id="纯虚函数和抽象类">纯虚函数和抽象类</h4>
<p>在多态中，通常父类中虚函数的实现是毫无意义的，主要都是调用子类重写的内容</p>
<p>因此可以将虚函数改为<strong>纯虚函数</strong></p>
<p>纯虚函数语法：<code>virtual 返回值类型 函数名 （参数列表）= 0 ;</code></p>
<p>当类中有了纯虚函数，这个类也称为抽象类</p>
<p><strong>抽象类特点</strong>：</p>
<ul>
<li>无法实例化对象</li>
<li>子类必须重写抽象类中的纯虚函数，否则也属于抽象类</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Base</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>	<span class="c1">//纯虚函数
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="c1">//类中只要有一个纯虚函数就称为抽象类
</span><span class="ln"> 6</span><span class="c1"></span>	<span class="c1">//抽象类无法实例化对象
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="c1">//子类必须重写父类中的纯虚函数，否则也属于抽象类
</span><span class="ln"> 8</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">func</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 9</span><span class="p">};</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="k">class</span> <span class="nc">Son</span> <span class="o">:</span><span class="k">public</span> <span class="n">Base</span>
<span class="ln">12</span><span class="p">{</span>
<span class="ln">13</span><span class="k">public</span><span class="o">:</span>
<span class="ln">14</span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">func</span><span class="p">()</span> 
<span class="ln">15</span>	<span class="p">{</span>
<span class="ln">16</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;func调用&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">17</span>	<span class="p">};</span>
<span class="ln">18</span><span class="p">};</span>
<span class="ln">19</span>
<span class="ln">20</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">21</span><span class="p">{</span>
<span class="ln">22</span>	<span class="n">Base</span> <span class="o">*</span> <span class="n">base</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="ln">23</span>	<span class="c1">//base = new Base; // 错误，抽象类无法实例化对象
</span><span class="ln">24</span><span class="c1"></span>	<span class="n">base</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Son</span><span class="p">;</span>
<span class="ln">25</span>	<span class="n">base</span><span class="o">-&gt;</span><span class="n">func</span><span class="p">();</span>
<span class="ln">26</span>	<span class="k">delete</span> <span class="n">base</span><span class="p">;</span><span class="c1">//记得销毁
</span><span class="ln">27</span><span class="c1"></span><span class="p">}</span>
</code></pre></div><h4 id="多态案例二-制作饮品">多态案例二-制作饮品</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//抽象制作饮品
</span><span class="ln"> 2</span><span class="c1"></span><span class="k">class</span> <span class="nc">AbstractDrinking</span> <span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>	<span class="c1">//烧水
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">Boil</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="c1">//冲泡
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Brew</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="c1">//倒入杯中
</span><span class="ln"> 9</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">PourInCup</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">10</span>	<span class="c1">//加入辅料
</span><span class="ln">11</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">PutSomething</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">12</span>	<span class="c1">//规定流程
</span><span class="ln">13</span><span class="c1"></span>	<span class="kt">void</span> <span class="nf">MakeDrink</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">14</span>		<span class="n">Boil</span><span class="p">();</span>
<span class="ln">15</span>		<span class="n">Brew</span><span class="p">();</span>
<span class="ln">16</span>		<span class="n">PourInCup</span><span class="p">();</span>
<span class="ln">17</span>		<span class="n">PutSomething</span><span class="p">();</span>
<span class="ln">18</span>	<span class="p">}</span>
<span class="ln">19</span><span class="p">};</span>
<span class="ln">20</span>
<span class="ln">21</span><span class="c1">//制作咖啡
</span><span class="ln">22</span><span class="c1"></span><span class="k">class</span> <span class="nc">Coffee</span> <span class="o">:</span> <span class="k">public</span> <span class="n">AbstractDrinking</span> <span class="p">{</span>
<span class="ln">23</span><span class="k">public</span><span class="o">:</span>
<span class="ln">24</span>	<span class="c1">//烧水
</span><span class="ln">25</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">Boil</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">26</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;煮农夫山泉!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">27</span>	<span class="p">}</span>
<span class="ln">28</span>	<span class="c1">//冲泡
</span><span class="ln">29</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Brew</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">30</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;冲泡咖啡!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">31</span>	<span class="p">}</span>
<span class="ln">32</span>	<span class="c1">//倒入杯中
</span><span class="ln">33</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">PourInCup</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">34</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;将咖啡倒入杯中!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">35</span>	<span class="p">}</span>
<span class="ln">36</span>	<span class="c1">//加入辅料
</span><span class="ln">37</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">PutSomething</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">38</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;加入牛奶!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">39</span>	<span class="p">}</span>
<span class="ln">40</span><span class="p">};</span>
<span class="ln">41</span>
<span class="ln">42</span><span class="c1">//制作茶水
</span><span class="ln">43</span><span class="c1"></span><span class="k">class</span> <span class="nc">Tea</span> <span class="o">:</span> <span class="k">public</span> <span class="n">AbstractDrinking</span> <span class="p">{</span>
<span class="ln">44</span><span class="k">public</span><span class="o">:</span>
<span class="ln">45</span>	<span class="c1">//烧水
</span><span class="ln">46</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">Boil</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">47</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;煮自来水!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">48</span>	<span class="p">}</span>
<span class="ln">49</span>	<span class="c1">//冲泡
</span><span class="ln">50</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Brew</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">51</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;冲泡茶叶!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">52</span>	<span class="p">}</span>
<span class="ln">53</span>	<span class="c1">//倒入杯中
</span><span class="ln">54</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">PourInCup</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">55</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;将茶水倒入杯中!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">56</span>	<span class="p">}</span>
<span class="ln">57</span>	<span class="c1">//加入辅料
</span><span class="ln">58</span><span class="c1"></span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">PutSomething</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">59</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;加入枸杞!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">60</span>	<span class="p">}</span>
<span class="ln">61</span><span class="p">};</span>
<span class="ln">62</span>
<span class="ln">63</span><span class="c1">//业务函数
</span><span class="ln">64</span><span class="c1"></span><span class="kt">void</span> <span class="nf">DoWork</span><span class="p">(</span><span class="n">AbstractDrinking</span><span class="o">*</span> <span class="n">drink</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">65</span>	<span class="n">drink</span><span class="o">-&gt;</span><span class="n">MakeDrink</span><span class="p">();</span>
<span class="ln">66</span>	<span class="k">delete</span> <span class="n">drink</span><span class="p">;</span>
<span class="ln">67</span><span class="p">}</span>
<span class="ln">68</span>
<span class="ln">69</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">70</span>	<span class="n">DoWork</span><span class="p">(</span><span class="k">new</span> <span class="n">Coffee</span><span class="p">);</span>
<span class="ln">71</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;--------------&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">72</span>	<span class="n">DoWork</span><span class="p">(</span><span class="k">new</span> <span class="n">Tea</span><span class="p">);</span>
<span class="ln">73</span><span class="p">}</span>
</code></pre></div><h4 id="虚析构和纯虚析构">虚析构和纯虚析构</h4>
<p>多态使用时，如果子类中有属性开辟到堆区，那么父类指针在释放时无法调用到子类的析构代码</p>
<p>解决方式：将父类中的析构函数改为<strong>虚析构</strong>或者<strong>纯虚析构</strong></p>
<p>虚析构和纯虚析构共性：</p>
<ul>
<li>可以解决父类指针释放子类对象</li>
<li>都需要有具体的函数实现</li>
</ul>
<p>虚析构和纯虚析构区别：</p>
<ul>
<li>如果是纯虚析构，该类属于抽象类，无法实例化对象</li>
</ul>
<p>虚析构语法：</p>
<p><code>virtual ~类名(){}</code></p>
<p>纯虚析构语法：</p>
<p><code> virtual ~类名() = 0;</code></p>
<p><code>类名::~类名(){}</code></p>
<p>​	1. 虚析构或纯虚析构就是用来解决通过父类指针释放子类对象</p>
<p>​	2. 如果子类中没有堆区数据，可以不写为虚析构或纯虚析构</p>
<p>​	3. 拥有纯虚析构函数的类也属于抽象类</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Animal</span> <span class="p">{</span>
<span class="ln"> 2</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span>	<span class="n">Animal</span><span class="p">()</span>
<span class="ln"> 5</span>	<span class="p">{</span>
<span class="ln"> 6</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Animal 构造函数调用！&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="p">}</span>
<span class="ln"> 8</span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Speak</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	<span class="c1">//析构函数加上virtual关键字，变成虚析构函数
</span><span class="ln">11</span><span class="c1"></span>	<span class="c1">//virtual ~Animal()
</span><span class="ln">12</span><span class="c1"></span>	<span class="c1">//{
</span><span class="ln">13</span><span class="c1"></span>	<span class="c1">//	cout &lt;&lt; &#34;Animal虚析构函数调用！&#34; &lt;&lt; endl;
</span><span class="ln">14</span><span class="c1"></span>	<span class="c1">//}
</span><span class="ln">15</span><span class="c1"></span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="k">virtual</span> <span class="o">~</span><span class="n">Animal</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">18</span><span class="p">};</span>
<span class="ln">19</span>
<span class="ln">20</span><span class="n">Animal</span><span class="o">::~</span><span class="n">Animal</span><span class="p">()</span>
<span class="ln">21</span><span class="p">{</span>
<span class="ln">22</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Animal 纯虚析构函数调用！&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">23</span><span class="p">}</span>
<span class="ln">24</span>
<span class="ln">25</span><span class="c1">//和包含普通纯虚函数的类一样，包含了纯虚析构函数的类也是一个抽象类。不能够被实例化。
</span><span class="ln">26</span><span class="c1"></span>
<span class="ln">27</span><span class="k">class</span> <span class="nc">Cat</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Animal</span> <span class="p">{</span>
<span class="ln">28</span><span class="k">public</span><span class="o">:</span>
<span class="ln">29</span>	<span class="n">Cat</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">)</span>
<span class="ln">30</span>	<span class="p">{</span>
<span class="ln">31</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Cat构造函数调用！&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">32</span>		<span class="n">m_Name</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="ln">33</span>	<span class="p">}</span>
<span class="ln">34</span>	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Speak</span><span class="p">()</span>
<span class="ln">35</span>	<span class="p">{</span>
<span class="ln">36</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">m_Name</span> <span class="o">&lt;&lt;</span>  <span class="s">&#34;小猫在说话!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">37</span>	<span class="p">}</span>
<span class="ln">38</span>	<span class="o">~</span><span class="n">Cat</span><span class="p">()</span>
<span class="ln">39</span>	<span class="p">{</span>
<span class="ln">40</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Cat析构函数调用!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">41</span>		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">42</span>			<span class="k">delete</span> <span class="n">m_Name</span><span class="p">;</span>
<span class="ln">43</span>			<span class="n">m_Name</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="ln">44</span>		<span class="p">}</span>
<span class="ln">45</span>	<span class="p">}</span>
<span class="ln">46</span>
<span class="ln">47</span><span class="k">public</span><span class="o">:</span>
<span class="ln">48</span>	<span class="n">string</span> <span class="o">*</span><span class="n">m_Name</span><span class="p">;</span>
<span class="ln">49</span><span class="p">};</span>
<span class="ln">50</span>
<span class="ln">51</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">52</span><span class="p">{</span>
<span class="ln">53</span>	<span class="n">Animal</span> <span class="o">*</span><span class="n">animal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Cat</span><span class="p">(</span><span class="s">&#34;Tom&#34;</span><span class="p">);</span>
<span class="ln">54</span>	<span class="n">animal</span><span class="o">-&gt;</span><span class="n">Speak</span><span class="p">();</span>
<span class="ln">55</span>
<span class="ln">56</span>	<span class="c1">//通过父类指针去释放，会导致子类对象可能清理不干净，造成内存泄漏
</span><span class="ln">57</span><span class="c1"></span>	<span class="c1">//怎么解决？给基类增加一个虚析构函数
</span><span class="ln">58</span><span class="c1"></span>	<span class="c1">//虚析构函数就是用来解决通过父类指针释放子类对象
</span><span class="ln">59</span><span class="c1"></span>	<span class="k">delete</span> <span class="n">animal</span><span class="p">;</span>
<span class="ln">60</span><span class="p">}</span>
</code></pre></div><h4 id="多态案例三-电脑组装">多态案例三-电脑组装</h4>
<h2 id="14文件操作">14.文件操作</h2>
<p>程序运行时产生的数据都属于临时数据，程序一旦运行结束都会被释放</p>
<p>通过<strong>文件可以将数据持久化</strong></p>
<p>C++中对文件操作需要包含头文件 &lt; fstream &gt;</p>
<p>文件类型分为两种：</p>
<ol>
<li><strong>文本文件</strong>     -  文件以文本的<strong>ASCII码</strong>形式存储在计算机中</li>
<li><strong>二进制文件</strong> -  文件以文本的<strong>二进制</strong>形式存储在计算机中，用户一般不能直接读懂它们</li>
</ol>
<p>操作文件的三大类:</p>
<ol>
<li>ofstream：写操作</li>
<li>ifstream： 读操作</li>
<li>fstream ： 读写操作</li>
</ol>
<h3 id="文本文件">文本文件</h3>
<h4 id="写文件">写文件</h4>
<p>写文件步骤如下：</p>
<ol>
<li>
<p>包含头文件</p>
<p>#include &lt;fstream&gt;</p>
</li>
<li>
<p>创建流对象</p>
<p>ofstream ofs;</p>
</li>
<li>
<p>打开文件</p>
<p>ofs.open(&ldquo;文件路径&rdquo;,打开方式);</p>
</li>
<li>
<p>写数据</p>
<p>ofs &laquo; &ldquo;写入的数据&rdquo;;</p>
</li>
<li>
<p>关闭文件</p>
<p>ofs.close();</p>
</li>
</ol>
<p>文件打开方式：</p>
<table>
<thead>
<tr>
<th>打开方式</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>ios::in</td>
<td>为读文件而打开文件</td>
</tr>
<tr>
<td>ios::out</td>
<td>为写文件而打开文件</td>
</tr>
<tr>
<td>ios::ate</td>
<td>初始位置：文件尾</td>
</tr>
<tr>
<td>ios::app</td>
<td>追加方式写文件</td>
</tr>
<tr>
<td>ios::trunc</td>
<td>如果文件存在先删除，再创建</td>
</tr>
<tr>
<td>ios::binary</td>
<td>二进制方式</td>
</tr>
</tbody>
</table>
<p><strong>注意：</strong> 文件打开方式可以配合使用，利用|操作符</p>
<p>**例如：**用二进制方式写文件 <code>ios::binary |  ios:: out</code></p>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;fstream&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span>
<span class="ln"> 3</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 4</span><span class="p">{</span>
<span class="ln"> 5</span>	<span class="n">ofstream</span> <span class="n">ofs</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="n">ofs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#34;test.txt&#34;</span><span class="p">,</span> <span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="p">);</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="n">ofs</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名：张三&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 9</span>	<span class="n">ofs</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;性别：男&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">10</span>	<span class="n">ofs</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;年龄：18&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>
<span class="ln">12</span>	<span class="n">ofs</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
<span class="ln">13</span><span class="p">}</span>
<span class="ln">14</span>
<span class="ln">15</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="n">test01</span><span class="p">();</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">20</span>
<span class="ln">21</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">22</span><span class="p">}</span>
</code></pre></div><p>总结：</p>
<ul>
<li>文件操作必须包含头文件 fstream</li>
<li>读文件可以利用 ofstream  ，或者fstream类</li>
<li>打开文件时候需要指定操作文件的路径，以及打开方式</li>
<li>利用&laquo;可以向文件中写数据</li>
<li>操作完毕，要关闭文件</li>
</ul>
<h4 id="读文件">读文件</h4>
<p>读文件步骤如下：</p>
<ol>
<li>
<p>包含头文件</p>
<p>#include &lt;fstream&gt;</p>
</li>
<li>
<p>创建流对象</p>
<p>ifstream ifs;</p>
</li>
<li>
<p>打开文件并判断文件是否打开成功</p>
<p>ifs.open(&ldquo;文件路径&rdquo;,打开方式);</p>
</li>
<li>
<p>读数据</p>
<p>四种方式读取</p>
</li>
<li>
<p>关闭文件</p>
<p>ifs.close();<strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;fstream&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="ln"> 3</span><span class="cp"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 4</span><span class="p">{</span>
<span class="ln"> 5</span>	<span class="n">ifstream</span> <span class="n">ifs</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="n">ifs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#34;test.txt&#34;</span><span class="p">,</span> <span class="n">ios</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
<span class="ln"> 7</span>   
<span class="ln"> 8</span>	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ifs</span><span class="p">.</span><span class="n">is_open</span><span class="p">())</span>
<span class="ln"> 9</span>	<span class="p">{</span>
<span class="ln">10</span>     <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;文件打开失败&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span>     <span class="k">return</span><span class="p">;</span>
<span class="ln">12</span>	<span class="p">}</span>
<span class="ln">13</span>   
<span class="ln">14</span>	<span class="c1">//第一种方式
</span><span class="ln">15</span><span class="c1"></span>	<span class="c1">//char buf[1024] = { 0 };
</span><span class="ln">16</span><span class="c1"></span>	<span class="c1">//while (ifs &gt;&gt; buf)
</span><span class="ln">17</span><span class="c1"></span>	<span class="c1">//{
</span><span class="ln">18</span><span class="c1"></span>	<span class="c1">//	cout &lt;&lt; buf &lt;&lt; endl;
</span><span class="ln">19</span><span class="c1"></span>	<span class="c1">//}
</span><span class="ln">20</span><span class="c1"></span>   
<span class="ln">21</span>	<span class="c1">//第二种
</span><span class="ln">22</span><span class="c1"></span>	<span class="c1">//char buf[1024] = { 0 };
</span><span class="ln">23</span><span class="c1"></span>	<span class="c1">//while (ifs.getline(buf,sizeof(buf)))
</span><span class="ln">24</span><span class="c1"></span>	<span class="c1">//{
</span><span class="ln">25</span><span class="c1"></span>	<span class="c1">//	cout &lt;&lt; buf &lt;&lt; endl;
</span><span class="ln">26</span><span class="c1"></span>	<span class="c1">//}
</span><span class="ln">27</span><span class="c1"></span>   
<span class="ln">28</span>	<span class="c1">//第三种
</span><span class="ln">29</span><span class="c1"></span>	<span class="c1">//string buf;
</span><span class="ln">30</span><span class="c1"></span>	<span class="c1">//while (getline(ifs, buf))
</span><span class="ln">31</span><span class="c1"></span>	<span class="c1">//{
</span><span class="ln">32</span><span class="c1"></span>	<span class="c1">//	cout &lt;&lt; buf &lt;&lt; endl;
</span><span class="ln">33</span><span class="c1"></span>	<span class="c1">//}
</span><span class="ln">34</span><span class="c1"></span>   
<span class="ln">35</span>	<span class="kt">char</span> <span class="n">c</span><span class="p">;</span>
<span class="ln">36</span>	<span class="k">while</span> <span class="p">((</span><span class="n">c</span> <span class="o">=</span> <span class="n">ifs</span><span class="p">.</span><span class="n">get</span><span class="p">())</span> <span class="o">!=</span> <span class="n">EOF</span><span class="p">)</span>
<span class="ln">37</span>	<span class="p">{</span>
<span class="ln">38</span>     <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">c</span><span class="p">;</span>
<span class="ln">39</span>	<span class="p">}</span>
<span class="ln">40</span>   
<span class="ln">41</span>	<span class="n">ifs</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
<span class="ln">42</span>   
<span class="ln">43</span>   
<span class="ln">44</span><span class="p">}</span>
<span class="ln">45</span>   
<span class="ln">46</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">47</span>   
<span class="ln">48</span>	<span class="n">test01</span><span class="p">();</span>
<span class="ln">49</span>   
<span class="ln">50</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">51</span>   
<span class="ln">52</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">53</span><span class="p">}</span>
</code></pre></div><p>总结：</p>
<ul>
<li>读文件可以利用 ifstream  ，或者fstream类</li>
<li>利用is_open函数可以判断文件是否打开成功</li>
<li>close 关闭文件</li>
</ul>
</li>
</ol>
<h3 id="二进制文件">二进制文件</h3>
<p>以二进制的方式对文件进行读写操作</p>
<p>打开方式要指定为 ios::binary</p>
<h4 id="写文件-1">写文件</h4>
<p>二进制方式写文件主要利用流对象调用成员函数write</p>
<p>函数原型 ：<code>ostream&amp; write(const char * buffer,int len);</code></p>
<p>参数解释：字符指针buffer指向内存中一段存储空间。len是读写的字节数</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;fstream&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="ln"> 3</span><span class="cp"></span>
<span class="ln"> 4</span><span class="k">class</span> <span class="nc">Person</span>
<span class="ln"> 5</span><span class="p">{</span>
<span class="ln"> 6</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 7</span>	<span class="kt">char</span> <span class="n">m_Name</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
<span class="ln"> 8</span>	<span class="kt">int</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln"> 9</span><span class="p">};</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="c1">//二进制文件  写文件
</span><span class="ln">12</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">13</span><span class="p">{</span>
<span class="ln">14</span>	<span class="c1">//1、包含头文件
</span><span class="ln">15</span><span class="c1"></span>
<span class="ln">16</span>	<span class="c1">//2、创建输出流对象
</span><span class="ln">17</span><span class="c1"></span>	<span class="n">ofstream</span> <span class="n">ofs</span><span class="p">(</span><span class="s">&#34;person.txt&#34;</span><span class="p">,</span> <span class="n">ios</span><span class="o">::</span><span class="n">out</span> <span class="o">|</span> <span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span>
<span class="ln">18</span>	
<span class="ln">19</span>	<span class="c1">//3、打开文件
</span><span class="ln">20</span><span class="c1"></span>	<span class="c1">//ofs.open(&#34;person.txt&#34;, ios::out | ios::binary);
</span><span class="ln">21</span><span class="c1"></span>
<span class="ln">22</span>	<span class="n">Person</span> <span class="n">p</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#34;张三&#34;</span>  <span class="p">,</span> <span class="mi">18</span><span class="p">};</span>
<span class="ln">23</span>
<span class="ln">24</span>	<span class="c1">//4、写文件
</span><span class="ln">25</span><span class="c1"></span>	<span class="n">ofs</span><span class="p">.</span><span class="n">write</span><span class="p">((</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">p</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">p</span><span class="p">));</span>
<span class="ln">26</span>
<span class="ln">27</span>	<span class="c1">//5、关闭文件
</span><span class="ln">28</span><span class="c1"></span>	<span class="n">ofs</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
<span class="ln">29</span><span class="p">}</span>
</code></pre></div><h4 id="读文件-1">读文件</h4>
<p>二进制方式读文件主要利用流对象调用成员函数read</p>
<p>函数原型：<code>istream&amp; read(char *buffer,int len);</code></p>
<p>参数解释：字符指针buffer指向内存中一段存储空间。len是读写的字节数</p>
<p>示例：</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;fstream&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="ln"> 3</span><span class="cp"></span>
<span class="ln"> 4</span><span class="k">class</span> <span class="nc">Person</span>
<span class="ln"> 5</span><span class="p">{</span>
<span class="ln"> 6</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 7</span>	<span class="kt">char</span> <span class="n">m_Name</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
<span class="ln"> 8</span>	<span class="kt">int</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln"> 9</span><span class="p">};</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">12</span><span class="p">{</span>
<span class="ln">13</span>	<span class="n">ifstream</span> <span class="n">ifs</span><span class="p">(</span><span class="s">&#34;person.txt&#34;</span><span class="p">,</span> <span class="n">ios</span><span class="o">::</span><span class="n">in</span> <span class="o">|</span> <span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span>
<span class="ln">14</span>	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ifs</span><span class="p">.</span><span class="n">is_open</span><span class="p">())</span>
<span class="ln">15</span>	<span class="p">{</span>
<span class="ln">16</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;文件打开失败&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">17</span>	<span class="p">}</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="n">Person</span> <span class="n">p</span><span class="p">;</span>
<span class="ln">20</span>	<span class="n">ifs</span><span class="p">.</span><span class="n">read</span><span class="p">((</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">p</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">p</span><span class="p">));</span>
<span class="ln">21</span>
<span class="ln">22</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">23</span><span class="p">}</span>
</code></pre></div><h2 id="15模板">15.模板</h2>
<h3 id="模板的概念">模板的概念</h3>
<p>模板就是建立<strong>通用的模具</strong>，大大<strong>提高复用性</strong></p>
<h3 id="函数模板">函数模板</h3>
<ul>
<li>
<p>C++另一种编程思想称为 泛型编程，主要利用的技术就是模板</p>
</li>
<li>
<p>C++提供两种模板机制:<strong>函数模板</strong>和<strong>类模板</strong></p>
</li>
</ul>
<h4 id="函数模板语法">函数模板语法</h4>
<p>建立一个通用函数，其函数返回值类型和形参类型可以不具体制定，用一个<strong>虚拟的类型</strong>来代表。</p>
<p><strong>语法：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln">1</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="ln">2</span><span class="err">函数声明或定义</span>
</code></pre></div><p><strong>解释：</strong></p>
<p>template  &mdash;  声明创建模板</p>
<p>typename  &mdash; 表面其后面的符号是一种数据类型，可以用class代替</p>
<p>T    &mdash;   通用的数据类型，名称可以替换，通常为大写字母</p>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="c1">//交换整型函数
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">swapInt</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 3</span>	<span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln"> 6</span><span class="p">}</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span><span class="c1">//交换浮点型函数
</span><span class="ln"> 9</span><span class="c1"></span><span class="kt">void</span> <span class="nf">swapDouble</span><span class="p">(</span><span class="kt">double</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="kt">double</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">10</span>	<span class="kt">double</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln">11</span>	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln">12</span>	<span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">13</span><span class="p">}</span>
<span class="ln">14</span>
<span class="ln">15</span><span class="c1">//利用模板提供通用的交换函数
</span><span class="ln">16</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="ln">17</span><span class="kt">void</span> <span class="n">mySwap</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span>
<span class="ln">18</span><span class="p">{</span>
<span class="ln">19</span>	<span class="n">T</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln">20</span>	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln">21</span>	<span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln">22</span><span class="p">}</span>
<span class="ln">23</span>
<span class="ln">24</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">25</span><span class="p">{</span>
<span class="ln">26</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">27</span>	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="ln">28</span>	
<span class="ln">29</span>	<span class="c1">//swapInt(a, b);
</span><span class="ln">30</span><span class="c1"></span>
<span class="ln">31</span>	<span class="c1">//利用模板实现交换
</span><span class="ln">32</span><span class="c1"></span>	<span class="c1">//1、自动类型推导
</span><span class="ln">33</span><span class="c1"></span>	<span class="n">mySwap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
<span class="ln">34</span>
<span class="ln">35</span>	<span class="c1">//2、显示指定类型
</span><span class="ln">36</span><span class="c1"></span>	<span class="n">mySwap</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
<span class="ln">37</span>
<span class="ln">38</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;a = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">39</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;b = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">40</span>
<span class="ln">41</span><span class="p">}</span>
</code></pre></div><p>总结：</p>
<ul>
<li>函数模板利用关键字 template</li>
<li>使用函数模板有两种方式：自动类型推导、显示指定类型</li>
<li>模板的目的是为了提高复用性，将类型参数化</li>
</ul>
<h4 id="函数模板注意事项">函数模板注意事项</h4>
<ul>
<li>
<p>自动类型推导，必须推导出一致的数据类型T,才可以使用</p>
</li>
<li>
<p>模板必须要确定出T的数据类型，才可以使用</p>
</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//利用模板提供通用的交换函数
</span><span class="ln"> 2</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="ln"> 3</span><span class="kt">void</span> <span class="n">mySwap</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span>
<span class="ln"> 4</span><span class="p">{</span>
<span class="ln"> 5</span>	<span class="n">T</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln"> 8</span><span class="p">}</span>
<span class="ln"> 9</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="c1">// 1、自动类型推导，必须推导出一致的数据类型T,才可以使用
</span><span class="ln">12</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">13</span><span class="p">{</span>
<span class="ln">14</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">15</span>	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="ln">16</span>	<span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="sc">&#39;c&#39;</span><span class="p">;</span>
<span class="ln">17</span>
<span class="ln">18</span>	<span class="n">mySwap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span> <span class="c1">// 正确，可以推导出一致的T
</span><span class="ln">19</span><span class="c1"></span>	<span class="c1">//mySwap(a, c); // 错误，推导不出一致的T类型
</span><span class="ln">20</span><span class="c1"></span><span class="p">}</span>
<span class="ln">21</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="c1">// 2、模板必须要确定出T的数据类型，才可以使用
</span><span class="ln">24</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="ln">25</span><span class="kt">void</span> <span class="n">func</span><span class="p">()</span>
<span class="ln">26</span><span class="p">{</span>
<span class="ln">27</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;func 调用&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">28</span><span class="p">}</span>
<span class="ln">29</span>
<span class="ln">30</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">31</span><span class="p">{</span>
<span class="ln">32</span>	<span class="c1">//func(); //错误，模板不能独立使用，必须确定出T的类型
</span><span class="ln">33</span><span class="c1"></span>	<span class="n">func</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span> <span class="c1">//利用显示指定类型的方式，给T一个类型，才可以使用该模板
</span><span class="ln">34</span><span class="c1"></span><span class="p">}</span>
</code></pre></div><h4 id="函数模板案例">函数模板案例</h4>
<p>案例描述：</p>
<ul>
<li>利用函数模板封装一个排序的函数，可以对<strong>不同数据类型数组</strong>进行排序</li>
<li>排序规则从大到小，排序算法为<strong>选择排序</strong></li>
<li>分别利用<strong>char数组</strong>和<strong>int数组</strong>进行测试</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//交换的函数模板
</span><span class="ln"> 2</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="ln"> 3</span><span class="kt">void</span> <span class="n">mySwap</span><span class="p">(</span><span class="n">T</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="n">T</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span>
<span class="ln"> 4</span><span class="p">{</span>
<span class="ln"> 5</span>	<span class="n">T</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="ln"> 8</span><span class="p">}</span>
<span class="ln"> 9</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span> <span class="c1">// 也可以替换成typename
</span><span class="ln">12</span><span class="c1">//利用选择排序，进行对数组从大到小的排序
</span><span class="ln">13</span><span class="c1"></span><span class="kt">void</span> <span class="n">mySort</span><span class="p">(</span><span class="n">T</span> <span class="n">arr</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span>
<span class="ln">14</span><span class="p">{</span>
<span class="ln">15</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln">16</span>	<span class="p">{</span>
<span class="ln">17</span>		<span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span> <span class="c1">//最大数的下标
</span><span class="ln">18</span><span class="c1"></span>		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
<span class="ln">19</span>		<span class="p">{</span>
<span class="ln">20</span>			<span class="k">if</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">max</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<span class="ln">21</span>			<span class="p">{</span>
<span class="ln">22</span>				<span class="n">max</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
<span class="ln">23</span>			<span class="p">}</span>
<span class="ln">24</span>		<span class="p">}</span>
<span class="ln">25</span>		<span class="k">if</span> <span class="p">(</span><span class="n">max</span> <span class="o">!=</span> <span class="n">i</span><span class="p">)</span> <span class="c1">//如果最大数的下标不是i，交换两者
</span><span class="ln">26</span><span class="c1"></span>		<span class="p">{</span>
<span class="ln">27</span>			<span class="n">mySwap</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">max</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="ln">28</span>		<span class="p">}</span>
<span class="ln">29</span>	<span class="p">}</span>
<span class="ln">30</span><span class="p">}</span>
<span class="ln">31</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="ln">32</span><span class="kt">void</span> <span class="n">printArray</span><span class="p">(</span><span class="n">T</span> <span class="n">arr</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">33</span>
<span class="ln">34</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">35</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln">36</span>	<span class="p">}</span>
<span class="ln">37</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">38</span><span class="p">}</span>
<span class="ln">39</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">40</span><span class="p">{</span>
<span class="ln">41</span>	<span class="c1">//测试char数组
</span><span class="ln">42</span><span class="c1"></span>	<span class="kt">char</span> <span class="n">charArr</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&#34;bdcfeagh&#34;</span><span class="p">;</span>
<span class="ln">43</span>	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">charArr</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">);</span>
<span class="ln">44</span>	<span class="n">mySort</span><span class="p">(</span><span class="n">charArr</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
<span class="ln">45</span>	<span class="n">printArray</span><span class="p">(</span><span class="n">charArr</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
<span class="ln">46</span><span class="p">}</span>
<span class="ln">47</span>
<span class="ln">48</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">49</span><span class="p">{</span>
<span class="ln">50</span>	<span class="c1">//测试int数组
</span><span class="ln">51</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">intArr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span> <span class="p">};</span>
<span class="ln">52</span>	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">intArr</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
<span class="ln">53</span>	<span class="n">mySort</span><span class="p">(</span><span class="n">intArr</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
<span class="ln">54</span>	<span class="n">printArray</span><span class="p">(</span><span class="n">intArr</span><span class="p">,</span> <span class="n">num</span><span class="p">);</span>
<span class="ln">55</span><span class="p">}</span>
</code></pre></div><h4 id="普通函数与函数模板的区别">普通函数与函数模板的区别</h4>
<p><strong>普通函数与函数模板区别：</strong></p>
<ul>
<li>普通函数调用时可以发生自动类型转换（隐式类型转换）</li>
<li>函数模板调用时，如果利用自动类型推导，不会发生隐式类型转换</li>
<li>如果利用显示指定类型的方式，可以发生隐式类型转换</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//普通函数
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">int</span> <span class="nf">myAdd01</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>	<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="ln"> 5</span><span class="p">}</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span><span class="c1">//函数模板
</span><span class="ln"> 8</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="ln"> 9</span><span class="n">T</span> <span class="n">myAdd02</span><span class="p">(</span><span class="n">T</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span> <span class="n">b</span><span class="p">)</span>  
<span class="ln">10</span><span class="p">{</span>
<span class="ln">11</span>	<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="ln">12</span><span class="p">}</span>
<span class="ln">13</span>
<span class="ln">14</span><span class="c1">//使用函数模板时，如果用自动类型推导，不会发生自动类型转换,即隐式类型转换
</span><span class="ln">15</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">16</span><span class="p">{</span>
<span class="ln">17</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">18</span>	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="ln">19</span>	<span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="sc">&#39;c&#39;</span><span class="p">;</span>
<span class="ln">20</span>	
<span class="ln">21</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">myAdd01</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">//正确，将char类型的&#39;c&#39;隐式转换为int类型  &#39;c&#39; 对应 ASCII码 99
</span><span class="ln">22</span><span class="c1"></span>
<span class="ln">23</span>	<span class="c1">//myAdd02(a, c); // 报错，使用自动类型推导时，不会发生隐式类型转换
</span><span class="ln">24</span><span class="c1"></span>
<span class="ln">25</span>	<span class="n">myAdd02</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span> <span class="c1">//正确，如果用显示指定类型，可以发生隐式类型转换
</span><span class="ln">26</span><span class="c1"></span><span class="p">}</span>
</code></pre></div><h4 id="普通函数与函数模板的调用规则">普通函数与函数模板的调用规则</h4>
<p>调用规则如下：</p>
<ol>
<li>如果函数模板和普通函数都可以实现，优先调用普通函数</li>
<li>可以通过空模板参数列表来强制调用函数模板</li>
<li>函数模板也可以发生重载</li>
<li>如果函数模板可以产生更好的匹配,优先调用函数模板</li>
</ol>
<p>总结：既然提供了函数模板，最好就不要提供普通函数，否则容易出现二义性</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//普通函数与函数模板调用规则
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">myPrint</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;调用的普通函数&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 5</span><span class="p">}</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="ln"> 8</span><span class="kt">void</span> <span class="n">myPrint</span><span class="p">(</span><span class="n">T</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span> <span class="n">b</span><span class="p">)</span> 
<span class="ln"> 9</span><span class="p">{</span> 
<span class="ln">10</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;调用的模板&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">11</span><span class="p">}</span>
<span class="ln">12</span>
<span class="ln">13</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="ln">14</span><span class="kt">void</span> <span class="n">myPrint</span><span class="p">(</span><span class="n">T</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span> <span class="n">b</span><span class="p">,</span> <span class="n">T</span> <span class="n">c</span><span class="p">)</span> 
<span class="ln">15</span><span class="p">{</span> 
<span class="ln">16</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;调用重载的模板&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
<span class="ln">17</span><span class="p">}</span>
<span class="ln">18</span>
<span class="ln">19</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">20</span><span class="p">{</span>
<span class="ln">21</span>	<span class="c1">//1、如果函数模板和普通函数都可以实现，优先调用普通函数
</span><span class="ln">22</span><span class="c1"></span>	<span class="c1">// 注意 如果告诉编译器  普通函数是有的，但只是声明没有实现，或者不在当前文件内实现，就会报错找不到
</span><span class="ln">23</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">24</span>	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="ln">25</span>	<span class="n">myPrint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span> <span class="c1">//调用普通函数
</span><span class="ln">26</span><span class="c1"></span>
<span class="ln">27</span>	<span class="c1">//2、可以通过空模板参数列表来强制调用函数模板
</span><span class="ln">28</span><span class="c1"></span>	<span class="n">myPrint</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span> <span class="c1">//调用函数模板
</span><span class="ln">29</span><span class="c1"></span>
<span class="ln">30</span>	<span class="c1">//3、函数模板也可以发生重载
</span><span class="ln">31</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="ln">32</span>	<span class="n">myPrint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span> <span class="c1">//调用重载的函数模板
</span><span class="ln">33</span><span class="c1"></span>
<span class="ln">34</span>	<span class="c1">//4、 如果函数模板可以产生更好的匹配,优先调用函数模板
</span><span class="ln">35</span><span class="c1"></span>	<span class="kt">char</span> <span class="n">c1</span> <span class="o">=</span> <span class="sc">&#39;a&#39;</span><span class="p">;</span>
<span class="ln">36</span>	<span class="kt">char</span> <span class="n">c2</span> <span class="o">=</span> <span class="sc">&#39;b&#39;</span><span class="p">;</span>
<span class="ln">37</span>	<span class="n">myPrint</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">);</span> <span class="c1">//调用函数模板
</span><span class="ln">38</span><span class="c1"></span><span class="p">}</span>
</code></pre></div><h4 id="模板的局限性">模板的局限性</h4>
<p><strong>例如：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln">1</span>	<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="ln">2</span>	<span class="kt">void</span> <span class="n">f</span><span class="p">(</span><span class="n">T</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span> <span class="n">b</span><span class="p">)</span>
<span class="ln">3</span>	<span class="p">{</span> 
<span class="ln">4</span>    	<span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
<span class="ln">5</span>    <span class="p">}</span>
</code></pre></div><p>在上述代码中提供的赋值操作，如果传入的a和b是一个数组，就无法实现了</p>
<p>再例如：</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln">1</span>	<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="ln">2</span>	<span class="kt">void</span> <span class="n">f</span><span class="p">(</span><span class="n">T</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span> <span class="n">b</span><span class="p">)</span>
<span class="ln">3</span>	<span class="p">{</span> 
<span class="ln">4</span>    	<span class="k">if</span><span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="ln">5</span>    <span class="p">}</span>
</code></pre></div><p>在上述代码中，如果T的数据类型传入的是像Person这样的自定义数据类型，也无法正常运行</p>
<p>因此C++为了解决这种问题，提供模板的重载，可以为这些<strong>特定的类型</strong>提供<strong>具体化的模板</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//普通函数模板
</span><span class="ln"> 2</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="ln"> 3</span><span class="kt">bool</span> <span class="n">myCompare</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">)</span>
<span class="ln"> 4</span><span class="p">{</span>
<span class="ln"> 5</span>	<span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>
<span class="ln"> 6</span>	<span class="p">{</span>
<span class="ln"> 7</span>		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="p">}</span>
<span class="ln"> 9</span>	<span class="k">else</span>
<span class="ln">10</span>	<span class="p">{</span>
<span class="ln">11</span>		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="ln">12</span>	<span class="p">}</span>
<span class="ln">13</span><span class="p">}</span>
<span class="ln">14</span>
<span class="ln">15</span>
<span class="ln">16</span><span class="c1">//具体化，显示具体化的原型和定意思以template&lt;&gt;开头，并通过名称来指出类型
</span><span class="ln">17</span><span class="c1">//具体化优先于常规模板
</span><span class="ln">18</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;&gt;</span> <span class="kt">bool</span> <span class="n">myCompare</span><span class="p">(</span><span class="n">Person</span> <span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span> <span class="n">Person</span> <span class="o">&amp;</span><span class="n">p2</span><span class="p">)</span>
<span class="ln">19</span><span class="p">{</span>
<span class="ln">20</span>	<span class="k">if</span> <span class="p">(</span> <span class="n">p1</span><span class="p">.</span><span class="n">m_Name</span>  <span class="o">==</span> <span class="n">p2</span><span class="p">.</span><span class="n">m_Name</span> <span class="o">&amp;&amp;</span> <span class="n">p1</span><span class="p">.</span><span class="n">m_Age</span> <span class="o">==</span> <span class="n">p2</span><span class="p">.</span><span class="n">m_Age</span><span class="p">)</span>
<span class="ln">21</span>	<span class="p">{</span>
<span class="ln">22</span>		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="ln">23</span>	<span class="p">}</span>
<span class="ln">24</span>	<span class="k">else</span>
<span class="ln">25</span>	<span class="p">{</span>
<span class="ln">26</span>		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="ln">27</span>	<span class="p">}</span>
<span class="ln">28</span><span class="p">}</span>
<span class="ln">29</span>
<span class="ln">30</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">31</span><span class="p">{</span>
<span class="ln">32</span>	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="ln">33</span>	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="ln">34</span>	<span class="c1">//内置数据类型可以直接使用通用的函数模板
</span><span class="ln">35</span><span class="c1"></span>	<span class="kt">bool</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">myCompare</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
<span class="ln">36</span>	<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">)</span>
<span class="ln">37</span>	<span class="p">{</span>
<span class="ln">38</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;a == b &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">39</span>	<span class="p">}</span>
<span class="ln">40</span>	<span class="k">else</span>
<span class="ln">41</span>	<span class="p">{</span>
<span class="ln">42</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;a != b &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">43</span>	<span class="p">}</span>
<span class="ln">44</span><span class="p">}</span>
<span class="ln">45</span>
<span class="ln">46</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">47</span><span class="p">{</span>
<span class="ln">48</span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="s">&#34;Tom&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="ln">49</span>	<span class="n">Person</span> <span class="n">p2</span><span class="p">(</span><span class="s">&#34;Tom&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="ln">50</span>	<span class="c1">//自定义数据类型，不会调用普通的函数模板
</span><span class="ln">51</span><span class="c1"></span>	<span class="c1">//可以创建具体化的Person数据类型的模板，用于特殊处理这个类型
</span><span class="ln">52</span><span class="c1"></span>	<span class="kt">bool</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">myCompare</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">);</span>
<span class="ln">53</span>	<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">)</span>
<span class="ln">54</span>	<span class="p">{</span>
<span class="ln">55</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;p1 == p2 &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">56</span>	<span class="p">}</span>
<span class="ln">57</span>	<span class="k">else</span>
<span class="ln">58</span>	<span class="p">{</span>
<span class="ln">59</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;p1 != p2 &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">60</span>	<span class="p">}</span>
<span class="ln">61</span><span class="p">}</span>
</code></pre></div><h3 id="类模板">类模板</h3>
<h4 id="类模板语法">类模板语法</h4>
<p>建立一个通用类，类中的成员 数据类型可以不具体制定，用一个<strong>虚拟的类型</strong>来代表。</p>
<p><strong>语法：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln">1</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="ln">2</span><span class="err">类</span>
</code></pre></div><p><strong>解释：</strong></p>
<p>template  &mdash;  声明创建模板</p>
<p>typename  &mdash; 表面其后面的符号是一种数据类型，可以用class代替</p>
<p>T    &mdash;   通用的数据类型，名称可以替换，通常为大写字母</p>
<p><strong>示例：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span><span class="c1">//类模板
</span><span class="ln"> 3</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">NameType</span><span class="p">,</span> <span class="k">class</span> <span class="nc">AgeType</span><span class="o">&gt;</span> 
<span class="ln"> 4</span><span class="k">class</span> <span class="nc">Person</span>
<span class="ln"> 5</span><span class="p">{</span>
<span class="ln"> 6</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 7</span>	<span class="n">Person</span><span class="p">(</span><span class="n">NameType</span> <span class="n">name</span><span class="p">,</span> <span class="n">AgeType</span> <span class="n">age</span><span class="p">)</span>
<span class="ln"> 8</span>	<span class="p">{</span>
<span class="ln"> 9</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">mName</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
<span class="ln">10</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">mAge</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln">11</span>	<span class="p">}</span>
<span class="ln">12</span>	<span class="kt">void</span> <span class="nf">showPerson</span><span class="p">()</span>
<span class="ln">13</span>	<span class="p">{</span>
<span class="ln">14</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;name: &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">mName</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; age: &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">mAge</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">15</span>	<span class="p">}</span>
<span class="ln">16</span><span class="k">public</span><span class="o">:</span>
<span class="ln">17</span>	<span class="n">NameType</span> <span class="n">mName</span><span class="p">;</span>
<span class="ln">18</span>	<span class="n">AgeType</span> <span class="n">mAge</span><span class="p">;</span>
<span class="ln">19</span><span class="p">};</span>
<span class="ln">20</span>
<span class="ln">21</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">22</span><span class="p">{</span>
<span class="ln">23</span>	<span class="c1">// 指定NameType 为string类型，AgeType 为 int类型
</span><span class="ln">24</span><span class="c1"></span>	<span class="n">Person</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="n">P1</span><span class="p">(</span><span class="s">&#34;孙悟空&#34;</span><span class="p">,</span> <span class="mi">999</span><span class="p">);</span>
<span class="ln">25</span>	<span class="n">P1</span><span class="p">.</span><span class="n">showPerson</span><span class="p">();</span>
<span class="ln">26</span><span class="p">}</span>
</code></pre></div><h4 id="类模板与函数模板区别">类模板与函数模板区别</h4>
<p>类模板与函数模板区别主要有两点：</p>
<ol>
<li>类模板没有自动类型推导的使用方式</li>
<li>类模板在模板参数列表中可以有默认参数</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span><span class="c1">//类模板
</span><span class="ln"> 3</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">NameType</span><span class="p">,</span> <span class="k">class</span> <span class="nc">AgeType</span> <span class="o">=</span> <span class="kt">int</span><span class="o">&gt;</span> 
<span class="ln"> 4</span><span class="k">class</span> <span class="nc">Person</span>
<span class="ln"> 5</span><span class="p">{</span>
<span class="ln"> 6</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 7</span>	<span class="n">Person</span><span class="p">(</span><span class="n">NameType</span> <span class="n">name</span><span class="p">,</span> <span class="n">AgeType</span> <span class="n">age</span><span class="p">)</span>
<span class="ln"> 8</span>	<span class="p">{</span>
<span class="ln"> 9</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">mName</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
<span class="ln">10</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">mAge</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln">11</span>	<span class="p">}</span>
<span class="ln">12</span>	<span class="kt">void</span> <span class="nf">showPerson</span><span class="p">()</span>
<span class="ln">13</span>	<span class="p">{</span>
<span class="ln">14</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;name: &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">mName</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; age: &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">mAge</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">15</span>	<span class="p">}</span>
<span class="ln">16</span><span class="k">public</span><span class="o">:</span>
<span class="ln">17</span>	<span class="n">NameType</span> <span class="n">mName</span><span class="p">;</span>
<span class="ln">18</span>	<span class="n">AgeType</span> <span class="n">mAge</span><span class="p">;</span>
<span class="ln">19</span><span class="p">};</span>
<span class="ln">20</span>
<span class="ln">21</span><span class="c1">//1、类模板没有自动类型推导的使用方式
</span><span class="ln">22</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">23</span><span class="p">{</span>
<span class="ln">24</span>	<span class="c1">// Person p(&#34;孙悟空&#34;, 1000); // 错误 类模板使用时候，不可以用自动类型推导
</span><span class="ln">25</span><span class="c1"></span>	<span class="n">Person</span> <span class="o">&lt;</span><span class="n">string</span> <span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">p</span><span class="p">(</span><span class="s">&#34;孙悟空&#34;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span> <span class="c1">//必须使用显示指定类型的方式，使用类模板
</span><span class="ln">26</span><span class="c1"></span>	<span class="n">p</span><span class="p">.</span><span class="n">showPerson</span><span class="p">();</span>
<span class="ln">27</span><span class="p">}</span>
<span class="ln">28</span>
<span class="ln">29</span><span class="c1">//2、类模板在模板参数列表中可以有默认参数
</span><span class="ln">30</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">31</span><span class="p">{</span>
<span class="ln">32</span>	<span class="n">Person</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="s">&#34;猪八戒&#34;</span><span class="p">,</span> <span class="mi">999</span><span class="p">);</span> <span class="c1">//类模板中的模板参数列表 可以指定默认参数
</span><span class="ln">33</span><span class="c1"></span>	<span class="n">p</span><span class="p">.</span><span class="n">showPerson</span><span class="p">();</span>
<span class="ln">34</span><span class="p">}</span>
</code></pre></div><h4 id="类模板中成员函数创建时机">类模板中成员函数创建时机</h4>
<p>类模板中成员函数和普通类中成员函数创建时机是有区别的：</p>
<ul>
<li>普通类中的成员函数一开始就可以创建</li>
<li>类模板中的成员函数在调用时才创建</li>
</ul>
<h4 id="类模板对象做函数参数">类模板对象做函数参数</h4>
<p>一共有三种传入方式：</p>
<ol>
<li>指定传入的类型   &mdash; 直接显示对象的数据类型</li>
<li>参数模板化           &mdash; 将对象中的参数变为模板进行传递</li>
<li>整个类模板化       &mdash; 将这个对象类型 模板化进行传递</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//1、指定传入的类型
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">printPerson1</span><span class="p">(</span><span class="n">Person</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">)</span> 
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>	<span class="n">p</span><span class="p">.</span><span class="n">showPerson</span><span class="p">();</span>
<span class="ln"> 5</span><span class="p">}</span>
<span class="ln"> 6</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 7</span><span class="p">{</span>
<span class="ln"> 8</span>	<span class="n">Person</span> <span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span> <span class="o">&gt;</span><span class="n">p</span><span class="p">(</span><span class="s">&#34;孙悟空&#34;</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="n">printPerson1</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<span class="ln">10</span><span class="p">}</span>
<span class="ln">11</span>
<span class="ln">12</span><span class="c1">//2、参数模板化
</span><span class="ln">13</span><span class="c1"></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln">14</span><span class="kt">void</span> <span class="n">printPerson2</span><span class="p">(</span><span class="n">Person</span><span class="o">&lt;</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&gt;&amp;</span><span class="n">p</span><span class="p">)</span>
<span class="ln">15</span><span class="p">{</span>
<span class="ln">16</span>	<span class="n">p</span><span class="p">.</span><span class="n">showPerson</span><span class="p">();</span>
<span class="ln">17</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;T1的类型为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">typeid</span><span class="p">(</span><span class="n">T1</span><span class="p">).</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;T2的类型为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">typeid</span><span class="p">(</span><span class="n">T2</span><span class="p">).</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">19</span><span class="p">}</span>
<span class="ln">20</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">21</span><span class="p">{</span>
<span class="ln">22</span>	<span class="n">Person</span> <span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span> <span class="o">&gt;</span><span class="n">p</span><span class="p">(</span><span class="s">&#34;猪八戒&#34;</span><span class="p">,</span> <span class="mi">90</span><span class="p">);</span>
<span class="ln">23</span>	<span class="n">printPerson2</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<span class="ln">24</span><span class="p">}</span>
<span class="ln">25</span>
<span class="ln">26</span><span class="c1">//3、整个类模板化
</span><span class="ln">27</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="ln">28</span><span class="kt">void</span> <span class="n">printPerson3</span><span class="p">(</span><span class="n">T</span> <span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span>
<span class="ln">29</span><span class="p">{</span>
<span class="ln">30</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;T的类型为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">typeid</span><span class="p">(</span><span class="n">T</span><span class="p">).</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">31</span>	<span class="n">p</span><span class="p">.</span><span class="n">showPerson</span><span class="p">();</span>
<span class="ln">32</span>
<span class="ln">33</span><span class="p">}</span>
<span class="ln">34</span><span class="kt">void</span> <span class="nf">test03</span><span class="p">()</span>
<span class="ln">35</span><span class="p">{</span>
<span class="ln">36</span>	<span class="n">Person</span> <span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span> <span class="o">&gt;</span><span class="n">p</span><span class="p">(</span><span class="s">&#34;唐僧&#34;</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
<span class="ln">37</span>	<span class="n">printPerson3</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<span class="ln">38</span><span class="p">}</span>
</code></pre></div><h4 id="类模板与继承">类模板与继承</h4>
<p>当类模板碰到继承时，需要注意一下几点：</p>
<ul>
<li>当子类继承的父类是一个类模板时，子类在声明的时候，要指定出父类中T的类型</li>
<li>如果不指定，编译器无法给子类分配内存</li>
<li>如果想灵活指定出父类中T的类型，子类也需变为类模板</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="ln"> 2</span><span class="k">class</span> <span class="nc">Base</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>	<span class="n">T</span> <span class="n">m</span><span class="p">;</span>
<span class="ln"> 5</span><span class="p">};</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span><span class="c1">//class Son:public Base  //错误，c++编译需要给子类分配内存，必须知道父类中T的类型才可以向下继承
</span><span class="ln"> 8</span><span class="c1"></span><span class="k">class</span> <span class="nc">Son</span> <span class="o">:</span><span class="k">public</span> <span class="n">Base</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="c1">//必须指定一个类型
</span><span class="ln"> 9</span><span class="c1"></span><span class="p">{</span>
<span class="ln">10</span><span class="p">};</span>
<span class="ln">11</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">12</span><span class="p">{</span>
<span class="ln">13</span>	<span class="n">Son</span> <span class="n">c</span><span class="p">;</span>
<span class="ln">14</span><span class="p">}</span>
<span class="ln">15</span>
<span class="ln">16</span><span class="c1">//类模板继承类模板 ,可以用T2指定父类中的T类型
</span><span class="ln">17</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln">18</span><span class="k">class</span> <span class="nc">Son2</span> <span class="o">:</span><span class="k">public</span> <span class="n">Base</span><span class="o">&lt;</span><span class="n">T2</span><span class="o">&gt;</span>
<span class="ln">19</span><span class="p">{</span>
<span class="ln">20</span><span class="k">public</span><span class="o">:</span>
<span class="ln">21</span>	<span class="n">Son2</span><span class="p">()</span>
<span class="ln">22</span>	<span class="p">{</span>
<span class="ln">23</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="k">typeid</span><span class="p">(</span><span class="n">T1</span><span class="p">).</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">24</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="k">typeid</span><span class="p">(</span><span class="n">T2</span><span class="p">).</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">25</span>	<span class="p">}</span>
<span class="ln">26</span><span class="p">};</span>
<span class="ln">27</span>
<span class="ln">28</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">29</span><span class="p">{</span>
<span class="ln">30</span>	<span class="n">Son2</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span><span class="o">&gt;</span> <span class="n">child1</span><span class="p">;</span>
<span class="ln">31</span><span class="p">}</span>
</code></pre></div><h4 id="类模板成员函数-类外实现">类模板成员函数 类外实现</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span>
<span class="ln"> 3</span><span class="c1">//类模板中成员函数类外实现
</span><span class="ln"> 4</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln"> 5</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 6</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 7</span>	<span class="c1">//成员函数类内声明
</span><span class="ln"> 8</span><span class="c1"></span>	<span class="n">Person</span><span class="p">(</span><span class="n">T1</span> <span class="n">name</span><span class="p">,</span> <span class="n">T2</span> <span class="n">age</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="kt">void</span> <span class="nf">showPerson</span><span class="p">();</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="k">public</span><span class="o">:</span>
<span class="ln">12</span>	<span class="n">T1</span> <span class="n">m_Name</span><span class="p">;</span>
<span class="ln">13</span>	<span class="n">T2</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln">14</span><span class="p">};</span>
<span class="ln">15</span>
<span class="ln">16</span><span class="c1">//构造函数 类外实现
</span><span class="ln">17</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln">18</span><span class="n">Person</span><span class="o">&lt;</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&gt;::</span><span class="n">Person</span><span class="p">(</span><span class="n">T1</span> <span class="n">name</span><span class="p">,</span> <span class="n">T2</span> <span class="n">age</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">19</span>	<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
<span class="ln">20</span>	<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln">21</span><span class="p">}</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="c1">//成员函数 类外实现
</span><span class="ln">24</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln">25</span><span class="kt">void</span> <span class="n">Person</span><span class="o">&lt;</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&gt;::</span><span class="n">showPerson</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">26</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名: &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄:&#34;</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">27</span><span class="p">}</span>
<span class="ln">28</span>
<span class="ln">29</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">30</span><span class="p">{</span>
<span class="ln">31</span>	<span class="n">Person</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="s">&#34;Tom&#34;</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="ln">32</span>	<span class="n">p</span><span class="p">.</span><span class="n">showPerson</span><span class="p">();</span>
<span class="ln">33</span><span class="p">}</span>
</code></pre></div><h4 id="类模板分文件编写">类模板分文件编写</h4>
<p>问题：</p>
<ul>
<li>类模板中成员函数创建时机是在调用阶段，导致分文件编写时链接不到</li>
</ul>
<p>解决：</p>
<ul>
<li>解决方式1：直接包含.cpp源文件</li>
<li>解决方式2：将声明和实现写到同一个文件中，并更改后缀名为.hpp，hpp是约定的名称，并不是强制</li>
</ul>
<p>主流的解决方式是第二种，将类模板成员函数写到一起，并将后缀名改为.hpp</p>
<p>person.hpp中代码：</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="cp">#pragma once
</span><span class="ln"> 2</span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="ln"> 3</span><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="ln"> 4</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="ln"> 5</span><span class="cp"></span>
<span class="ln"> 6</span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln"> 7</span><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="ln"> 8</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 9</span>	<span class="n">Person</span><span class="p">(</span><span class="n">T1</span> <span class="n">name</span><span class="p">,</span> <span class="n">T2</span> <span class="n">age</span><span class="p">);</span>
<span class="ln">10</span>	<span class="kt">void</span> <span class="nf">showPerson</span><span class="p">();</span>
<span class="ln">11</span><span class="k">public</span><span class="o">:</span>
<span class="ln">12</span>	<span class="n">T1</span> <span class="n">m_Name</span><span class="p">;</span>
<span class="ln">13</span>	<span class="n">T2</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln">14</span><span class="p">};</span>
<span class="ln">15</span>
<span class="ln">16</span><span class="c1">//构造函数 类外实现
</span><span class="ln">17</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln">18</span><span class="n">Person</span><span class="o">&lt;</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&gt;::</span><span class="n">Person</span><span class="p">(</span><span class="n">T1</span> <span class="n">name</span><span class="p">,</span> <span class="n">T2</span> <span class="n">age</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">19</span>	<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
<span class="ln">20</span>	<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln">21</span><span class="p">}</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="c1">//成员函数 类外实现
</span><span class="ln">24</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln">25</span><span class="kt">void</span> <span class="n">Person</span><span class="o">&lt;</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&gt;::</span><span class="n">showPerson</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">26</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名: &#34;</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄:&#34;</span> <span class="o">&lt;&lt;</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">27</span><span class="p">}</span>
</code></pre></div><p>类模板分文件编写.cpp中代码</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="ln"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span><span class="c1">//#include &#34;person.h&#34;
</span><span class="ln"> 5</span><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&#34;person.cpp&#34; //解决方式1，包含cpp源文件</span><span class="cp">
</span><span class="ln"> 6</span><span class="cp"></span>
<span class="ln"> 7</span><span class="c1">//解决方式2，将声明和实现写到一起，文件后缀名改为.hpp
</span><span class="ln"> 8</span><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&#34;person.hpp&#34;</span><span class="cp">
</span><span class="ln"> 9</span><span class="cp"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">10</span><span class="p">{</span>
<span class="ln">11</span>	<span class="n">Person</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="s">&#34;Tom&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="ln">12</span>	<span class="n">p</span><span class="p">.</span><span class="n">showPerson</span><span class="p">();</span>
<span class="ln">13</span><span class="p">}</span>
<span class="ln">14</span>
<span class="ln">15</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="n">test01</span><span class="p">();</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
<span class="ln">20</span>
<span class="ln">21</span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln">22</span><span class="p">}</span>
</code></pre></div><h4 id="类模板与友元">类模板与友元</h4>
<p>全局函数类内实现 - 直接在类内声明友元即可</p>
<p>全局函数类外实现 - 需要提前让编译器知道全局函数的存在</p>
<p>建议全局函数做类内实现，用法简单，而且编译器可以直接识别</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span>
<span class="ln"> 3</span><span class="c1">//2、全局函数配合友元  类外实现 - 先做函数模板声明，下方在做函数模板定义，在做友元
</span><span class="ln"> 4</span><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span> <span class="k">class</span> <span class="nc">Person</span><span class="p">;</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span><span class="c1">//如果声明了函数模板，可以将实现写到后面，否则需要将实现体写到类的前面让编译器提前看到
</span><span class="ln"> 7</span><span class="c1">//template&lt;class T1, class T2&gt; void printPerson2(Person&lt;T1, T2&gt; &amp; p); 
</span><span class="ln"> 8</span><span class="c1"></span>
<span class="ln"> 9</span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln">10</span><span class="kt">void</span> <span class="n">printPerson2</span><span class="p">(</span><span class="n">Person</span><span class="o">&lt;</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span>
<span class="ln">11</span><span class="p">{</span>
<span class="ln">12</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;类外实现 ---- 姓名： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">13</span><span class="p">}</span>
<span class="ln">14</span>
<span class="ln">15</span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
<span class="ln">16</span><span class="k">class</span> <span class="nc">Person</span>
<span class="ln">17</span><span class="p">{</span>
<span class="ln">18</span>	<span class="c1">//1、全局函数配合友元   类内实现
</span><span class="ln">19</span><span class="c1"></span>	<span class="k">friend</span> <span class="kt">void</span> <span class="nf">printPerson</span><span class="p">(</span><span class="n">Person</span><span class="o">&lt;</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span>
<span class="ln">20</span>	<span class="p">{</span>
<span class="ln">21</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">22</span>	<span class="p">}</span>
<span class="ln">23</span>
<span class="ln">24</span>
<span class="ln">25</span>	<span class="c1">//全局函数配合友元  类外实现
</span><span class="ln">26</span><span class="c1"></span>	<span class="k">friend</span> <span class="kt">void</span> <span class="n">printPerson2</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Person</span><span class="o">&lt;</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">p</span><span class="p">);</span>
<span class="ln">27</span>
<span class="ln">28</span><span class="k">public</span><span class="o">:</span>
<span class="ln">29</span>
<span class="ln">30</span>	<span class="n">Person</span><span class="p">(</span><span class="n">T1</span> <span class="n">name</span><span class="p">,</span> <span class="n">T2</span> <span class="n">age</span><span class="p">)</span>
<span class="ln">31</span>	<span class="p">{</span>
<span class="ln">32</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
<span class="ln">33</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln">34</span>	<span class="p">}</span>
<span class="ln">35</span>
<span class="ln">36</span>
<span class="ln">37</span><span class="k">private</span><span class="o">:</span>
<span class="ln">38</span>	<span class="n">T1</span> <span class="n">m_Name</span><span class="p">;</span>
<span class="ln">39</span>	<span class="n">T2</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln">40</span>
<span class="ln">41</span><span class="p">};</span>
<span class="ln">42</span>
<span class="ln">43</span><span class="c1">//1、全局函数在类内实现
</span><span class="ln">44</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">45</span><span class="p">{</span>
<span class="ln">46</span>	<span class="n">Person</span> <span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span> <span class="o">&gt;</span><span class="n">p</span><span class="p">(</span><span class="s">&#34;Tom&#34;</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="ln">47</span>	<span class="n">printPerson</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<span class="ln">48</span><span class="p">}</span>
<span class="ln">49</span>
<span class="ln">50</span>
<span class="ln">51</span><span class="c1">//2、全局函数在类外实现
</span><span class="ln">52</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">53</span><span class="p">{</span>
<span class="ln">54</span>	<span class="n">Person</span> <span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span> <span class="o">&gt;</span><span class="n">p</span><span class="p">(</span><span class="s">&#34;Jerry&#34;</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
<span class="ln">55</span>	<span class="n">printPerson2</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<span class="ln">56</span><span class="p">}</span>
</code></pre></div><h2 id="16stl初识">16.STL初识</h2>
<h3 id="stl基本概念">STL基本概念</h3>
<ul>
<li>STL(Standard Template Library,<strong>标准模板库</strong>)</li>
<li>STL 从广义上分为: <strong>容器(container) 算法(algorithm) 迭代器(iterator)</strong></li>
<li><strong>容器</strong>和<strong>算法</strong>之间通过<strong>迭代器</strong>进行无缝连接。</li>
<li>STL 几乎所有的代码都采用了模板类或者模板函数</li>
</ul>
<h3 id="stl六大组件">STL六大组件</h3>
<p>STL大体分为六大组件，分别是:<strong>容器、算法、迭代器、仿函数、适配器（配接器）、空间配置器</strong></p>
<ol>
<li>容器：各种数据结构，如vector、list、deque、set、map等,用来存放数据。</li>
<li>算法：各种常用的算法，如sort、find、copy、for_each等</li>
<li>迭代器：扮演了容器与算法之间的胶合剂。</li>
<li>仿函数：行为类似函数，可作为算法的某种策略。</li>
<li>适配器：一种用来修饰容器或者仿函数或迭代器接口的东西。</li>
<li>空间配置器：负责空间的配置与管理。</li>
</ol>
<h3 id="stl中容器算法迭代器">STL中容器、算法、迭代器</h3>
<p>**容器：**置物之所也</p>
<p>STL<strong>容器</strong>就是将运用<strong>最广泛的一些数据结构</strong>实现出来</p>
<p>常用的数据结构：数组, 链表,树, 栈, 队列, 集合, 映射表 等</p>
<p>这些容器分为<strong>序列式容器</strong>和<strong>关联式容器</strong>两种:</p>
<p>​	<strong>序列式容器</strong>:强调值的排序，序列式容器中的每个元素均有固定的位置。
​	<strong>关联式容器</strong>:二叉树结构，各元素之间没有严格的物理上的顺序关系</p>
<p>**算法：**问题之解法也</p>
<p>有限的步骤，解决逻辑或数学上的问题，这一门学科我们叫做算法(Algorithms)</p>
<p>算法分为:<strong>质变算法</strong>和<strong>非质变算法</strong>。</p>
<p>质变算法：是指运算过程中会更改区间内的元素的内容。例如拷贝，替换，删除等等</p>
<p>非质变算法：是指运算过程中不会更改区间内的元素内容，例如查找、计数、遍历、寻找极值等等</p>
<p>**迭代器：**容器和算法之间粘合剂</p>
<p>提供一种方法，使之能够依序寻访某个容器所含的各个元素，而又无需暴露该容器的内部表示方式。</p>
<p>每个容器都有自己专属的迭代器</p>
<p>迭代器使用非常类似于指针，初学阶段我们可以先理解迭代器为指针</p>
<p>迭代器种类：</p>
<table>
<thead>
<tr>
<th>种类</th>
<th>功能</th>
<th>支持运算</th>
</tr>
</thead>
<tbody>
<tr>
<td>输入迭代器</td>
<td>对数据的只读访问</td>
<td>只读，支持++、==、！=</td>
</tr>
<tr>
<td>输出迭代器</td>
<td>对数据的只写访问</td>
<td>只写，支持++</td>
</tr>
<tr>
<td>前向迭代器</td>
<td>读写操作，并能向前推进迭代器</td>
<td>读写，支持++、==、！=</td>
</tr>
<tr>
<td>双向迭代器</td>
<td>读写操作，并能向前和向后操作</td>
<td>读写，支持++、&ndash;，</td>
</tr>
<tr>
<td>随机访问迭代器</td>
<td>读写操作，可以以跳跃的方式访问任意数据，功能最强的迭代器</td>
<td>读写，支持++、&ndash;、[n]、-n、&lt;、&lt;=、&gt;、&gt;=</td>
</tr>
</tbody>
</table>
<p>常用的容器中迭代器种类为双向迭代器，和随机访问迭代器</p>
<h3 id="容器算法迭代器初识">容器算法迭代器初识</h3>
<h4 id="vector存放内置数据类型">vector存放内置数据类型</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
</span><span class="ln"> 3</span><span class="cp"></span>
<span class="ln"> 4</span><span class="kt">void</span> <span class="nf">MyPrint</span><span class="p">(</span><span class="kt">int</span> <span class="n">val</span><span class="p">)</span>
<span class="ln"> 5</span><span class="p">{</span>
<span class="ln"> 6</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 7</span><span class="p">}</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="c1">//创建vector容器对象，并且通过模板参数指定容器中存放的数据的类型
</span><span class="ln">12</span><span class="c1"></span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">;</span>
<span class="ln">13</span>	<span class="c1">//向容器中放数据
</span><span class="ln">14</span><span class="c1"></span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">15</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln">16</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">17</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="c1">//每一个容器都有自己的迭代器，迭代器是用来遍历容器中的元素
</span><span class="ln">20</span><span class="c1"></span>	<span class="c1">//v.begin()返回迭代器，这个迭代器指向容器中第一个数据
</span><span class="ln">21</span><span class="c1"></span>	<span class="c1">//v.end()返回迭代器，这个迭代器指向容器元素的最后一个元素的下一个位置
</span><span class="ln">22</span><span class="c1"></span>	<span class="c1">//vector&lt;int&gt;::iterator 拿到vector&lt;int&gt;这种容器的迭代器类型
</span><span class="ln">23</span><span class="c1"></span>
<span class="ln">24</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">pBegin</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<span class="ln">25</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">pEnd</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
<span class="ln">26</span>
<span class="ln">27</span>	<span class="c1">//第一种遍历方式：
</span><span class="ln">28</span><span class="c1"></span>	<span class="k">while</span> <span class="p">(</span><span class="n">pBegin</span> <span class="o">!=</span> <span class="n">pEnd</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">29</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">pBegin</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">30</span>		<span class="n">pBegin</span><span class="o">++</span><span class="p">;</span>
<span class="ln">31</span>	<span class="p">}</span>
<span class="ln">32</span>
<span class="ln">33</span>	
<span class="ln">34</span>	<span class="c1">//第二种遍历方式：
</span><span class="ln">35</span><span class="c1"></span>	<span class="k">for</span> <span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">36</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">it</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">37</span>	<span class="p">}</span>
<span class="ln">38</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">39</span>
<span class="ln">40</span>	<span class="c1">//第三种遍历方式：
</span><span class="ln">41</span><span class="c1"></span>	<span class="c1">//使用STL提供标准遍历算法  头文件 algorithm
</span><span class="ln">42</span><span class="c1"></span>	<span class="n">for_each</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">MyPrint</span><span class="p">);</span>
<span class="ln">43</span><span class="p">}</span>
</code></pre></div><h4 id="vector存放自定义数据类型">Vector存放自定义数据类型</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//存放对象
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">;</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="c1">//创建数据
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="s">&#34;aaa&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="ln"> 8</span>	<span class="n">Person</span> <span class="n">p2</span><span class="p">(</span><span class="s">&#34;bbb&#34;</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="n">Person</span> <span class="n">p3</span><span class="p">(</span><span class="s">&#34;ccc&#34;</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
<span class="ln">10</span>	<span class="n">Person</span> <span class="n">p4</span><span class="p">(</span><span class="s">&#34;ddd&#34;</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
<span class="ln">11</span>	<span class="n">Person</span> <span class="n">p5</span><span class="p">(</span><span class="s">&#34;eee&#34;</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
<span class="ln">14</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>
<span class="ln">15</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p3</span><span class="p">);</span>
<span class="ln">16</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p4</span><span class="p">);</span>
<span class="ln">17</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p5</span><span class="p">);</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="k">for</span> <span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">20</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Name:&#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">).</span><span class="n">mName</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; Age:&#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">).</span><span class="n">mAge</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">21</span>
<span class="ln">22</span>	<span class="p">}</span>
<span class="ln">23</span><span class="p">}</span>
<span class="ln">24</span>
<span class="ln">25</span>
<span class="ln">26</span><span class="c1">//放对象指针
</span><span class="ln">27</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span> <span class="p">{</span>
<span class="ln">28</span>
<span class="ln">29</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">*&gt;</span> <span class="n">v</span><span class="p">;</span>
<span class="ln">30</span>
<span class="ln">31</span>	<span class="c1">//创建数据
</span><span class="ln">32</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="s">&#34;aaa&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="ln">33</span>	<span class="n">Person</span> <span class="n">p2</span><span class="p">(</span><span class="s">&#34;bbb&#34;</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="ln">34</span>	<span class="n">Person</span> <span class="n">p3</span><span class="p">(</span><span class="s">&#34;ccc&#34;</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
<span class="ln">35</span>	<span class="n">Person</span> <span class="n">p4</span><span class="p">(</span><span class="s">&#34;ddd&#34;</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
<span class="ln">36</span>	<span class="n">Person</span> <span class="n">p5</span><span class="p">(</span><span class="s">&#34;eee&#34;</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="ln">37</span>
<span class="ln">38</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p1</span><span class="p">);</span>
<span class="ln">39</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p2</span><span class="p">);</span>
<span class="ln">40</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p3</span><span class="p">);</span>
<span class="ln">41</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p4</span><span class="p">);</span>
<span class="ln">42</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p5</span><span class="p">);</span>
<span class="ln">43</span>
<span class="ln">44</span>	<span class="k">for</span> <span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">*&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">45</span>		<span class="n">Person</span> <span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">);</span>
<span class="ln">46</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Name:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">mName</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; Age:&#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">mAge</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">47</span>	<span class="p">}</span>
<span class="ln">48</span><span class="p">}</span>
</code></pre></div><h4 id="vector容器嵌套容器">Vector容器嵌套容器</h4>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span>
<span class="ln"> 3</span><span class="c1">//容器嵌套容器
</span><span class="ln"> 4</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="n">vector</span><span class="o">&lt;</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span>  <span class="n">v</span><span class="p">;</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v1</span><span class="p">;</span>
<span class="ln"> 9</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v2</span><span class="p">;</span>
<span class="ln">10</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v3</span><span class="p">;</span>
<span class="ln">11</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v4</span><span class="p">;</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">14</span>		<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="ln">15</span>		<span class="n">v2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
<span class="ln">16</span>		<span class="n">v3</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">);</span>
<span class="ln">17</span>		<span class="n">v4</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">);</span>
<span class="ln">18</span>	<span class="p">}</span>
<span class="ln">19</span>
<span class="ln">20</span>	<span class="c1">//将容器元素插入到vector v中
</span><span class="ln">21</span><span class="c1"></span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">22</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>
<span class="ln">23</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">v3</span><span class="p">);</span>
<span class="ln">24</span>	<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">v4</span><span class="p">);</span>
<span class="ln">25</span>
<span class="ln">26</span>
<span class="ln">27</span>	<span class="k">for</span> <span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">28</span>
<span class="ln">29</span>		<span class="k">for</span> <span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">vit</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">).</span><span class="n">begin</span><span class="p">();</span> <span class="n">vit</span> <span class="o">!=</span> <span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">).</span><span class="n">end</span><span class="p">();</span> <span class="n">vit</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">30</span>			<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">vit</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln">31</span>		<span class="p">}</span>
<span class="ln">32</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">33</span>	<span class="p">}</span>
<span class="ln">34</span>
<span class="ln">35</span><span class="p">}</span>
</code></pre></div><h2 id="17stl--常用容器">17.STL- 常用容器</h2>
<h3 id="string容器">string容器</h3>
<h4 id="string基本概念">string基本概念</h4>
<p>string 类内部封装了很多成员方法</p>
<p>例如：查找find，拷贝copy，删除delete 替换replace，插入insert</p>
<p>string管理char*所分配的内存，不用担心复制越界和取值越界等，由类内部进行负责</p>
<h4 id="string构造函数">string构造函数</h4>
<p>构造函数原型：</p>
<ul>
<li><code>string();</code>          				//创建一个空的字符串 例如: string str;
<code>string(const char* s);</code>	        //使用字符串s初始化</li>
<li><code>string(const string&amp; str);</code>    //使用一个string对象初始化另一个string对象</li>
<li><code>string(int n, char c);</code>           //使用n个字符c初始化</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span><span class="c1">//string构造
</span><span class="ln"> 3</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 4</span><span class="p">{</span>
<span class="ln"> 5</span>	<span class="n">string</span> <span class="n">s1</span><span class="p">;</span> <span class="c1">//创建空字符串，调用无参构造函数
</span><span class="ln"> 6</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str1 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&#34;hello world&#34;</span><span class="p">;</span>
<span class="ln"> 9</span>	<span class="n">string</span> <span class="n">s2</span><span class="p">(</span><span class="n">str</span><span class="p">);</span> <span class="c1">//把c_string转换成了string
</span><span class="ln">10</span><span class="c1"></span>
<span class="ln">11</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str2 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="n">string</span> <span class="n">s3</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span> <span class="c1">//调用拷贝构造函数
</span><span class="ln">14</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str3 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">15</span>
<span class="ln">16</span>	<span class="n">string</span> <span class="n">s4</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="sc">&#39;a&#39;</span><span class="p">);</span>
<span class="ln">17</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str3 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s3</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span><span class="p">}</span>
</code></pre></div><h4 id="string赋值操作">string赋值操作</h4>
<ul>
<li><code>string&amp; operator=(const char* s);</code>             //char*类型字符串 赋值给当前的字符串</li>
<li><code>string&amp; operator=(const string &amp;s);</code>         //把字符串s赋给当前的字符串</li>
<li><code>string&amp; operator=(char c);</code>                          //字符赋值给当前的字符串</li>
<li><code>string&amp; assign(const char *s);</code>                  //把字符串s赋给当前的字符串</li>
<li><code>string&amp; assign(const char *s, int n);</code>     //把字符串s的前n个字符赋给当前的字符串</li>
<li><code>string&amp; assign(const string &amp;s);</code>              //把字符串s赋给当前字符串</li>
<li><code>string&amp; assign(int n, char c);</code>                  //用n个字符c赋给当前字符串</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">string</span> <span class="n">str1</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="n">str1</span> <span class="o">=</span> <span class="s">&#34;hello world&#34;</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str1 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span>	<span class="n">string</span> <span class="n">str2</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="n">str2</span> <span class="o">=</span> <span class="n">str1</span><span class="p">;</span>
<span class="ln"> 9</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str2 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="n">string</span> <span class="n">str3</span><span class="p">;</span>
<span class="ln">12</span>	<span class="n">str3</span> <span class="o">=</span> <span class="sc">&#39;a&#39;</span><span class="p">;</span>
<span class="ln">13</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str3 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str3</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>
<span class="ln">15</span>	<span class="n">string</span> <span class="n">str4</span><span class="p">;</span>
<span class="ln">16</span>	<span class="n">str4</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="s">&#34;hello c++&#34;</span><span class="p">);</span>
<span class="ln">17</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str4 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str4</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="n">string</span> <span class="n">str5</span><span class="p">;</span>
<span class="ln">20</span>	<span class="n">str5</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="s">&#34;hello c++&#34;</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<span class="ln">21</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str5 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str5</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">22</span>
<span class="ln">23</span>
<span class="ln">24</span>	<span class="n">string</span> <span class="n">str6</span><span class="p">;</span>
<span class="ln">25</span>	<span class="n">str6</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">str5</span><span class="p">);</span>
<span class="ln">26</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str6 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str6</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">27</span>
<span class="ln">28</span>	<span class="n">string</span> <span class="n">str7</span><span class="p">;</span>
<span class="ln">29</span>	<span class="n">str7</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="sc">&#39;x&#39;</span><span class="p">);</span>
<span class="ln">30</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str7 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str7</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">31</span><span class="p">}</span>
<span class="ln">32</span>
</code></pre></div><h4 id="string字符串拼接">string字符串拼接</h4>
<ul>
<li><code>string&amp; operator+=(const char* str);</code>                   //重载+=操作符</li>
<li><code>string&amp; operator+=(const char c);</code>                         //重载+=操作符</li>
<li><code>string&amp; operator+=(const string&amp; str);</code>                //重载+=操作符</li>
<li><code>string&amp; append(const char *s); </code>                               //把字符串s连接到当前字符串结尾</li>
<li><code>string&amp; append(const char *s, int n);</code>                 //把字符串s的前n个字符连接到当前字符串结尾</li>
<li><code>string&amp; append(const string &amp;s);</code>                           //同operator+=(const string&amp; str)</li>
<li><code>string&amp; append(const string &amp;s, int pos, int n);</code>//字符串s中从pos开始的n个字符连接到字符串结尾</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">string</span> <span class="n">str1</span> <span class="o">=</span> <span class="s">&#34;我&#34;</span><span class="p">;</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="n">str1</span> <span class="o">+=</span> <span class="s">&#34;爱玩游戏&#34;</span><span class="p">;</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str1 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 8</span>	
<span class="ln"> 9</span>	<span class="n">str1</span> <span class="o">+=</span> <span class="sc">&#39;:&#39;</span><span class="p">;</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str1 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="n">string</span> <span class="n">str2</span> <span class="o">=</span> <span class="s">&#34;LOL DNF&#34;</span><span class="p">;</span>
<span class="ln">14</span>
<span class="ln">15</span>	<span class="n">str1</span> <span class="o">+=</span> <span class="n">str2</span><span class="p">;</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str1 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="n">string</span> <span class="n">str3</span> <span class="o">=</span> <span class="s">&#34;I&#34;</span><span class="p">;</span>
<span class="ln">20</span>	<span class="n">str3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#34; love &#34;</span><span class="p">);</span>
<span class="ln">21</span>	<span class="n">str3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#34;game abcde&#34;</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="ln">22</span>	<span class="c1">//str3.append(str2);
</span><span class="ln">23</span><span class="c1"></span>	<span class="n">str3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">str2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// 从下标4位置开始 ，截取3个字符，拼接到字符串末尾
</span><span class="ln">24</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str3 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str3</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">25</span><span class="p">}</span>
</code></pre></div><h4 id="string查找和替换">string查找和替换</h4>
<ul>
<li><code>int find(const string&amp; str, int pos = 0) const;</code>              //查找str第一次出现位置,从pos开始查找</li>
<li><code>int find(const char* s, int pos = 0) const; </code>                     //查找s第一次出现位置,从pos开始查找</li>
<li><code>int find(const char* s, int pos, int n) const; </code>               //从pos位置查找s的前n个字符第一次位置</li>
<li><code>int find(const char c, int pos = 0) const; </code>                       //查找字符c第一次出现位置</li>
<li><code>int rfind(const string&amp; str, int pos = npos) const;</code>      //查找str最后一次位置,从pos开始查找</li>
<li><code>int rfind(const char* s, int pos = npos) const;</code>              //查找s最后一次出现位置,从pos开始查找</li>
<li><code>int rfind(const char* s, int pos, int n) const;</code>              //从pos查找s的前n个字符最后一次位置</li>
<li><code>int rfind(const char c, int pos = 0) const;  </code>                      //查找字符c最后一次出现位置</li>
<li><code>string&amp; replace(int pos, int n, const string&amp; str); </code>       //替换从pos开始n个字符为字符串str</li>
<li><code>string&amp; replace(int pos, int n,const char* s); </code>                 //替换从pos开始的n个字符为字符串s</li>
</ul>
<p>find找到字符串后返回查找的第一个字符位置，找不到返回-1</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//查找和替换
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>	<span class="c1">//查找
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="n">string</span> <span class="n">str1</span> <span class="o">=</span> <span class="s">&#34;abcdefgde&#34;</span><span class="p">;</span>
<span class="ln"> 6</span>
<span class="ln"> 7</span>	<span class="kt">int</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">str1</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#34;de&#34;</span><span class="p">);</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="k">if</span> <span class="p">(</span><span class="n">pos</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="ln">10</span>	<span class="p">{</span>
<span class="ln">11</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;未找到&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span>	<span class="p">}</span>
<span class="ln">13</span>	<span class="k">else</span>
<span class="ln">14</span>	<span class="p">{</span>
<span class="ln">15</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;pos = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">pos</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">16</span>	<span class="p">}</span>
<span class="ln">17</span>	
<span class="ln">18</span>
<span class="ln">19</span>	<span class="n">pos</span> <span class="o">=</span> <span class="n">str1</span><span class="p">.</span><span class="n">rfind</span><span class="p">(</span><span class="s">&#34;de&#34;</span><span class="p">);</span>
<span class="ln">20</span>
<span class="ln">21</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;pos = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">pos</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="p">}</span>
<span class="ln">24</span>
<span class="ln">25</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">26</span><span class="p">{</span>
<span class="ln">27</span>	<span class="c1">//替换
</span><span class="ln">28</span><span class="c1"></span>	<span class="n">string</span> <span class="n">str1</span> <span class="o">=</span> <span class="s">&#34;abcdefgde&#34;</span><span class="p">;</span>
<span class="ln">29</span>	<span class="n">str1</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&#34;1111&#34;</span><span class="p">);</span>
<span class="ln">30</span>
<span class="ln">31</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;str1 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">str1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">32</span><span class="p">}</span>
</code></pre></div><h4 id="string字符串比较">string字符串比较</h4>
<ul>
<li>字符串比较是按字符的ASCII码进行对比</li>
</ul>
<p>= 返回   0</p>
<p>&gt; 返回   1</p>
<p>&lt; 返回  -1</p>
<ul>
<li><code>int compare(const string &amp;s) const; </code>  //与字符串s比较</li>
<li><code>int compare(const char *s) const;</code>      //与字符串s比较</li>
</ul>
<h4 id="string字符存取">string字符存取</h4>
<ul>
<li><code>char&amp; operator[](int n); </code>     //通过[]方式取字符</li>
<li><code>char&amp; at(int n);   </code>                    //通过at方法获取字符</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">string</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&#34;hello world&#34;</span><span class="p">;</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">str</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln"> 6</span>	<span class="p">{</span>
<span class="ln"> 7</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="p">}</span>
<span class="ln"> 9</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">str</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln">12</span>	<span class="p">{</span>
<span class="ln">13</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">str</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln">14</span>	<span class="p">}</span>
<span class="ln">15</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">16</span>
<span class="ln">17</span>
<span class="ln">18</span>	<span class="c1">//字符修改
</span><span class="ln">19</span><span class="c1"></span>	<span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;x&#39;</span><span class="p">;</span>
<span class="ln">20</span>	<span class="n">str</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="sc">&#39;x&#39;</span><span class="p">;</span>
<span class="ln">21</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">str</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">22</span>	
<span class="ln">23</span><span class="p">}</span>
</code></pre></div><h4 id="string插入和删除">string插入和删除</h4>
<ul>
<li><code>string&amp; insert(int pos, const char* s);  </code>                //插入字符串</li>
<li><code>string&amp; insert(int pos, const string&amp; str); </code>        //插入字符串</li>
<li><code>string&amp; insert(int pos, int n, char c);</code>                //在指定位置插入n个字符c</li>
<li><code>string&amp; erase(int pos, int n = npos);</code>                    //删除从Pos开始的n个字符</li>
</ul>
<h4 id="string子串">string子串</h4>
<p><code>string substr(int pos = 0, int n = npos) const;</code>   //返回由pos开始的n个字符组成的字符串</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//子串
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="n">string</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&#34;abcdefg&#34;</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="n">string</span> <span class="n">subStr</span> <span class="o">=</span> <span class="n">str</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;subStr = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">subStr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="n">string</span> <span class="n">email</span> <span class="o">=</span> <span class="s">&#34;hello@sina.com&#34;</span><span class="p">;</span>
<span class="ln">10</span>	<span class="kt">int</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">email</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#34;@&#34;</span><span class="p">);</span>
<span class="ln">11</span>	<span class="n">string</span> <span class="n">username</span> <span class="o">=</span> <span class="n">email</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pos</span><span class="p">);</span>
<span class="ln">12</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;username: &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">username</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">13</span>
<span class="ln">14</span><span class="p">}</span>
</code></pre></div><h3 id="vector容器">vector容器</h3>
<h4 id="vector基本概念">vector基本概念</h4>
<p>vector数据结构和<strong>数组非常相似</strong>，也称为<strong>单端数组</strong></p>
<p>vector可以<strong>动态扩展</strong>, 并不是在原空间之后续接新空间，而是找更大的内存空间，然后将原数据拷贝新空间，释放原空间</p>
<p>vector容器的迭代器是支持随机访问的迭代器</p>
<h4 id="vector构造函数">vector构造函数</h4>
<ul>
<li><code>vector&lt;T&gt; v; </code>               		     //采用模板实现类实现，默认构造函数</li>
<li><code>vector(v.begin(), v.end());   </code>       //将v[begin(), end())区间中的元素拷贝给本身。</li>
<li><code>vector(n, elem);</code>                            //构造函数将n个elem拷贝给本身。</li>
<li><code>vector(const vector &amp;vec);</code>         //拷贝构造函数。</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span>
<span class="ln"> 3</span><span class="kt">void</span> <span class="nf">printVector</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="k">for</span> <span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 6</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">it</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="p">}</span>
<span class="ln"> 8</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 9</span><span class="p">}</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">12</span><span class="p">{</span>
<span class="ln">13</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v1</span><span class="p">;</span> <span class="c1">//无参构造
</span><span class="ln">14</span><span class="c1"></span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln">15</span>	<span class="p">{</span>
<span class="ln">16</span>		<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="ln">17</span>	<span class="p">}</span>
<span class="ln">18</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">19</span>
<span class="ln">20</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v2</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v1</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="ln">21</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>
<span class="ln">22</span>
<span class="ln">23</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v3</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="ln">24</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v3</span><span class="p">);</span>
<span class="ln">25</span>	
<span class="ln">26</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v4</span><span class="p">(</span><span class="n">v3</span><span class="p">);</span>
<span class="ln">27</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v4</span><span class="p">);</span>
<span class="ln">28</span><span class="p">}</span>
</code></pre></div><h4 id="vector赋值操作">vector赋值操作</h4>
<ul>
<li>
<p><code>vector&amp; operator=(const vector &amp;vec);</code>//重载等号操作符</p>
</li>
<li>
<p><code>assign(beg, end);</code>       //将[beg, end)区间中的数据拷贝赋值给本身。</p>
</li>
<li>
<p><code>assign(n, elem);</code>        //将n个elem拷贝赋值给本身。</p>
</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span>
<span class="ln"> 3</span><span class="kt">void</span> <span class="nf">printVector</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="k">for</span> <span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 6</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">it</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="p">}</span>
<span class="ln"> 8</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 9</span><span class="p">}</span>
<span class="ln">10</span>
<span class="ln">11</span><span class="c1">//赋值操作
</span><span class="ln">12</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">13</span><span class="p">{</span>
<span class="ln">14</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v1</span><span class="p">;</span> <span class="c1">//无参构造
</span><span class="ln">15</span><span class="c1"></span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln">16</span>	<span class="p">{</span>
<span class="ln">17</span>		<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="ln">18</span>	<span class="p">}</span>
<span class="ln">19</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">20</span>
<span class="ln">21</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">v2</span><span class="p">;</span>
<span class="ln">22</span>	<span class="n">v2</span> <span class="o">=</span> <span class="n">v1</span><span class="p">;</span>
<span class="ln">23</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>
<span class="ln">24</span>
<span class="ln">25</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">v3</span><span class="p">;</span>
<span class="ln">26</span>	<span class="n">v3</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v1</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="ln">27</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v3</span><span class="p">);</span>
<span class="ln">28</span>
<span class="ln">29</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">v4</span><span class="p">;</span>
<span class="ln">30</span>	<span class="n">v4</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="ln">31</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v4</span><span class="p">);</span>
<span class="ln">32</span><span class="p">}</span>
</code></pre></div><h4 id="vector容量和大小">vector容量和大小</h4>
<ul>
<li>
<p><code>empty(); </code>                            //判断容器是否为空</p>
</li>
<li>
<p><code>capacity();</code>                      //容器的容量</p>
</li>
<li>
<p><code>size();</code>                              //返回容器中元素的个数</p>
</li>
<li>
<p><code>resize(int num);</code>             //重新指定容器的长度为num，若容器变长，则以默认值填充新位置。</p>
<p>​					      //如果容器变短，则末尾超出容器长度的元素被删除。</p>
</li>
<li>
<p><code>resize(int num, elem);</code>  //重新指定容器的长度为num，若容器变长，则以elem值填充新位置。</p>
<p>​				              //如果容器变短，则末尾超出容器长度的元素被删除</p>
</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v1</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln"> 5</span>	<span class="p">{</span>
<span class="ln"> 6</span>		<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="p">}</span>
<span class="ln"> 8</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="k">if</span> <span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
<span class="ln">10</span>	<span class="p">{</span>
<span class="ln">11</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v1为空&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">12</span>	<span class="p">}</span>
<span class="ln">13</span>	<span class="k">else</span>
<span class="ln">14</span>	<span class="p">{</span>
<span class="ln">15</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v1不为空&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">16</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v1的容量 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">v1</span><span class="p">.</span><span class="n">capacity</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">17</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v1的大小 = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">v1</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>	<span class="p">}</span>
<span class="ln">19</span>
<span class="ln">20</span>	<span class="c1">//resize 重新指定大小 ，若指定的更大，默认用0填充新位置，可以利用重载版本替换默认填充
</span><span class="ln">21</span><span class="c1"></span>	<span class="n">v1</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">22</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">23</span>
<span class="ln">24</span>	<span class="c1">//resize 重新指定大小 ，若指定的更小，超出部分元素被删除
</span><span class="ln">25</span><span class="c1"></span>	<span class="n">v1</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="ln">26</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">27</span><span class="p">}</span>
</code></pre></div><h4 id="vector插入和删除">vector插入和删除</h4>
<ul>
<li><code>push_back(ele);</code>                                         //尾部插入元素ele</li>
<li><code>pop_back();</code>                                                //删除最后一个元素</li>
<li><code>insert(const_iterator pos, ele);</code>        //迭代器指向位置pos插入元素ele</li>
<li><code>insert(const_iterator pos, int count,ele);</code>//迭代器指向位置pos插入count个元素ele</li>
<li><code>erase(const_iterator pos);</code>                     //删除迭代器指向的元素</li>
<li><code>erase(const_iterator start, const_iterator end);</code>//删除迭代器从start到end之间的元素</li>
<li><code>clear();</code>                                                        //删除容器中所有元素</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v1</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="c1">//尾插
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 6</span>	<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln"> 8</span>	<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
<span class="ln">10</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">11</span>	<span class="c1">//尾删
</span><span class="ln">12</span><span class="c1"></span>	<span class="n">v1</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
<span class="ln">13</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">14</span>	<span class="c1">//插入
</span><span class="ln">15</span><span class="c1"></span>	<span class="n">v1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="mi">100</span><span class="p">);</span>
<span class="ln">16</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">17</span>
<span class="ln">18</span>	<span class="n">v1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
<span class="ln">19</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">20</span>
<span class="ln">21</span>	<span class="c1">//删除
</span><span class="ln">22</span><span class="c1"></span>	<span class="n">v1</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">begin</span><span class="p">());</span>
<span class="ln">23</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">24</span>
<span class="ln">25</span>	<span class="c1">//清空
</span><span class="ln">26</span><span class="c1"></span>	<span class="n">v1</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v1</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="ln">27</span>	<span class="n">v1</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<span class="ln">28</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">29</span><span class="p">}</span>
</code></pre></div><h4 id="vector数据存取">vector数据存取</h4>
<ul>
<li><code>at(int idx); </code>     //返回索引idx所指的数据</li>
<li><code>operator[]; </code>       //返回索引idx所指的数据</li>
<li><code>front(); </code>            //返回容器中第一个数据元素</li>
<li><code>back();</code>              //返回容器中最后一个数据元素</li>
</ul>
<h4 id="vector互换容器">vector互换容器</h4>
<p><code>swap(vec);</code>  // 将vec与本身的元素互换</p>
<p>swap可以使两个容器互换，可以达到实用的收缩内存效果</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">v1</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="ln"> 5</span>	<span class="p">{</span>
<span class="ln"> 6</span>		<span class="n">v1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="p">}</span>
<span class="ln"> 8</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">v2</span><span class="p">;</span>
<span class="ln">11</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span>
<span class="ln">12</span>	<span class="p">{</span>
<span class="ln">13</span>		<span class="n">v2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="ln">14</span>	<span class="p">}</span>
<span class="ln">15</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="c1">//互换容器
</span><span class="ln">18</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;互换后&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">19</span>	<span class="n">v1</span><span class="p">.</span><span class="n">swap</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>
<span class="ln">20</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
<span class="ln">21</span>	<span class="n">printVector</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>
<span class="ln">22</span><span class="p">}</span>
<span class="ln">23</span>
<span class="ln">24</span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">25</span><span class="p">{</span>
<span class="ln">26</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">;</span>
<span class="ln">27</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">28</span>		<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="ln">29</span>	<span class="p">}</span>
<span class="ln">30</span>
<span class="ln">31</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v的容量为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">capacity</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">32</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v的大小为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">33</span>
<span class="ln">34</span>	<span class="n">v</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="ln">35</span>
<span class="ln">36</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v的容量为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">capacity</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">37</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v的大小为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">38</span>
<span class="ln">39</span>	<span class="c1">//收缩内存
</span><span class="ln">40</span><span class="c1"></span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">).</span><span class="n">swap</span><span class="p">(</span><span class="n">v</span><span class="p">);</span> <span class="c1">//匿名对象
</span><span class="ln">41</span><span class="c1"></span>
<span class="ln">42</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v的容量为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">capacity</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">43</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;v的大小为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">44</span><span class="p">}</span>
</code></pre></div><h4 id="vector预留空间">vector预留空间</h4>
<p>减少vector在动态扩展容量时的扩展次数</p>
<p><code>reserve(int len);</code>//容器预留len个元素长度，预留位置不初始化，元素不可访问。</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">;</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="c1">//预留空间
</span><span class="ln"> 6</span><span class="c1"></span>	<span class="n">v</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="mi">100000</span><span class="p">);</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="ln"> 9</span>	<span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="ln">10</span>	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">11</span>		<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="ln">12</span>		<span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="p">{</span>
<span class="ln">13</span>			<span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="ln">14</span>			<span class="n">num</span><span class="o">++</span><span class="p">;</span>
<span class="ln">15</span>		<span class="p">}</span>
<span class="ln">16</span>	<span class="p">}</span>
<span class="ln">17</span>
<span class="ln">18</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;num:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">19</span><span class="p">}</span>
</code></pre></div><h3 id="deque容器">deque容器</h3>
<h4 id="deque容器基本概念">deque容器基本概念</h4>
<p>双端数组，可以对头端进行插入删除操作</p>
<p><strong>deque与vector区别：</strong></p>
<ul>
<li>vector对于头部的插入删除效率低，数据量越大，效率越低</li>
<li>deque相对而言，对头部的插入删除速度回比vector快</li>
<li>vector访问元素时的速度会比deque快,这和两者内部实现有关</li>
</ul>
<p>deque内部工作原理:</p>
<p>deque内部有个<strong>中控器</strong>，维护每段缓冲区中的内容，缓冲区中存放真实数据</p>
<p>中控器维护的是每个缓冲区的地址，使得使用deque时像一片连续的内存空间</p>
<h4 id="deque构造函数">deque构造函数</h4>
<ul>
<li><code>deque&lt;T&gt;</code> deqT;                      //默认构造形式</li>
<li><code>deque(beg, end);</code>                  //构造函数将[beg, end)区间中的元素拷贝给本身。</li>
<li><code>deque(n, elem);</code>                    //构造函数将n个elem拷贝给本身。</li>
<li><code>deque(const deque &amp;deq);</code>   //拷贝构造函数</li>
</ul>
<h4 id="deque赋值操作">deque赋值操作</h4>
<ul>
<li>
<p><code>deque&amp; operator=(const deque &amp;deq); </code>         //重载等号操作符</p>
</li>
<li>
<p><code>assign(beg, end);</code>                                           //将[beg, end)区间中的数据拷贝赋值给本身。</p>
</li>
<li>
<p><code>assign(n, elem);</code>                                             //将n个elem拷贝赋值给本身。</p>
</li>
</ul>
<h4 id="deque大小操作">deque大小操作</h4>
<ul>
<li>
<p><code>deque.empty();</code>                       //判断容器是否为空</p>
</li>
<li>
<p><code>deque.size();</code>                         //返回容器中元素的个数</p>
</li>
<li>
<p><code>deque.resize(num);</code>                //重新指定容器的长度为num,若容器变长，则以默认值填充新位置。</p>
<p>​			                             //如果容器变短，则末尾超出容器长度的元素被删除。</p>
</li>
<li>
<p><code>deque.resize(num, elem);</code>     //重新指定容器的长度为num,若容器变长，则以elem值填充新位置。</p>
<p>​                                                     //如果容器变短，则末尾超出容器长度的元素被删除。</p>
</li>
</ul>
<h4 id="deque-插入和删除">deque 插入和删除</h4>
<p>两端插入操作：</p>
<ul>
<li><code>push_back(elem);</code>          //在容器尾部添加一个数据</li>
<li><code>push_front(elem);</code>        //在容器头部插入一个数据</li>
<li><code>pop_back();</code>                   //删除容器最后一个数据</li>
<li><code>pop_front();</code>                 //删除容器第一个数据</li>
</ul>
<p>指定位置操作：</p>
<ul>
<li>
<p><code>insert(pos,elem);</code>         //在pos位置插入一个elem元素的拷贝，返回新数据的位置。</p>
</li>
<li>
<p><code>insert(pos,n,elem);</code>     //在pos位置插入n个elem数据，无返回值。</p>
</li>
<li>
<p><code>insert(pos,beg,end);</code>    //在pos位置插入[beg,end)区间的数据，无返回值。</p>
</li>
<li>
<p><code>clear();</code>                           //清空容器的所有数据</p>
</li>
<li>
<p><code>erase(beg,end);</code>             //删除[beg,end)区间的数据，返回下一个数据的位置。</p>
</li>
<li>
<p><code>erase(pos);</code>                    //删除pos位置的数据，返回下一个数据的位置。</p>
</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="c1">//尾插
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 6</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="c1">//头插
</span><span class="ln"> 8</span><span class="c1"></span>	<span class="n">d</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="c1">//尾删
</span><span class="ln">14</span><span class="c1"></span>	<span class="n">d</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
<span class="ln">15</span>	<span class="c1">//头删
</span><span class="ln">16</span><span class="c1"></span>	<span class="n">d</span><span class="p">.</span><span class="n">pop_front</span><span class="p">();</span>
<span class="ln">17</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">18</span><span class="p">}</span>
<span class="ln">19</span>
<span class="ln">20</span><span class="c1">//插入
</span><span class="ln">21</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">22</span><span class="p">{</span>
<span class="ln">23</span>	<span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">;</span>
<span class="ln">24</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">25</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln">26</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="ln">27</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="ln">28</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">29</span>
<span class="ln">30</span>	<span class="n">d</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="mi">1000</span><span class="p">);</span>
<span class="ln">31</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">32</span>
<span class="ln">33</span>	<span class="n">d</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="mi">2</span><span class="p">,</span><span class="mi">10000</span><span class="p">);</span>
<span class="ln">34</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">35</span>
<span class="ln">36</span>	<span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">d2</span><span class="p">;</span>
<span class="ln">37</span>	<span class="n">d2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="ln">38</span>	<span class="n">d2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="ln">39</span>	<span class="n">d2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="ln">40</span>
<span class="ln">41</span>	<span class="n">d</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">d2</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">d2</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="ln">42</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">43</span>
<span class="ln">44</span><span class="p">}</span>
<span class="ln">45</span>
<span class="ln">46</span><span class="c1">//删除
</span><span class="ln">47</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test03</span><span class="p">()</span>
<span class="ln">48</span><span class="p">{</span>
<span class="ln">49</span>	<span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">;</span>
<span class="ln">50</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">51</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln">52</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="ln">53</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="ln">54</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">55</span>
<span class="ln">56</span>	<span class="n">d</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">begin</span><span class="p">());</span>
<span class="ln">57</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">58</span>
<span class="ln">59</span>	<span class="n">d</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">d</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="ln">60</span>	<span class="n">d</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<span class="ln">61</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">62</span><span class="p">}</span>
</code></pre></div><h4 id="deque-数据存取">deque 数据存取</h4>
<ul>
<li><code>at(int idx); </code>     //返回索引idx所指的数据</li>
<li><code>operator[]; </code>      //返回索引idx所指的数据</li>
<li><code>front(); </code>            //返回容器中第一个数据元素</li>
<li><code>back();</code>              //返回容器中最后一个数据元素</li>
</ul>
<h4 id="deque-排序">deque 排序</h4>
<p><code>sort(iterator beg, iterator end)</code>  //对beg和end区间内元素进行排序</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span>	<span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 6</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="ln"> 8</span>	<span class="n">d</span><span class="p">.</span><span class="n">push_front</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">11</span>	<span class="n">sort</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">d</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="ln">12</span>	<span class="n">printDeque</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="ln">13</span>
<span class="ln">14</span><span class="p">}</span>
</code></pre></div><h3 id="stack容器">stack容器</h3>
<h4 id="stack-基本概念">stack 基本概念</h4>
<p>stack是一种<strong>先进后出</strong>(First In Last Out,FILO)的数据结构，它只有一个出口</p>
<h4 id="stack-常用接口">stack 常用接口</h4>
<p>构造函数：</p>
<ul>
<li><code>stack&lt;T&gt; stk;</code>                                 //stack采用模板类实现， stack对象的默认构造形式</li>
<li><code>stack(const stack &amp;stk);</code>            //拷贝构造函数</li>
</ul>
<p>赋值操作：</p>
<ul>
<li><code>stack&amp; operator=(const stack &amp;stk);</code>           //重载等号操作符</li>
</ul>
<p>数据存取：</p>
<ul>
<li><code>push(elem);</code>      //向栈顶添加元素</li>
<li><code>pop();</code>                //从栈顶移除第一个元素</li>
<li><code>top(); </code>                //返回栈顶元素</li>
</ul>
<p>大小操作：</p>
<ul>
<li><code>empty();</code>            //判断堆栈是否为空</li>
<li><code>size(); </code>              //返回栈的大小</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;stack&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span>
<span class="ln"> 3</span><span class="c1">//栈容器常用接口
</span><span class="ln"> 4</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 5</span><span class="p">{</span>
<span class="ln"> 6</span>	<span class="c1">//创建栈容器 栈容器必须符合先进后出
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="n">stack</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s</span><span class="p">;</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span>	<span class="c1">//向栈中添加元素，叫做 压栈 入栈
</span><span class="ln">10</span><span class="c1"></span>	<span class="n">s</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">11</span>	<span class="n">s</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln">12</span>	<span class="n">s</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">13</span>
<span class="ln">14</span>	<span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">s</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
<span class="ln">15</span>		<span class="c1">//输出栈顶元素
</span><span class="ln">16</span><span class="c1"></span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;栈顶元素为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">top</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">17</span>		<span class="c1">//弹出栈顶元素
</span><span class="ln">18</span><span class="c1"></span>		<span class="n">s</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
<span class="ln">19</span>	<span class="p">}</span>
<span class="ln">20</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;栈的大小为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">21</span>
<span class="ln">22</span><span class="p">}</span>
</code></pre></div><h3 id="queue-容器">queue 容器</h3>
<h4 id="queue-基本概念">queue 基本概念</h4>
<p>Queue是一种<strong>先进先出</strong>(First In First Out,FIFO)的数据结构，它有两个出口</p>
<h4 id="queue-常用接口">queue 常用接口</h4>
<p>构造函数：</p>
<ul>
<li><code>queue&lt;T&gt; que;</code>                                 //queue采用模板类实现，queue对象的默认构造形式</li>
<li><code>queue(const queue &amp;que);</code>            //拷贝构造函数</li>
</ul>
<p>赋值操作：</p>
<ul>
<li><code>queue&amp; operator=(const queue &amp;que);</code>           //重载等号操作符</li>
</ul>
<p>数据存取：</p>
<ul>
<li><code>push(elem);</code>                             //往队尾添加元素</li>
<li><code>pop();</code>                                      //从队头移除第一个元素</li>
<li><code>back();</code>                                    //返回最后一个元素</li>
<li><code>front(); </code>                                  //返回第一个元素</li>
</ul>
<p>大小操作：</p>
<ul>
<li><code>empty();</code>            //判断堆栈是否为空</li>
<li><code>size(); </code>              //返回栈的大小</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="c1">//创建队列
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="n">queue</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">;</span>
<span class="ln"> 5</span>
<span class="ln"> 6</span>	<span class="c1">//准备数据
</span><span class="ln"> 7</span><span class="c1"></span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="s">&#34;唐僧&#34;</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
<span class="ln"> 8</span>	<span class="n">Person</span> <span class="n">p2</span><span class="p">(</span><span class="s">&#34;孙悟空&#34;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="n">Person</span> <span class="n">p3</span><span class="p">(</span><span class="s">&#34;猪八戒&#34;</span><span class="p">,</span> <span class="mi">900</span><span class="p">);</span>
<span class="ln">10</span>	<span class="n">Person</span> <span class="n">p4</span><span class="p">(</span><span class="s">&#34;沙僧&#34;</span><span class="p">,</span> <span class="mi">800</span><span class="p">);</span>
<span class="ln">11</span>
<span class="ln">12</span>	<span class="c1">//向队列中添加元素  入队操作
</span><span class="ln">13</span><span class="c1"></span>	<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
<span class="ln">14</span>	<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>
<span class="ln">15</span>	<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p3</span><span class="p">);</span>
<span class="ln">16</span>	<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p4</span><span class="p">);</span>
<span class="ln">17</span>
<span class="ln">18</span>	<span class="c1">//队列不提供迭代器，更不支持随机访问	
</span><span class="ln">19</span><span class="c1"></span>	<span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
<span class="ln">20</span>		<span class="c1">//输出队头元素
</span><span class="ln">21</span><span class="c1"></span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;队头元素-- 姓名： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">().</span><span class="n">m_Name</span> 
<span class="ln">22</span>              <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄： &#34;</span><span class="o">&lt;&lt;</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">().</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">23</span>        
<span class="ln">24</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;队尾元素-- 姓名： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">q</span><span class="p">.</span><span class="n">back</span><span class="p">().</span><span class="n">m_Name</span>  
<span class="ln">25</span>              <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">q</span><span class="p">.</span><span class="n">back</span><span class="p">().</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">26</span>        
<span class="ln">27</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">28</span>		<span class="c1">//弹出队头元素
</span><span class="ln">29</span><span class="c1"></span>		<span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
<span class="ln">30</span>	<span class="p">}</span>
<span class="ln">31</span>
<span class="ln">32</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;队列大小为：&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">33</span><span class="p">}</span>
</code></pre></div><h3 id="list容器">list容器</h3>
<h4 id="list基本概念">list基本概念</h4>
<p>将数据进行链式存储</p>
<p>STL中的链表是一个双向循环链表</p>
<p>由于链表的存储方式并不是连续的内存空间，因此链表list中的迭代器只支持前移和后移，属于<strong>双向迭代器</strong></p>
<p>List有一个重要的性质，插入操作和删除操作都不会造成原有list迭代器的失效，这在vector是不成立的。</p>
<h4 id="list构造函数">list构造函数</h4>
<ul>
<li><code>list&lt;T&gt; lst;</code>                               //list采用采用模板类实现,对象的默认构造形式：</li>
<li><code>list(beg,end);</code>                           //构造函数将[beg, end)区间中的元素拷贝给本身。</li>
<li><code>list(n,elem);</code>                             //构造函数将n个elem拷贝给本身。</li>
<li><code>list(const list &amp;lst);</code>            //拷贝构造函数。</li>
</ul>
<h4 id="list-赋值和交换">list 赋值和交换</h4>
<ul>
<li><code>assign(beg, end);</code>            //将[beg, end)区间中的数据拷贝赋值给本身。</li>
<li><code>assign(n, elem);</code>              //将n个elem拷贝赋值给本身。</li>
<li><code>list&amp; operator=(const list &amp;lst);</code>         //重载等号操作符</li>
<li><code>swap(lst);</code>                         //将lst与本身的元素互换。</li>
</ul>
<h4 id="list-大小操作">list 大小操作</h4>
<ul>
<li>
<p><code>size(); </code>                             //返回容器中元素的个数</p>
</li>
<li>
<p><code>empty(); </code>                           //判断容器是否为空</p>
</li>
<li>
<p><code>resize(num);</code>                   //重新指定容器的长度为num，若容器变长，则以默认值填充新位置。</p>
<p>​					    //如果容器变短，则末尾超出容器长度的元素被删除。</p>
</li>
<li>
<p><code>resize(num, elem); </code>       //重新指定容器的长度为num，若容器变长，则以elem值填充新位置。</p>
<pre><code>  ​					    //如果容器变短，则末尾超出容器长度的元素被删除。
</code></pre>
</li>
</ul>
<h4 id="list-插入和删除">list 插入和删除</h4>
<ul>
<li>push_back(elem);//在容器尾部加入一个元素</li>
<li>pop_back();//删除容器中最后一个元素</li>
<li>push_front(elem);//在容器开头插入一个元素</li>
<li>pop_front();//从容器开头移除第一个元素</li>
<li>insert(pos,elem);//在pos位置插elem元素的拷贝，返回新数据的位置。</li>
<li>insert(pos,n,elem);//在pos位置插入n个elem数据，无返回值。</li>
<li>insert(pos,beg,end);//在pos位置插入[beg,end)区间的数据，无返回值。</li>
<li>clear();//移除容器的所有数据</li>
<li>erase(beg,end);//删除[beg,end)区间的数据，返回下一个数据的位置。</li>
<li>erase(pos);//删除pos位置的数据，返回下一个数据的位置。</li>
<li>remove(elem);//删除容器中所有与elem值匹配的元素。</li>
</ul>
<h4 id="list-数据存取">list 数据存取</h4>
<ul>
<li><code>front();</code>        //返回第一个元素。</li>
<li><code>back();</code>         //返回最后一个元素。</li>
</ul>
<p>list容器中不可以通过[]或者at方式访问数据</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="c1">//数据存取
</span><span class="ln"> 2</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 3</span><span class="p">{</span>
<span class="ln"> 4</span>	<span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">L1</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="n">L1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 6</span>	<span class="n">L1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="n">L1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln"> 8</span>	<span class="n">L1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	
<span class="ln">11</span>	<span class="c1">//cout &lt;&lt; L1.at(0) &lt;&lt; endl;//错误 不支持at访问数据
</span><span class="ln">12</span><span class="c1"></span>	<span class="c1">//cout &lt;&lt; L1[0] &lt;&lt; endl; //错误  不支持[]方式访问数据
</span><span class="ln">13</span><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;第一个元素为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">L1</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;最后一个元素为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">L1</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">15</span>
<span class="ln">16</span>	<span class="c1">//list容器的迭代器是双向迭代器，不支持随机访问
</span><span class="ln">17</span><span class="c1"></span>	<span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">L1</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<span class="ln">18</span>	<span class="c1">//it = it + 1;//错误，不可以跳跃访问，即使是+1
</span><span class="ln">19</span><span class="c1"></span>    <span class="c1">//区别it++
</span><span class="ln">20</span><span class="c1"></span><span class="p">}</span>
</code></pre></div><h4 id="list-反转和排序">list 反转和排序</h4>
<ul>
<li><code>reverse();</code>   //反转链表</li>
<li><code>sort();</code>        //链表排序</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">printList</span><span class="p">(</span><span class="k">const</span> <span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">L</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 2</span>
<span class="ln"> 3</span>	<span class="k">for</span> <span class="p">(</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">const_iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">L</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">L</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 4</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">it</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="p">}</span>
<span class="ln"> 6</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 7</span><span class="p">}</span>
<span class="ln"> 8</span>
<span class="ln"> 9</span><span class="kt">bool</span> <span class="nf">myCompare</span><span class="p">(</span><span class="kt">int</span> <span class="n">val1</span> <span class="p">,</span> <span class="kt">int</span> <span class="n">val2</span><span class="p">)</span>
<span class="ln">10</span><span class="p">{</span>
<span class="ln">11</span>	<span class="k">return</span> <span class="n">val1</span> <span class="o">&gt;</span> <span class="n">val2</span><span class="p">;</span>
<span class="ln">12</span><span class="p">}</span>
<span class="ln">13</span>
<span class="ln">14</span><span class="c1">//反转和排序
</span><span class="ln">15</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">16</span><span class="p">{</span>
<span class="ln">17</span>	<span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">L</span><span class="p">;</span>
<span class="ln">18</span>	<span class="n">L</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">90</span><span class="p">);</span>
<span class="ln">19</span>	<span class="n">L</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">20</span>	<span class="n">L</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln">21</span>	<span class="n">L</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">70</span><span class="p">);</span>
<span class="ln">22</span>	<span class="n">printList</span><span class="p">(</span><span class="n">L</span><span class="p">);</span>
<span class="ln">23</span>
<span class="ln">24</span>	<span class="c1">//反转容器的元素
</span><span class="ln">25</span><span class="c1"></span>	<span class="n">L</span><span class="p">.</span><span class="n">reverse</span><span class="p">();</span>
<span class="ln">26</span>	<span class="n">printList</span><span class="p">(</span><span class="n">L</span><span class="p">);</span>
<span class="ln">27</span>
<span class="ln">28</span>	<span class="c1">//排序
</span><span class="ln">29</span><span class="c1"></span>	<span class="n">L</span><span class="p">.</span><span class="n">sort</span><span class="p">();</span> <span class="c1">//默认的排序规则 从小到大
</span><span class="ln">30</span><span class="c1"></span>	<span class="n">printList</span><span class="p">(</span><span class="n">L</span><span class="p">);</span>
<span class="ln">31</span>
<span class="ln">32</span>	<span class="n">L</span><span class="p">.</span><span class="n">sort</span><span class="p">(</span><span class="n">myCompare</span><span class="p">);</span> <span class="c1">//指定规则，从大到小
</span><span class="ln">33</span><span class="c1"></span>	<span class="n">printList</span><span class="p">(</span><span class="n">L</span><span class="p">);</span>
<span class="ln">34</span><span class="p">}</span>
</code></pre></div><h3 id="set-multiset-容器">set/ multiset 容器</h3>
<h4 id="set基本概念">set基本概念</h4>
<ul>
<li>所有元素都会在插入时自动被排序</li>
<li>set/multiset属于<strong>关联式容器</strong>，底层结构是用<strong>二叉树</strong>实现。</li>
</ul>
<p><strong>set和multiset区别</strong>：</p>
<ul>
<li>set不允许容器中有重复的元素</li>
<li>multiset允许容器中有重复的元素</li>
</ul>
<h4 id="set构造和赋值">set构造和赋值</h4>
<p>构造：</p>
<ul>
<li><code>set&lt;T&gt; st;</code>                        //默认构造函数：</li>
<li><code>set(const set &amp;st);</code>       //拷贝构造函数</li>
</ul>
<p>赋值：</p>
<ul>
<li><code>set&amp; operator=(const set &amp;st);</code>    //重载等号操作符</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s1</span><span class="p">;</span>
<span class="ln"> 4</span>
<span class="ln"> 5</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 6</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln"> 8</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="c1">//拷贝构造
</span><span class="ln">12</span><span class="c1"></span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">s2</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="ln">13</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
<span class="ln">14</span>
<span class="ln">15</span>	<span class="c1">//赋值
</span><span class="ln">16</span><span class="c1"></span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">s3</span><span class="p">;</span>
<span class="ln">17</span>	<span class="n">s3</span> <span class="o">=</span> <span class="n">s2</span><span class="p">;</span>
<span class="ln">18</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s3</span><span class="p">);</span>
<span class="ln">19</span><span class="p">}</span>
</code></pre></div><h4 id="set大小和交换">set大小和交换</h4>
<ul>
<li><code>size();</code>          //返回容器中元素的数目</li>
<li><code>empty();</code>        //判断容器是否为空</li>
<li><code>swap(st);</code>      //交换两个集合容器</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s1</span><span class="p">;</span>
<span class="ln"> 5</span>	
<span class="ln"> 6</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln"> 8</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="k">if</span> <span class="p">(</span><span class="n">s1</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
<span class="ln">12</span>	<span class="p">{</span>
<span class="ln">13</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;s1为空&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>	<span class="p">}</span>
<span class="ln">15</span>	<span class="k">else</span>
<span class="ln">16</span>	<span class="p">{</span>
<span class="ln">17</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;s1不为空&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;s1的大小为： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">s1</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">19</span>	<span class="p">}</span>
<span class="ln">20</span>
<span class="ln">21</span><span class="p">}</span>
<span class="ln">22</span>
<span class="ln">23</span><span class="c1">//交换
</span><span class="ln">24</span><span class="c1"></span><span class="kt">void</span> <span class="nf">test02</span><span class="p">()</span>
<span class="ln">25</span><span class="p">{</span>
<span class="ln">26</span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s1</span><span class="p">;</span>
<span class="ln">27</span>
<span class="ln">28</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">29</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">30</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln">31</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln">32</span>
<span class="ln">33</span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s2</span><span class="p">;</span>
<span class="ln">34</span>
<span class="ln">35</span>	<span class="n">s2</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="ln">36</span>	<span class="n">s2</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">300</span><span class="p">);</span>
<span class="ln">37</span>	<span class="n">s2</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="ln">38</span>	<span class="n">s2</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">400</span><span class="p">);</span>
<span class="ln">39</span>
<span class="ln">40</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;交换前&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">41</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="ln">42</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
<span class="ln">43</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">44</span>
<span class="ln">45</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;交换后&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">46</span>	<span class="n">s1</span><span class="p">.</span><span class="n">swap</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
<span class="ln">47</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="ln">48</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
<span class="ln">49</span><span class="p">}</span>
</code></pre></div><h4 id="set插入和删除">set插入和删除</h4>
<ul>
<li><code>insert(elem);</code>           //在容器中插入元素。</li>
<li><code>clear();</code>                    //清除所有元素</li>
<li><code>erase(pos);</code>              //删除pos迭代器所指的元素，返回下一个元素的迭代器。</li>
<li><code>erase(beg, end);</code>    //删除区间[beg,end)的所有元素 ，返回下一个元素的迭代器。</li>
<li><code>erase(elem);</code>            //删除容器中值为elem的元素。</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s1</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="c1">//插入
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 6</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln"> 8</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln"> 9</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="c1">//删除
</span><span class="ln">12</span><span class="c1"></span>	<span class="n">s1</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">s1</span><span class="p">.</span><span class="n">begin</span><span class="p">());</span>
<span class="ln">13</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="ln">14</span>
<span class="ln">15</span>	<span class="n">s1</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">16</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="ln">17</span>
<span class="ln">18</span>	<span class="c1">//清空
</span><span class="ln">19</span><span class="c1"></span>	<span class="c1">//s1.erase(s1.begin(), s1.end());
</span><span class="ln">20</span><span class="c1"></span>	<span class="n">s1</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<span class="ln">21</span>	<span class="n">printSet</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="ln">22</span><span class="p">}</span>
</code></pre></div><h4 id="set查找和统计">set查找和统计</h4>
<ul>
<li><code>find(key);</code>                  //查找key是否存在,若存在，返回该键的元素的迭代器；若不存在，返回set.end();</li>
<li><code>count(key);</code>                //统计key的元素个数</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s1</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="c1">//插入
</span><span class="ln"> 5</span><span class="c1"></span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 6</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln"> 7</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln"> 8</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln"> 9</span>	
<span class="ln">10</span>	<span class="c1">//查找
</span><span class="ln">11</span><span class="c1"></span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">12</span>
<span class="ln">13</span>	<span class="k">if</span> <span class="p">(</span><span class="n">pos</span> <span class="o">!=</span> <span class="n">s1</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<span class="ln">14</span>	<span class="p">{</span>
<span class="ln">15</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;找到了元素 ： &#34;</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">pos</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">16</span>	<span class="p">}</span>
<span class="ln">17</span>	<span class="k">else</span>
<span class="ln">18</span>	<span class="p">{</span>
<span class="ln">19</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;未找到元素&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">20</span>	<span class="p">}</span>
<span class="ln">21</span>
<span class="ln">22</span>	<span class="c1">//统计
</span><span class="ln">23</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">24</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;num = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">25</span><span class="p">}</span>
</code></pre></div><h4 id="set和multiset区别">set和multiset区别</h4>
<ul>
<li>set不可以插入重复数据，而multiset可以</li>
<li>set插入数据的同时会返回插入结果，表示插入是否成功</li>
<li>multiset不会检测数据，因此可以插入重复数据</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s</span><span class="p">;</span>
<span class="ln"> 4</span>	<span class="n">pair</span><span class="o">&lt;</span><span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="p">,</span> <span class="kt">bool</span><span class="o">&gt;</span>  <span class="n">ret</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln"> 5</span>	<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">.</span><span class="n">second</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 6</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;第一次插入成功!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="p">}</span>
<span class="ln"> 8</span>	<span class="k">else</span> <span class="p">{</span>
<span class="ln"> 9</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;第一次插入失败!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">10</span>	<span class="p">}</span>
<span class="ln">11</span>
<span class="ln">12</span>	<span class="n">ret</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">13</span>	<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">.</span><span class="n">second</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">14</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;第二次插入成功!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">15</span>	<span class="p">}</span>
<span class="ln">16</span>	<span class="k">else</span> <span class="p">{</span>
<span class="ln">17</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;第二次插入失败!&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>	<span class="p">}</span>
<span class="ln">19</span>    
<span class="ln">20</span>	<span class="c1">//multiset
</span><span class="ln">21</span><span class="c1"></span>	<span class="n">multiset</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ms</span><span class="p">;</span>
<span class="ln">22</span>	<span class="n">ms</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">23</span>	<span class="n">ms</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">24</span>
<span class="ln">25</span>	<span class="k">for</span> <span class="p">(</span><span class="n">multiset</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">ms</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">ms</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">26</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">it</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln">27</span>	<span class="p">}</span>
<span class="ln">28</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">29</span><span class="p">}</span>
</code></pre></div><h4 id="pair对组创建">pair对组创建</h4>
<p>成对出现的数据，利用对组可以返回两个数据</p>
<ul>
<li><code>pair&lt;type, type&gt; p ( value1, value2 );</code></li>
<li><code>pair&lt;type, type&gt; p = make_pair( value1, value2 );</code></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln">1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">2</span><span class="p">{</span>
<span class="ln">3</span>	<span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="n">string</span><span class="p">(</span><span class="s">&#34;Tom&#34;</span><span class="p">),</span> <span class="mi">20</span><span class="p">);</span>
<span class="ln">4</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名： &#34;</span> <span class="o">&lt;&lt;</span>  <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">5</span>
<span class="ln">6</span>	<span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">make_pair</span><span class="p">(</span><span class="s">&#34;Jerry&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="ln">7</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p2</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">p2</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">8</span><span class="p">}</span>
</code></pre></div><h4 id="set容器排序">set容器排序</h4>
<p>set容器默认排序规则为从小到大，利用仿函数，可以改变排序规则</p>
<p>对于自定义数据类型，set必须指定排序规则才可以插入数据</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">MyCompare</span> 
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>	<span class="kt">bool</span> <span class="k">operator</span><span class="p">()(</span><span class="kt">int</span> <span class="n">v1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">v2</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 5</span>		<span class="k">return</span> <span class="n">v1</span> <span class="o">&gt;</span> <span class="n">v2</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span><span class="p">};</span>
<span class="ln"> 8</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> 
<span class="ln"> 9</span><span class="p">{</span>    
<span class="ln">10</span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s1</span><span class="p">;</span>
<span class="ln">11</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">12</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln">13</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln">14</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">15</span>	<span class="n">s1</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
<span class="ln">16</span>
<span class="ln">17</span>	<span class="c1">//默认从小到大
</span><span class="ln">18</span><span class="c1"></span>	<span class="k">for</span> <span class="p">(</span><span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">s1</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">19</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">it</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln">20</span>	<span class="p">}</span>
<span class="ln">21</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">22</span>
<span class="ln">23</span>	<span class="c1">//指定排序规则
</span><span class="ln">24</span><span class="c1"></span>	<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="n">MyCompare</span><span class="o">&gt;</span> <span class="n">s2</span><span class="p">;</span>
<span class="ln">25</span>	<span class="n">s2</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="ln">26</span>	<span class="n">s2</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="ln">27</span>	<span class="n">s2</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="ln">28</span>	<span class="n">s2</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="ln">29</span>	<span class="n">s2</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
<span class="ln">30</span>
<span class="ln">31</span>	<span class="k">for</span> <span class="p">(</span><span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">MyCompare</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">s2</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">s2</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">32</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">it</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
<span class="ln">33</span>	<span class="p">}</span>
<span class="ln">34</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">35</span><span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="k">class</span> <span class="nc">Person</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 4</span>	<span class="n">Person</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">)</span>
<span class="ln"> 5</span>	<span class="p">{</span>
<span class="ln"> 6</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
<span class="ln"> 7</span>		<span class="k">this</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">=</span> <span class="n">age</span><span class="p">;</span>
<span class="ln"> 8</span>	<span class="p">}</span>
<span class="ln"> 9</span>
<span class="ln">10</span>	<span class="n">string</span> <span class="n">m_Name</span><span class="p">;</span>
<span class="ln">11</span>	<span class="kt">int</span> <span class="n">m_Age</span><span class="p">;</span>
<span class="ln">12</span>
<span class="ln">13</span><span class="p">};</span>
<span class="ln">14</span><span class="k">class</span> <span class="nc">comparePerson</span>
<span class="ln">15</span><span class="p">{</span>
<span class="ln">16</span><span class="k">public</span><span class="o">:</span>
<span class="ln">17</span>	<span class="kt">bool</span> <span class="k">operator</span><span class="p">()(</span><span class="k">const</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Person</span> <span class="o">&amp;</span><span class="n">p2</span><span class="p">)</span>
<span class="ln">18</span>	<span class="p">{</span>
<span class="ln">19</span>		<span class="c1">//按照年龄进行排序  降序
</span><span class="ln">20</span><span class="c1"></span>		<span class="k">return</span> <span class="n">p1</span><span class="p">.</span><span class="n">m_Age</span> <span class="o">&gt;</span> <span class="n">p2</span><span class="p">.</span><span class="n">m_Age</span><span class="p">;</span>
<span class="ln">21</span>	<span class="p">}</span>
<span class="ln">22</span><span class="p">};</span>
<span class="ln">23</span>
<span class="ln">24</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">25</span><span class="p">{</span>
<span class="ln">26</span>	<span class="n">set</span><span class="o">&lt;</span><span class="n">Person</span><span class="p">,</span> <span class="n">comparePerson</span><span class="o">&gt;</span> <span class="n">s</span><span class="p">;</span>
<span class="ln">27</span>
<span class="ln">28</span>	<span class="n">Person</span> <span class="n">p1</span><span class="p">(</span><span class="s">&#34;刘备&#34;</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
<span class="ln">29</span>	<span class="n">Person</span> <span class="n">p2</span><span class="p">(</span><span class="s">&#34;关羽&#34;</span><span class="p">,</span> <span class="mi">27</span><span class="p">);</span>
<span class="ln">30</span>	<span class="n">Person</span> <span class="n">p3</span><span class="p">(</span><span class="s">&#34;张飞&#34;</span><span class="p">,</span> <span class="mi">25</span><span class="p">);</span>
<span class="ln">31</span>	<span class="n">Person</span> <span class="n">p4</span><span class="p">(</span><span class="s">&#34;赵云&#34;</span><span class="p">,</span> <span class="mi">21</span><span class="p">);</span>
<span class="ln">32</span>
<span class="ln">33</span>	<span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
<span class="ln">34</span>	<span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>
<span class="ln">35</span>	<span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">p3</span><span class="p">);</span>
<span class="ln">36</span>	<span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">p4</span><span class="p">);</span>
<span class="ln">37</span>
<span class="ln">38</span>	<span class="k">for</span> <span class="p">(</span><span class="n">set</span><span class="o">&lt;</span><span class="n">Person</span><span class="p">,</span> <span class="n">comparePerson</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span>
<span class="ln">39</span>	<span class="p">{</span>
<span class="ln">40</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;姓名： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">m_Name</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; 年龄： &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">m_Age</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">41</span>	<span class="p">}</span>
<span class="ln">42</span><span class="p">}</span>
</code></pre></div><h3 id="map-multimap容器">map/ multimap容器</h3>
<h4 id="map基本概念">map基本概念</h4>
<ul>
<li>map中所有元素都是pair</li>
<li>pair中第一个元素为key（键值），起到索引作用，第二个元素为value（实值）</li>
<li>所有元素都会根据元素的键值自动排序</li>
<li>map/multimap属于<strong>关联式容器</strong>，底层结构是用二叉树实现。</li>
</ul>
<p>map和multimap<strong>区别</strong>：</p>
<ul>
<li>map不允许容器中有重复key值元素</li>
<li>multimap允许容器中有重复key值元素</li>
</ul>
<h4 id="map构造和赋值">map构造和赋值</h4>
<p><strong>构造：</strong></p>
<ul>
<li><code>map&lt;T1, T2&gt; mp;</code>                     //map默认构造函数:</li>
<li><code>map(const map &amp;mp);</code>             //拷贝构造函数</li>
</ul>
<p><strong>赋值：</strong></p>
<ul>
<li><code>map&amp; operator=(const map &amp;mp);</code>    //重载等号操作符</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">printMap</span><span class="p">(</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="n">m</span><span class="p">)</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="k">for</span> <span class="p">(</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">m</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span>
<span class="ln"> 4</span>	<span class="p">{</span>
<span class="ln"> 5</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;key = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; value = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 6</span>	<span class="p">}</span>
<span class="ln"> 7</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln"> 8</span><span class="p">}</span>
<span class="ln"> 9</span>
<span class="ln">10</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln">11</span><span class="p">{</span>
<span class="ln">12</span>	<span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">m</span><span class="p">;</span> <span class="c1">//默认构造
</span><span class="ln">13</span><span class="c1"></span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
<span class="ln">14</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">));</span>
<span class="ln">15</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">));</span>
<span class="ln">16</span>	<span class="n">printMap</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="ln">17</span>
<span class="ln">18</span>	<span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="n">m2</span><span class="p">(</span><span class="n">m</span><span class="p">);</span> <span class="c1">//拷贝构造
</span><span class="ln">19</span><span class="c1"></span>	<span class="n">printMap</span><span class="p">(</span><span class="n">m2</span><span class="p">);</span>
<span class="ln">20</span>
<span class="ln">21</span>	<span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="n">m3</span><span class="p">;</span>
<span class="ln">22</span>	<span class="n">m3</span> <span class="o">=</span> <span class="n">m2</span><span class="p">;</span> <span class="c1">//赋值
</span><span class="ln">23</span><span class="c1"></span>	<span class="n">printMap</span><span class="p">(</span><span class="n">m3</span><span class="p">);</span>
<span class="ln">24</span><span class="p">}</span>
</code></pre></div><h4 id="map大小和交换">map大小和交换</h4>
<ul>
<li><code>size();</code>          //返回容器中元素的数目</li>
<li><code>empty();</code>        //判断容器是否为空</li>
<li><code>swap(st);</code>      //交换两个集合容器</li>
</ul>
<h4 id="map插入和删除">map插入和删除</h4>
<ul>
<li><code>insert(elem);</code>           //在容器中插入元素。</li>
<li><code>clear();</code>                    //清除所有元素</li>
<li><code>erase(pos);</code>              //删除pos迭代器所指的元素，返回下一个元素的迭代器。</li>
<li><code>erase(beg, end);</code>    //删除区间[beg,end)的所有元素 ，返回下一个元素的迭代器。</li>
<li><code>erase(key);</code>            //删除容器中值为key的元素。</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="c1">//插入
</span><span class="ln"> 4</span><span class="c1"></span>	<span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">m</span><span class="p">;</span>
<span class="ln"> 5</span>	<span class="c1">//第一种插入方式
</span><span class="ln"> 6</span><span class="c1"></span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
<span class="ln"> 7</span>	<span class="c1">//第二种插入方式
</span><span class="ln"> 8</span><span class="c1"></span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">));</span>
<span class="ln"> 9</span>	<span class="c1">//第三种插入方式
</span><span class="ln">10</span><span class="c1"></span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;::</span><span class="n">value_type</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">));</span>
<span class="ln">11</span>	<span class="c1">//第四种插入方式
</span><span class="ln">12</span><span class="c1"></span>	<span class="n">m</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span> 
<span class="ln">13</span>	<span class="n">printMap</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="ln">14</span>
<span class="ln">15</span>	<span class="c1">//删除
</span><span class="ln">16</span><span class="c1"></span>	<span class="n">m</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">begin</span><span class="p">());</span>
<span class="ln">17</span>	<span class="n">printMap</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="ln">18</span>
<span class="ln">19</span>	<span class="n">m</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="ln">20</span>	<span class="n">printMap</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="ln">21</span>
<span class="ln">22</span>	<span class="c1">//清空
</span><span class="ln">23</span><span class="c1"></span>	<span class="n">m</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="n">m</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="ln">24</span>	<span class="n">m</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<span class="ln">25</span>	<span class="n">printMap</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="ln">26</span><span class="p">}</span>
</code></pre></div><h4 id="map查找和统计">map查找和统计</h4>
<ul>
<li><code>find(key);</code>                  //查找key是否存在,若存在，返回该键的元素的迭代器；若不存在，返回set.end();</li>
<li><code>count(key);</code>                //统计key的元素个数</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span>
<span class="ln"> 2</span><span class="p">{</span>
<span class="ln"> 3</span>	<span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="n">m</span><span class="p">;</span> 
<span class="ln"> 4</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
<span class="ln"> 5</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">));</span>
<span class="ln"> 6</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">));</span>
<span class="ln"> 7</span>
<span class="ln"> 8</span>	<span class="c1">//查找
</span><span class="ln"> 9</span><span class="c1"></span>	<span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="ln">10</span>
<span class="ln">11</span>	<span class="k">if</span> <span class="p">(</span><span class="n">pos</span> <span class="o">!=</span> <span class="n">m</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<span class="ln">12</span>	<span class="p">{</span>
<span class="ln">13</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;找到了元素 key = &#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="o">*</span><span class="n">pos</span><span class="p">).</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; value = &#34;</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="o">*</span><span class="n">pos</span><span class="p">).</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">14</span>	<span class="p">}</span>
<span class="ln">15</span>	<span class="k">else</span>
<span class="ln">16</span>	<span class="p">{</span>
<span class="ln">17</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;未找到元素&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">18</span>	<span class="p">}</span>
<span class="ln">19</span>
<span class="ln">20</span>	<span class="c1">//统计
</span><span class="ln">21</span><span class="c1"></span>	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="ln">22</span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;num = &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">23</span><span class="p">}</span>
</code></pre></div><h4 id="map容器排序">map容器排序</h4>
<p>map容器默认排序规则为 按照key值进行 从小到大排序，利用仿函数，可以改变排序规则</p>
<div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="ln"> 1</span><span class="cp">#include</span> <span class="cpf">&lt;map&gt;</span><span class="cp">
</span><span class="ln"> 2</span><span class="cp"></span>
<span class="ln"> 3</span><span class="k">class</span> <span class="nc">MyCompare</span> <span class="p">{</span>
<span class="ln"> 4</span><span class="k">public</span><span class="o">:</span>
<span class="ln"> 5</span>	<span class="kt">bool</span> <span class="k">operator</span><span class="p">()(</span><span class="kt">int</span> <span class="n">v1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">v2</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 6</span>		<span class="k">return</span> <span class="n">v1</span> <span class="o">&gt;</span> <span class="n">v2</span><span class="p">;</span>
<span class="ln"> 7</span>	<span class="p">}</span>
<span class="ln"> 8</span><span class="p">};</span>
<span class="ln"> 9</span>
<span class="ln">10</span><span class="kt">void</span> <span class="nf">test01</span><span class="p">()</span> 
<span class="ln">11</span><span class="p">{</span>
<span class="ln">12</span>	<span class="c1">//默认从小到大排序
</span><span class="ln">13</span><span class="c1"></span>	<span class="c1">//利用仿函数实现从大到小排序
</span><span class="ln">14</span><span class="c1"></span>	<span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="n">MyCompare</span><span class="o">&gt;</span> <span class="n">m</span><span class="p">;</span>
<span class="ln">15</span>
<span class="ln">16</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
<span class="ln">17</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">));</span>
<span class="ln">18</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">));</span>
<span class="ln">19</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">40</span><span class="p">));</span>
<span class="ln">20</span>	<span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">));</span>
<span class="ln">21</span>
<span class="ln">22</span>	<span class="k">for</span> <span class="p">(</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="n">MyCompare</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">m</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">it</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">23</span>		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;key:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; value:&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="ln">24</span>	<span class="p">}</span>
<span class="ln">25</span><span class="p">}</span>
</code></pre></div><h2 id="18stl--函数对象">18.STL- 函数对象</h2>
<h3 id="函数对象">函数对象</h3>
<h4 id="函数对象概念">函数对象概念</h4></div><hr /><div class="post-navs d-flex mb-3 justify-content-between">
  <div class="post-nav w-50"><div class="prev-post btn btn-sm">
      <a href="/posts/tech/java-0-audition-4/">Java面试准备4
</a>
    </div></div>
  <div class="post-nav flex-row-reverse"><div class="next-post btn btn-sm">
      <a href="/posts/tech/media-runnoob-linux/">菜鸟教程Linux教程
</a>
    </div></div>
</div><section class="related-posts">
    <h3>相关文章</h3>
    <ul class="related-posts"><li><a href="/posts/tech/java-6-autoconfiguration/">项目: swagger的自动装配
</a></li><li><a href="/posts/tech/java-5-algorithm/">算法刷题
</a></li><li><a href="/posts/tech/java-4-basic/">Java基础查漏补缺
</a></li><li><a href="/posts/tech/java-2-mysql/">MySQL学习笔记
</a></li><li><a href="/posts/tech/java-3-spring-cloud/">SpringCloud学习笔记
</a></li></ul>
  </section></article>




<div id="vcomments" class="post-comments surface row">
</div>
    <script>
        new Valine({
            el: '#vcomments',
            appId: '18xpdRPZMKmyTjmjtMIK8zyB-gzGzoHsz',
            appKey: 'haH3Ysz9ic7RFcoqbIvPDh8H',
            avatar:'retro',
            visitor:true,
            placeholder:'有什么想说的吗？'

        });

        var count = 0;
        var domTimer = setInterval(function () {
            if (++count > 50) clearInterval(domTimer);
            if (document.querySelector('#veditor')) {
                clearInterval(domTimer);
                var cdraw = new CaveDraw({
                    element: "#veditor",
                    readOnlyMode: false, 
                    afterUpdateEditor: ()=>{ 
                        document.querySelector('#veditor').focus();
                        document.querySelector('#veditor').blur();
                    },
                    controls: ['brush', 'eraser', 'bucket', 'clear', 'undo', 'redo', 'save']
                });
            }
        }, 200);
    </script></div>
</div><aside class="col-lg-4 sidebar d-flex">
  <div class="container"><section class="profile surface row">
  <div class="col-xl-6 d-flex align-items-center justify-content-center">
    <img class="profile-avatar img-fluid" src="/images/profile2.jpg" alt="理想奈" loading="lazy">
  </div>
  <div class="col-xl-6">
    <h5 class="profile-name my-2">理想奈</h5><div class="profile-bio mb-2">行所感所喜所爱所恨.
唯物辨证，知行合一.</div>
    
  </div>
</section><section class="recent-posts row surface">
  <h4>最近文章</h4>
  <ul><li><a href="/posts/other/2024/">2024年终总结和来年展望
</a></li><li><a href="/posts/economy/estimate/">量化交易系统设想
</a></li><li><a href="/posts/economy/beginner/">量化交易初学
</a></li><li><a href="/posts/tech/media-computer-systems/">《深入理解计算机系统》
</a></li><li><a href="/posts/other/physics-computer/">计算机和物理的一点感悟
</a></li><li><a href="/posts/tech/media-ffmpeg/">FFmpeg学习
</a></li><li><a href="/posts/tech/media-pcmu/">pcmu编码
</a></li><li><a href="/posts/tech/media-sox/">Sox基本使用
</a></li><li><a href="/posts/other/human-mind-weekness/">上头与下头与suicide
</a></li><li><a href="/posts/other/everyweek-english/">每周一篇经济学人
</a></li><li><a href="/posts/tech/media-automake/">automake使用
</a></li><li><a href="/posts/tech/media-datastructure/">《数据结构与算法分析: C语言描述》
</a></li><li><a href="/posts/tech/media-lightrtp/">lightrtp学习
</a></li></ul>
</section><section class="taxonomy-categories row surface">
      <h4>
        <a href="/categories">分类</a>
      </h4>
      <div><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="计算机">
          计算机 <span class="badge rounded-pill">35</span>
        </a><a href="/categories/%E4%BA%8C%E6%AC%A1%E5%85%83/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="二次元">
          二次元 <span class="badge rounded-pill">24</span>
        </a><a href="/categories/%E6%99%AE%E9%80%9A%E7%B1%BB/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="普通类">
          普通类 <span class="badge rounded-pill">11</span>
        </a><a href="/categories/%E6%96%87%E5%AD%97%E7%B1%BB/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="文字类">
          文字类 <span class="badge rounded-pill">6</span>
        </a><a href="/categories/%E9%87%91%E8%9E%8D%E5%AD%A6/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="金融学">
          金融学 <span class="badge rounded-pill">2</span>
        </a></div>
    </section><section class="taxonomy-series row surface">
      <h4>
        <a href="/series">专栏</a>
      </h4>
      <div><a href="/series/%E5%8A%A8%E6%BC%AB%E6%AD%8C%E6%9B%B2/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="动漫歌曲">
          动漫歌曲 <span class="badge rounded-pill">21</span>
        </a><a href="/series/%E5%AA%92%E4%BD%93%E5%BC%80%E5%8F%91/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="媒体开发">
          媒体开发 <span class="badge rounded-pill">20</span>
        </a><a href="/series/galgame/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="Galgame">
          Galgame <span class="badge rounded-pill">10</span>
        </a><a href="/series/java/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="Java">
          Java <span class="badge rounded-pill">10</span>
        </a><a href="/series/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="量化交易">
          量化交易 <span class="badge rounded-pill">2</span>
        </a><a href="/series/%E9%9A%8F%E6%84%8F%E6%80%9D%E8%80%83/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="随意思考">
          随意思考 <span class="badge rounded-pill">2</span>
        </a></div>
    </section></div>
</aside>
</div>
    </main><footer class="footer mt-auto py-3 text-center container"><nav class="social-links nav my-2 justify-content-center"></nav>
<div class="copyright mb-2">
  Copyright © 2021-2024 Unaybaryl. All Rights Reserved.
</div>
</footer>
<a id="btnScrollToTop" class="btn-scroll-to-top">
  <i class="fas fa-fw fa-chevron-circle-up fa-2x"></i>
</a>



              
            </body>
</html>
